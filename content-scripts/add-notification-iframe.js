(()=>{"use strict";function e(e,t=10){const n=parseInt(e,t);if(isNaN(n))throw new Error(`'${e}' is not a valid integer value`);return n}function t(e,t){if(null!=t)throw{message:e,data:t};throw new Error("[OGame Tracker] "+e)}const n=document.createElement("iframe");n.id="ogame-tracker-notifications__v2",n.src=function(){const n=chrome.runtime.getURL("/views/notifications.html");var a=function(){const n=function(){const e=function(){const e={};return document.cookie.split(";").forEach((t=>{const[n,a]=t.split("=").map((e=>decodeURIComponent(e.trim())));e[n]=a})),e}().oglocale;return null==e||"undefined"==e?document.querySelector('meta[name="ogame-language"]')?.content??t("Cannot find language meta tag"):e}(),a=(document.querySelector('meta[name="ogame-universe"]')?.content??t("Cannot find universe meta tag")).split(".")[0].split("-"),r=a[0].replace(/^s/,""),o=a[1];return/^\d+$/.test(r)||t("Found ogame universe tag but failed to extract server id from it"),{language:o,userLanguage:n,serverId:e(r,10),playerId:e(document.querySelector('meta[name="ogame-player-id"]')?.content??t("Cannot find player id meta tag"),10)}}();const r={player:a.playerId.toString(),language:a.language,server:a.serverId.toString()};return`${n}?${new URLSearchParams(r)}`}(),document.body.append(n),window.addEventListener("message",(e=>{"ogame-tracker/notification-window-resize"==e.data?.type&&(n.style.setProperty("--width",e.data.width),n.style.setProperty("--height",e.data.height))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC1zY3JpcHRzL2FkZC1ub3RpZmljYXRpb24taWZyYW1lLmpzIiwibWFwcGluZ3MiOiJtQkFBTyxTQUFTQSxFQUFhQyxFQUFjQyxFQUFRLElBQy9DLE1BQU1DLEVBQVFDLFNBQVNILEVBQU1DLEdBQzdCLEdBQUdHLE1BQU1GLEdBQ0wsTUFBTSxJQUFJRyxNQUFNLElBQUlMLG1DQUd4QixPQUFPRSxFQ05KLFNBQVNJLEVBQU9DLEVBQWtCQyxHQUNyQyxHQUFZLE1BQVJBLEVBQ0EsS0FBTSxDQUFFRCxRQUFBQSxFQUFTQyxLQUFBQSxHQUVyQixNQUFNLElBQUlILE1BQU0sbUJBQXFCRSxHQ0V6QyxNQUFNRSxFQUFTQyxTQUFTQyxjQUFjLFVBQ3RDRixFQUFPRyxHQUFLLGtDQUNaSCxFQUFPSSxJQVlQLFdBQ0ksTUFBTUMsRUFBTUMsT0FBT0MsUUFBUUMsT0FBTyw2QkFDbEMsSUFBSUMsRUNRRCxXQUNILE1BQU1DLEVBWFYsV0FDSSxNQUFNQSxFQWpCVixXQUNJLE1BQU1DLEVBQWtDLEdBUXhDLE9BTkFWLFNBQVNXLE9BQU9DLE1BQU0sS0FDakJDLFNBQVFGLElBQ0wsTUFBT0csRUFBS3RCLEdBQVNtQixFQUFPQyxNQUFNLEtBQUtHLEtBQUlDLEdBQUtDLG1CQUFtQkQsRUFBRUUsVUFDckVSLEVBQVFJLEdBQU90QixLQUdoQmtCLEVBUWNTLEdBQXVCLFNBRTVDLE9BQW1CLE1BQWhCVixHQUF3QyxhQUFoQkEsRUFObkJULFNBQVNvQixjQUFjLGdDQUEyREMsU0FBV3pCLEVBQU8saUNBVXJHYSxFQUljYSxHQUdmQyxHQURjdkIsU0FBU29CLGNBQWMsZ0NBQTJEQyxTQUFXekIsRUFBTyxrQ0FDckZnQixNQUFNLEtBQUssR0FBR0EsTUFBTSxLQUNqRFksRUFBZUQsRUFBZ0IsR0FBR0UsUUFBUSxLQUFNLElBQ2hEQyxFQUFXSCxFQUFnQixHQVVqQyxNQVJLLFFBQVFJLEtBQUtILElBQ2Q1QixFQUFPLG9FQU9KLENBQ0g4QixTQUFBQSxFQUNBakIsYUFBQUEsRUFDQW1CLFNBUmF2QyxFQUFhbUMsRUFBYyxJQVN4Q0ssU0FOYXhDLEVBREtXLFNBQVNvQixjQUFjLGlDQUE0REMsU0FBV3pCLEVBQU8sa0NBQy9FLEtEdEJqQ2tDLEdBRVgsTUFBTUMsRUFBb0MsQ0FDdENDLE9BQVF4QixFQUFLcUIsU0FBU0ksV0FDdEJQLFNBQVVsQixFQUFLa0IsU0FDZlEsT0FBUTFCLEVBQUtvQixTQUFTSyxZQUkxQixNQUFPLEdBQUc3QixLQURJLElBQUkrQixnQkFBZ0JKLEtBdEJ6QkssR0FFYnBDLFNBQVNxQyxLQUFLQyxPQUFPdkMsR0FFckJ3QyxPQUFPQyxpQkFBaUIsV0FBV0MsSUVYMEIsNENGWXREQSxFQUFFM0MsTUFBTTRDLE9BQ1AzQyxFQUFPNEMsTUFBTUMsWUFBWSxVQUFXSCxFQUFFM0MsS0FBSytDLE9BQzNDOUMsRUFBTzRDLE1BQU1DLFlBQVksV0FBWUgsRUFBRTNDLEtBQUtnRCxhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2dhbWUtdHJhY2tlci8uL3NyYy9zaGFyZWQvdXRpbHMvcGFyc2VOdW1iZXJzLnRzIiwid2VicGFjazovL29nYW1lLXRyYWNrZXIvLi9zcmMvc2hhcmVkL3V0aWxzL190aHJvdy50cyIsIndlYnBhY2s6Ly9vZ2FtZS10cmFja2VyLy4vc3JjL2NvbnRlbnQtc2NyaXB0cy9hZGQtbm90aWZpY2F0aW9uLWlmcmFtZS9tYWluLnRzIiwid2VicGFjazovL29nYW1lLXRyYWNrZXIvLi9zcmMvc2hhcmVkL29nYW1lLXdlYi9nZXRPZ2FtZU1ldGEudHMiLCJ3ZWJwYWNrOi8vb2dhbWUtdHJhY2tlci8uL3NyYy9zaGFyZWQvbWVzc2FnZXMvY29tbXVuaWNhdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcGFyc2VJbnRTYWZlKHRleHQ6IHN0cmluZywgcmFkaXggPSAxMCk6IG51bWJlciB7XHJcbiAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KHRleHQsIHJhZGl4KTtcclxuICAgIGlmKGlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7dGV4dH0nIGlzIG5vdCBhIHZhbGlkIGludGVnZXIgdmFsdWVgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUZsb2F0U2FmZSh0ZXh0OiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUZsb2F0KHRleHQpO1xyXG4gICAgaWYoaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHt0ZXh0fScgaXMgbm90IGEgdmFsaWQgaW50ZWdlciB2YWx1ZWApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWx1ZTtcclxufSIsImV4cG9ydCBmdW5jdGlvbiBfdGhyb3cobWVzc2FnZT86IHN0cmluZywgZGF0YT86IGFueSk6IG5ldmVyIHtcclxuICAgIGlmIChkYXRhICE9IG51bGwpIHtcclxuICAgICAgICB0aHJvdyB7IG1lc3NhZ2UsIGRhdGEgfTtcclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcignW09HYW1lIFRyYWNrZXJdICcgKyBtZXNzYWdlKTtcclxufSIsImltcG9ydCB7IG9nYW1lVHJhY2tlck5vdGlmaWNhdGlvbldpbmRvd1Jlc2l6ZUV2ZW50TmFtZSB9IGZyb20gXCJAL3NoYXJlZC9tZXNzYWdlcy9jb21tdW5pY2F0aW9uXCI7XHJcbmltcG9ydCB7IF90aHJvdyB9IGZyb20gXCJAL3NoYXJlZC91dGlscy9fdGhyb3dcIjtcclxuXHJcbmltcG9ydCAnLi9zdHlsZXMuc2Nzcyc7XHJcbmltcG9ydCB7IGdldE9nYW1lTWV0YSB9IGZyb20gXCJAL3NoYXJlZC9vZ2FtZS13ZWIvZ2V0T2dhbWVNZXRhXCI7XHJcblxyXG5jb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcclxuaWZyYW1lLmlkID0gJ29nYW1lLXRyYWNrZXItbm90aWZpY2F0aW9uc19fdjInO1xyXG5pZnJhbWUuc3JjID0gZ2V0UGFnZVVybCgpO1xyXG5cclxuZG9jdW1lbnQuYm9keS5hcHBlbmQoaWZyYW1lKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZSA9PiB7XHJcbiAgICBpZihlLmRhdGE/LnR5cGUgPT0gb2dhbWVUcmFja2VyTm90aWZpY2F0aW9uV2luZG93UmVzaXplRXZlbnROYW1lKSB7XHJcbiAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KCctLXdpZHRoJywgZS5kYXRhLndpZHRoKTtcclxuICAgICAgICBpZnJhbWUuc3R5bGUuc2V0UHJvcGVydHkoJy0taGVpZ2h0JywgZS5kYXRhLmhlaWdodCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFBhZ2VVcmwoKSB7XHJcbiAgICBjb25zdCB1cmwgPSBjaHJvbWUucnVudGltZS5nZXRVUkwoJy92aWV3cy9ub3RpZmljYXRpb25zLmh0bWwnKTtcclxuICAgIHZhciBtZXRhID0gZ2V0T2dhbWVNZXRhKCk7XHJcblxyXG4gICAgY29uc3QgcXVlcnlEYXRhOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICAgIHBsYXllcjogbWV0YS5wbGF5ZXJJZC50b1N0cmluZygpLFxyXG4gICAgICAgIGxhbmd1YWdlOiBtZXRhLmxhbmd1YWdlLFxyXG4gICAgICAgIHNlcnZlcjogbWV0YS5zZXJ2ZXJJZC50b1N0cmluZygpLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBxdWVyeSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlEYXRhKTtcclxuICAgIHJldHVybiBgJHt1cmx9PyR7cXVlcnl9YDtcclxufSIsImltcG9ydCB7IE1lc3NhZ2VPZ2FtZU1ldGEgfSBmcm9tIFwiLi4vbWVzc2FnZXMvTWVzc2FnZVwiO1xyXG5pbXBvcnQgeyBwYXJzZUludFNhZmUgfSBmcm9tIFwiLi4vdXRpbHMvcGFyc2VOdW1iZXJzXCI7XHJcbmltcG9ydCB7IF90aHJvdyB9IGZyb20gXCIuLi91dGlscy9fdGhyb3dcIjtcclxuXHJcbmZ1bmN0aW9uIGdldENvb2tpZXMoKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XHJcbiAgICBjb25zdCBjb29raWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XHJcblxyXG4gICAgZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JylcclxuICAgICAgICAuZm9yRWFjaChjb29raWUgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBjb29raWUuc3BsaXQoJz0nKS5tYXAoeCA9PiBkZWNvZGVVUklDb21wb25lbnQoeC50cmltKCkpKTtcclxuICAgICAgICAgICAgY29va2llc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGNvb2tpZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldExhbmd1YWdlTWV0YSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJvZ2FtZS1sYW5ndWFnZVwiXScpIGFzIEhUTUxNZXRhRWxlbWVudCB8IG51bGwpPy5jb250ZW50ID8/IF90aHJvdygnQ2Fubm90IGZpbmQgbGFuZ3VhZ2UgbWV0YSB0YWcnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VXNlckxhbmd1YWdlKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCB1c2VyTGFuZ3VhZ2UgPSBnZXRDb29raWVzKClbJ29nbG9jYWxlJ107XHJcbiAgICBcclxuICAgIGlmKHVzZXJMYW5ndWFnZSA9PSBudWxsIHx8IHVzZXJMYW5ndWFnZSA9PSAndW5kZWZpbmVkJykgeyAvLyB5ZXMsIGl0J3MgYWN0dWFsbHkgYSBzdHJpbmcgd2l0aCAndW5kZWZpbmVkJyBpZiB5b3Ugc2F2ZSB5b3VyIHNldHRpbmdzIHdoaWxlIGluIHZtb2RlXHJcbiAgICAgICAgcmV0dXJuIGdldExhbmd1YWdlTWV0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB1c2VyTGFuZ3VhZ2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRPZ2FtZU1ldGEoKTogTWVzc2FnZU9nYW1lTWV0YSB7XHJcbiAgICBjb25zdCB1c2VyTGFuZ3VhZ2UgPSBnZXRVc2VyTGFuZ3VhZ2UoKTtcclxuXHJcbiAgICBjb25zdCBzZXJ2ZXJUZXh0ID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cIm9nYW1lLXVuaXZlcnNlXCJdJykgYXMgSFRNTE1ldGFFbGVtZW50IHwgbnVsbCk/LmNvbnRlbnQgPz8gX3Rocm93KCdDYW5ub3QgZmluZCB1bml2ZXJzZSBtZXRhIHRhZycpO1xyXG4gICAgY29uc3Qgc2VydmVyVGV4dFNwbGl0ID0gc2VydmVyVGV4dC5zcGxpdCgnLicpWzBdLnNwbGl0KCctJyk7XHJcbiAgICBjb25zdCBzZXJ2ZXJJZFRleHQgPSBzZXJ2ZXJUZXh0U3BsaXRbMF0ucmVwbGFjZSgvXnMvLCAnJyk7XHJcbiAgICBjb25zdCBsYW5ndWFnZSA9IHNlcnZlclRleHRTcGxpdFsxXTtcclxuICAgIFxyXG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KHNlcnZlcklkVGV4dCkpIHtcclxuICAgICAgICBfdGhyb3coJ0ZvdW5kIG9nYW1lIHVuaXZlcnNlIHRhZyBidXQgZmFpbGVkIHRvIGV4dHJhY3Qgc2VydmVyIGlkIGZyb20gaXQnKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHNlcnZlcklkID0gcGFyc2VJbnRTYWZlKHNlcnZlcklkVGV4dCwgMTApO1xyXG5cclxuICAgIGNvbnN0IHBsYXllcklkVGV4dCA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJvZ2FtZS1wbGF5ZXItaWRcIl0nKSBhcyBIVE1MTWV0YUVsZW1lbnQgfCBudWxsKT8uY29udGVudCA/PyBfdGhyb3coJ0Nhbm5vdCBmaW5kIHBsYXllciBpZCBtZXRhIHRhZycpO1xyXG4gICAgY29uc3QgcGxheWVySWQgPSBwYXJzZUludFNhZmUocGxheWVySWRUZXh0LCAxMCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBsYW5ndWFnZSxcclxuICAgICAgICB1c2VyTGFuZ3VhZ2UsXHJcbiAgICAgICAgc2VydmVySWQsXHJcbiAgICAgICAgcGxheWVySWQsXHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGNvbnN0IG9nYW1lVHJhY2tlckNsb3NlRGlhbG9nRXZlbnROYW1lID0gJ29nYW1lLXRyYWNrZXIvY2xvc2UtZGlhbG9nJztcclxuZXhwb3J0IGNvbnN0IG9nYW1lVHJhY2tlck5vdGlmaWNhdGlvbldpbmRvd1Jlc2l6ZUV2ZW50TmFtZSA9ICdvZ2FtZS10cmFja2VyL25vdGlmaWNhdGlvbi13aW5kb3ctcmVzaXplJzsiXSwibmFtZXMiOlsicGFyc2VJbnRTYWZlIiwidGV4dCIsInJhZGl4IiwidmFsdWUiLCJwYXJzZUludCIsImlzTmFOIiwiRXJyb3IiLCJfdGhyb3ciLCJtZXNzYWdlIiwiZGF0YSIsImlmcmFtZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlkIiwic3JjIiwidXJsIiwiY2hyb21lIiwicnVudGltZSIsImdldFVSTCIsIm1ldGEiLCJ1c2VyTGFuZ3VhZ2UiLCJjb29raWVzIiwiY29va2llIiwic3BsaXQiLCJmb3JFYWNoIiwia2V5IiwibWFwIiwieCIsImRlY29kZVVSSUNvbXBvbmVudCIsInRyaW0iLCJnZXRDb29raWVzIiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJnZXRVc2VyTGFuZ3VhZ2UiLCJzZXJ2ZXJUZXh0U3BsaXQiLCJzZXJ2ZXJJZFRleHQiLCJyZXBsYWNlIiwibGFuZ3VhZ2UiLCJ0ZXN0Iiwic2VydmVySWQiLCJwbGF5ZXJJZCIsImdldE9nYW1lTWV0YSIsInF1ZXJ5RGF0YSIsInBsYXllciIsInRvU3RyaW5nIiwic2VydmVyIiwiVVJMU2VhcmNoUGFyYW1zIiwiZ2V0UGFnZVVybCIsImJvZHkiLCJhcHBlbmQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInR5cGUiLCJzdHlsZSIsInNldFByb3BlcnR5Iiwid2lkdGgiLCJoZWlnaHQiXSwic291cmNlUm9vdCI6IiJ9