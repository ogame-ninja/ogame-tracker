(()=>{"use strict";function e(){const e=chrome.runtime.lastError?.message;if(!["Receiving end does not exist.","The message port closed before a response was received."].some((t=>e?.includes(t)??!1)))throw chrome.runtime.lastError}function t(t){chrome.runtime.sendMessage(t,e)}var r;function n(e,t=10){const r=parseInt(e,t);if(isNaN(r))throw new Error(`'${e}' is not a valid integer value`);return r}function a(e,t){if(null!=t)throw{message:e,data:t};throw new Error("[OGame Tracker] "+e)}function i(){const e=function(){const e=function(){const e={};return document.cookie.split(";").forEach((t=>{const[r,n]=t.split("=").map((e=>decodeURIComponent(e.trim())));e[r]=n})),e}().oglocale;return null==e||"undefined"==e?document.querySelector('meta[name="ogame-language"]')?.content??a("Cannot find language meta tag"):e}(),t=(document.querySelector('meta[name="ogame-universe"]')?.content??a("Cannot find universe meta tag")).split(".")[0].split("-"),r=t[0].replace(/^s/,""),i=t[1];return/^\d+$/.test(r)||a("Found ogame universe tag but failed to extract server id from it"),{language:i,userLanguage:e,serverId:n(r,10),playerId:n(document.querySelector('meta[name="ogame-player-id"]')?.content??a("Cannot find player id meta tag"),10)}}!function(e){e.StayAlive="internal/stay-alive",e.DropDatabaseConnections="internal/drop-db-connections",e.Notification="notification",e.TrackExpedition="expedition/track-expedition",e.Expedition="expedition/single",e.NewExpedition="expedition/new",e.DebrisFieldReport="debris-fields/single",e.NewDebrisFieldReport="debris-fields/new",e.TrackDebrisFieldReport="debris-fields/track",e.TrackManualDebrisFieldReport="debris-fields/track-manually",e.CombatReport="combat-reports/single",e.NewCombatReport="combat-reports/new",e.TrackCombatReport="combat-reports/track",e.RequestSingleCombatReport="combat-reports/request-single-report",e.CombatReportUnknown="combat-reports/is-unknown",e.WillNotBeTracked="message-tracking/no-tracking",e.TrackingError="message-tracking/error",e.UpdatePlanetData="empire/update-planet-data",e.UpdatePlanetActiveItems="empire/update-active-items",e.UpdatePlanetBuildingLevels="empire/update-buildings-levels",e.UpdateResearchLevels="empire/update-research-levels",e.UpdatePlanetShipCounts="empire/update-planet-ships",e.UpdatePlanetDefenseCounts="empire/update-planet-defenses",e.UpdatePlanetMissileCounts="empire/update-planet-missiles",e.UpdateActiveOfficers="empire/update-active-officers",e.UpdatePlayerClass="empire/update-player-class",e.UpdateAllianceClass="empire/update-alliance-class",e.UpdatePlanetProductionSettings="empire/update-planet-production-settings",e.UpdateFleets="empire/fleets",e.NotifyEmpireDataUpdate="empire/notify-update",e.RequestSettings="settings/request-data",e.Settings="settings/data",e.NotifySettingsUpdate="settings/notify-update",e.NotifyUniverseHistoryUpdate="universe-history/notify-update",e.NotifyServerSettingsUpdate="server-settings/notify-update",e.ForceUpdateServerSettings="server-settings/force-update",e.UpdatePlayerName="accounts/update-player-name",e.UpdateUniverseName="universes/update-universe-name",e.NotifyUniverseSpecificSettingsUpdate="universe-specific-settings/notify-update",e.UpdateLifeformExperience="lifeforms/update-lifeform-experience",e.UpdateSelectedLifeform="lifeforms/update-selected-lifeform",e.UpdatePlanetActiveLifeformBuildingLevels="lifeforms/update-active-building-levels",e.UpdatePlanetLifeformBuildingLevels="lifeforms/update-all-building-levels",e.UpdatePlanetActiveLifeformTechnologyLevels="lifeforms/update-active-technology-levels",e.UpdatePlanetLifeformTechnologyLevels="lifeforms/update-all-technology-levels",e.TrackLifeformDiscovery="lifeforms/track-discovery",e.LifeformDiscovery="lifeforms/discovery",e.NewLifeformDiscovery="lifeforms/new-discovery"}(r||(r={}));const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&o.test(e)};for(var c=[],l=0;l<256;++l)c.push((l+256).toString(16).substr(1));function d(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function p(e,t){return e<<t|e>>>32-t}var u=function(e,t,r){function n(e,t,n,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof t&&(t=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}(t)),16!==t.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var i=new Uint8Array(16+e.length);if(i.set(t),i.set(e,t.length),(i=r(i))[6]=15&i[6]|80,i[8]=63&i[8]|128,n){a=a||0;for(var o=0;o<16;++o)n[a+o]=i[o];return n}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r}(i)}try{n.name="v5"}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}(0,0,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var a=0;a<n.length;++a)e.push(n.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,o=Math.ceil(i/16),s=new Array(o),c=0;c<o;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];s[c]=l}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<o;++f){for(var m=new Uint32Array(80),g=0;g<16;++g)m[g]=s[f][g];for(var v=16;v<80;++v)m[v]=p(m[v-3]^m[v-8]^m[v-14]^m[v-16],1);for(var y=r[0],U=r[1],h=r[2],b=r[3],w=r[4],k=0;k<80;++k){var S=Math.floor(k/20),C=p(y,5)+d(S,U,h,b)+w+t[S]+m[k]>>>0;w=b,b=h,h=p(U,30)>>>0,U=y,y=C}r[0]=r[0]+y>>>0,r[1]=r[1]+U>>>0,r[2]=r[2]+h>>>0,r[3]=r[3]+b>>>0,r[4]=r[4]+w>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}));const f=u,m="774522d3-7912-4e5c-b55b-e17198620b32",g=(f("service-worker",m),f("message-tracking",m),f("empire-tracking",m),f("universe-account-tracking",m)),v=(f("internal",m),new MutationObserver((()=>{null!=document.querySelector("body")&&(v.disconnect(),function(){const e=document.querySelector('meta[name="ogame-universe-name"]')?.content??a("no universe name meta found");t({type:r.UpdateUniverseName,ogameMeta:i(),data:e,senderUuid:g})}(),function(){const e=document.querySelector('meta[name="ogame-player-name"]')?.content??a("no player name meta found");t({type:r.UpdatePlayerName,ogameMeta:i(),data:e,senderUuid:g})}())})));v.observe(document.documentElement,{childList:!0,subtree:!0})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC1zY3JpcHRzL3VuaXZlcnNlLWFuZC1hY2NvdW50LXRyYWNraW5nLmpzIiwibWFwcGluZ3MiOiJtQkFBTyxTQUFTQSxJQUNaLE1BQU1DLEVBQVVDLE9BQU9DLFFBQVFDLFdBQVdILFFBQzFDLElBQUssQ0FDRCxnQ0FDQSwyREFDRkksTUFBS0MsR0FBU0wsR0FBU00sU0FBU0QsS0FBVSxJQUN4QyxNQUFNSixPQUFPQyxRQUFRQyxVQ0Z0QixTQUFTSSxFQUFrRFAsR0FDOURDLE9BQU9DLFFBQVFLLFlBQVlQLEVBQVNELEdDTHhDLElBQVlTLEVDQUwsU0FBU0MsRUFBYUMsRUFBY0MsRUFBUSxJQUMvQyxNQUFNQyxFQUFRQyxTQUFTSCxFQUFNQyxHQUM3QixHQUFHRyxNQUFNRixHQUNMLE1BQU0sSUFBSUcsTUFBTSxJQUFJTCxtQ0FHeEIsT0FBT0UsRUNOSixTQUFTSSxFQUFPaEIsRUFBa0JpQixHQUNyQyxHQUFZLE1BQVJBLEVBQ0EsS0FBTSxDQUFFakIsUUFBQUEsRUFBU2lCLEtBQUFBLEdBRXJCLE1BQU0sSUFBSUYsTUFBTSxtQkFBcUJmLEdDMEJsQyxTQUFTa0IsSUFDWixNQUFNQyxFQVhWLFdBQ0ksTUFBTUEsRUFqQlYsV0FDSSxNQUFNQyxFQUFrQyxHQVF4QyxPQU5BQyxTQUFTQyxPQUFPQyxNQUFNLEtBQ2pCQyxTQUFRRixJQUNMLE1BQU9HLEVBQUtiLEdBQVNVLEVBQU9DLE1BQU0sS0FBS0csS0FBSUMsR0FBS0MsbUJBQW1CRCxFQUFFRSxVQUNyRVQsRUFBUUssR0FBT2IsS0FHaEJRLEVBUWNVLEdBQXVCLFNBRTVDLE9BQW1CLE1BQWhCWCxHQUF3QyxhQUFoQkEsRUFObkJFLFNBQVNVLGNBQWMsZ0NBQTJEQyxTQUFXaEIsRUFBTyxpQ0FVckdHLEVBSWNjLEdBR2ZDLEdBRGNiLFNBQVNVLGNBQWMsZ0NBQTJEQyxTQUFXaEIsRUFBTyxrQ0FDckZPLE1BQU0sS0FBSyxHQUFHQSxNQUFNLEtBQ2pEWSxFQUFlRCxFQUFnQixHQUFHRSxRQUFRLEtBQU0s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aUJBQ2xCSixVQUFXbEcsSUFDWEQsS0FBTXNHLEVBQ05GLFdBQVlSLElBMUJaWSxRQUdSWCxFQUFTWSxRQUFRckcsU0FBU3NHLGdCQUFpQixDQUFFQyxXQUFXLEVBQU1DLFNBQVMsSyIsInNvdXJjZXMiOlsid2VicGFjazovL29nYW1lLXRyYWNrZXIvLi9zcmMvc2hhcmVkL2NvbW11bmljYXRpb24vaWdub3JlU3R1cGlkTWVzc2FnZVBvcnRFcnJvcnMudHMiLCJ3ZWJwYWNrOi8vb2dhbWUtdHJhY2tlci8uL3NyYy9zaGFyZWQvY29tbXVuaWNhdGlvbi9zZW5kTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9vZ2FtZS10cmFja2VyLy4vc3JjL3NoYXJlZC9tZXNzYWdlcy9NZXNzYWdlVHlwZS50cyIsIndlYnBhY2s6Ly9vZ2FtZS10cmFja2VyLy4vc3JjL3NoYXJlZC91dGlscy9wYXJzZU51bWJlcnMudHMiLCJ3ZWJwYWNrOi8vb2dhbWUtdHJhY2tlci8uL3NyYy9zaGFyZWQvdXRpbHMvX3Rocm93LnRzIiwid2VicGFjazovL29nYW1lLXRyYWNrZXIvLi9zcmMvc2hhcmVkL29nYW1lLXdlYi9nZXRPZ2FtZU1ldGEudHMiLCJ3ZWJwYWNrOi8vb2dhbWUtdHJhY2tlci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanMiLCJ3ZWJwYWNrOi8vb2dhbWUtdHJhY2tlci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmFsaWRhdGUuanMiLCJ3ZWJwYWNrOi8vb2dhbWUtdHJhY2tlci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovL29nYW1lLXRyYWNrZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3NoYTEuanMiLCJ3ZWJwYWNrOi8vb2dhbWUtdHJhY2tlci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjUuanMiLCJ3ZWJwYWNrOi8vb2dhbWUtdHJhY2tlci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjM1LmpzIiwid2VicGFjazovL29nYW1lLXRyYWNrZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3BhcnNlLmpzIiwid2VicGFjazovL29nYW1lLXRyYWNrZXIvLi9zcmMvc2hhcmVkL3V1aWQvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vb2dhbWUtdHJhY2tlci8uL3NyYy9jb250ZW50LXNjcmlwdHMvdW5pdmVyc2UtYW5kLWFjY291bnQtdHJhY2tpbmcvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaWdub3JlU3R1cGlkTWVzc2FnZVBvcnRFcnJvcnMoKSB7XHJcbiAgICBjb25zdCBtZXNzYWdlID0gY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yPy5tZXNzYWdlO1xyXG4gICAgaWYgKCFbXHJcbiAgICAgICAgJ1JlY2VpdmluZyBlbmQgZG9lcyBub3QgZXhpc3QuJyxcclxuICAgICAgICAnVGhlIG1lc3NhZ2UgcG9ydCBjbG9zZWQgYmVmb3JlIGEgcmVzcG9uc2Ugd2FzIHJlY2VpdmVkLidcclxuICAgIF0uc29tZShlcnJvciA9PiBtZXNzYWdlPy5pbmNsdWRlcyhlcnJvcikgPz8gZmFsc2UpKSB7XHJcbiAgICAgICAgdGhyb3cgY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTm9EYXRhTWVzc2FnZSB9IGZyb20gXCIuLi9tZXNzYWdlcy9NZXNzYWdlXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSBcIi4uL21lc3NhZ2VzL01lc3NhZ2VUeXBlXCI7XHJcbmltcG9ydCB7IGlnbm9yZVN0dXBpZE1lc3NhZ2VQb3J0RXJyb3JzIH0gZnJvbSBcIi4vaWdub3JlU3R1cGlkTWVzc2FnZVBvcnRFcnJvcnNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWVzc2FnZTxUIGV4dGVuZHMgTm9EYXRhTWVzc2FnZTxNZXNzYWdlVHlwZT4+KG1lc3NhZ2U6IFQpIHtcclxuICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKG1lc3NhZ2UsIGlnbm9yZVN0dXBpZE1lc3NhZ2VQb3J0RXJyb3JzKTtcclxufSIsImV4cG9ydCBlbnVtIE1lc3NhZ2VUeXBlIHtcclxuICAgIFN0YXlBbGl2ZSA9ICdpbnRlcm5hbC9zdGF5LWFsaXZlJyxcclxuICAgIERyb3BEYXRhYmFzZUNvbm5lY3Rpb25zID0gJ2ludGVybmFsL2Ryb3AtZGItY29ubmVjdGlvbnMnLFxyXG5cclxuICAgIC8vIG5vdGlmaWNhdGlvbnNcclxuICAgIE5vdGlmaWNhdGlvbiA9ICdub3RpZmljYXRpb24nLFxyXG4gICAgXHJcbiAgICAvLyBleHBlZGl0aW9uc1xyXG4gICAgVHJhY2tFeHBlZGl0aW9uID0gJ2V4cGVkaXRpb24vdHJhY2stZXhwZWRpdGlvbicsXHJcbiAgICBFeHBlZGl0aW9uID0gJ2V4cGVkaXRpb24vc2luZ2xlJyxcclxuICAgIE5ld0V4cGVkaXRpb24gPSAnZXhwZWRpdGlvbi9uZXcnLFxyXG5cclxuICAgIC8vIGRlYnJpcyBmaWVsZCByZXBvcnRzXHJcbiAgICBEZWJyaXNGaWVsZFJlcG9ydCA9ICdkZWJyaXMtZmllbGRzL3NpbmdsZScsXHJcbiAgICBOZXdEZWJyaXNGaWVsZFJlcG9ydCA9ICdkZWJyaXMtZmllbGRzL25ldycsXHJcbiAgICBUcmFja0RlYnJpc0ZpZWxkUmVwb3J0ID0gJ2RlYnJpcy1maWVsZHMvdHJhY2snLFxyXG4gICAgVHJhY2tNYW51YWxEZWJyaXNGaWVsZFJlcG9ydCA9ICdkZWJyaXMtZmllbGRzL3RyYWNrLW1hbnVhbGx5JyxcclxuXHJcbiAgICAvLyBjb21iYXQgcmVwb3J0c1xyXG4gICAgQ29tYmF0UmVwb3J0ID0gJ2NvbWJhdC1yZXBvcnRzL3NpbmdsZScsXHJcbiAgICBOZXdDb21iYXRSZXBvcnQgPSAnY29tYmF0LXJlcG9ydHMvbmV3JyxcclxuICAgIFRyYWNrQ29tYmF0UmVwb3J0ID0gJ2NvbWJhdC1yZXBvcnRzL3RyYWNrJyxcclxuICAgIFJlcXVlc3RTaW5nbGVDb21iYXRSZXBvcnQgPSAnY29tYmF0LXJlcG9ydHMvcmVxdWVzdC1zaW5nbGUtcmVwb3J0JyxcclxuICAgIENvbWJhdFJlcG9ydFVua25vd24gPSAnY29tYmF0LXJlcG9ydHMvaXMtdW5rbm93bicsXHJcblxyXG4gICAgLy8gbWVzc2FnZSB0cmFja2luZ1xyXG4gICAgV2lsbE5vdEJlVHJhY2tlZCA9ICdtZXNzYWdlLXRyYWNraW5nL25vLXRyYWNraW5nJywgLy8gbWVzc2FnZSB3aWxsIG5vdCBiZSB0cmFja2VkIGJlY2F1c2UgaXQgaXMgaWdub3JlZCBmb3Igc29tZSByZWFzb24gKGUuZy4gZXNwaW9uYWdlIGNvbWJhdHMpXHJcbiAgICBUcmFja2luZ0Vycm9yID0gJ21lc3NhZ2UtdHJhY2tpbmcvZXJyb3InLFxyXG5cclxuICAgIC8vIGVtcGlyZSB0cmFja2luZ1xyXG4gICAgVXBkYXRlUGxhbmV0RGF0YSA9ICdlbXBpcmUvdXBkYXRlLXBsYW5ldC1kYXRhJyxcclxuICAgIFVwZGF0ZVBsYW5ldEFjdGl2ZUl0ZW1zID0gJ2VtcGlyZS91cGRhdGUtYWN0aXZlLWl0ZW1zJyxcclxuICAgIFVwZGF0ZVBsYW5ldEJ1aWxkaW5nTGV2ZWxzID0gJ2VtcGlyZS91cGRhdGUtYnVpbGRpbmdzLWxldmVscycsXHJcbiAgICBVcGRhdGVSZXNlYXJjaExldmVscyA9ICdlbXBpcmUvdXBkYXRlLXJlc2VhcmNoLWxldmVscycsXHJcbiAgICBVcGRhdGVQbGFuZXRTaGlwQ291bnRzID0gJ2VtcGlyZS91cGRhdGUtcGxhbmV0LXNoaXBzJyxcclxuICAgIFVwZGF0ZVBsYW5ldERlZmVuc2VDb3VudHMgPSAnZW1waXJlL3VwZGF0ZS1wbGFuZXQtZGVmZW5zZXMnLFxyXG4gICAgVXBkYXRlUGxhbmV0TWlzc2lsZUNvdW50cyA9ICdlbXBpcmUvdXBkYXRlLXBsYW5ldC1taXNzaWxlcycsXHJcbiAgICBVcGRhdGVBY3RpdmVPZmZpY2VycyA9ICdlbXBpcmUvdXBkYXRlLWFjdGl2ZS1vZmZpY2VycycsXHJcbiAgICBVcGRhdGVQbGF5ZXJDbGFzcyA9ICdlbXBpcmUvdXBkYXRlLXBsYXllci1jbGFzcycsXHJcbiAgICBVcGRhdGVBbGxpYW5jZUNsYXNzID0gJ2VtcGlyZS91cGRhdGUtYWxsaWFuY2UtY2xhc3MnLFxyXG4gICAgVXBkYXRlUGxhbmV0UHJvZHVjdGlvblNldHRpbmdzID0gJ2VtcGlyZS91cGRhdGUtcGxhbmV0LXByb2R1Y3Rpb24tc2V0dGluZ3MnLFxyXG4gICAgVXBkYXRlRmxlZXRzID0gJ2VtcGlyZS9mbGVldHMnLFxyXG4gICAgTm90aWZ5RW1waXJlRGF0YVVwZGF0ZSA9ICdlbXBpcmUvbm90aWZ5LXVwZGF0ZScsXHJcblxyXG4gICAgLy8gc2V0dGluZ3NcclxuICAgIFJlcXVlc3RTZXR0aW5ncyA9ICdzZXR0aW5ncy9yZXF1ZXN0LWRhdGEnLFxyXG4gICAgU2V0dGluZ3MgPSAnc2V0dGluZ3MvZGF0YScsXHJcbiAgICBOb3RpZnlTZXR0aW5nc1VwZGF0ZSA9ICdzZXR0aW5ncy9ub3RpZnktdXBkYXRlJyxcclxuXHJcbiAgICAvLyB1bml2ZXJzZSBoaXN0b3J5XHJcbiAgICBOb3RpZnlVbml2ZXJzZUhpc3RvcnlVcGRhdGUgPSAndW5pdmVyc2UtaGlzdG9yeS9ub3RpZnktdXBkYXRlJyxcclxuXHJcbiAgICAvLyBzZXJ2ZXIgc2V0dGluZ3NcclxuICAgIE5vdGlmeVNlcnZlclNldHRpbmdzVXBkYXRlID0gJ3NlcnZlci1zZXR0aW5ncy9ub3RpZnktdXBkYXRlJyxcclxuICAgIEZvcmNlVXBkYXRlU2VydmVyU2V0dGluZ3MgPSAnc2VydmVyLXNldHRpbmdzL2ZvcmNlLXVwZGF0ZScsXHJcblxyXG4gICAgLy8gYWNjb3VudHMgJiB1bml2ZXJzZXNcclxuICAgIFVwZGF0ZVBsYXllck5hbWUgPSAnYWNjb3VudHMvdXBkYXRlLXBsYXllci1uYW1lJyxcclxuICAgIFVwZGF0ZVVuaXZlcnNlTmFtZSA9ICd1bml2ZXJzZXMvdXBkYXRlLXVuaXZlcnNlLW5hbWUnLCBcclxuXHJcbiAgICAvLyBVbml2ZXJzZS1zcGVjaWZpYyBzZXR0aW5nc1xyXG4gICAgTm90aWZ5VW5pdmVyc2VTcGVjaWZpY1NldHRpbmdzVXBkYXRlID0gJ3VuaXZlcnNlLXNwZWNpZmljLXNldHRpbmdzL25vdGlmeS11cGRhdGUnLFxyXG5cclxuICAgIC8vIGxpZmVmb3Jtc1xyXG4gICAgVXBkYXRlTGlmZWZvcm1FeHBlcmllbmNlID0gJ2xpZmVmb3Jtcy91cGRhdGUtbGlmZWZvcm0tZXhwZXJpZW5jZScsXHJcbiAgICBVcGRhdGVTZWxlY3RlZExpZmVmb3JtID0gJ2xpZmVmb3Jtcy91cGRhdGUtc2VsZWN0ZWQtbGlmZWZvcm0nLFxyXG4gICAgVXBkYXRlUGxhbmV0QWN0aXZlTGlmZWZvcm1CdWlsZGluZ0xldmVscyA9ICdsaWZlZm9ybXMvdXBkYXRlLWFjdGl2ZS1idWlsZGluZy1sZXZlbHMnLFxyXG4gICAgVXBkYXRlUGxhbmV0TGlmZWZvcm1CdWlsZGluZ0xldmVscyA9ICdsaWZlZm9ybXMvdXBkYXRlLWFsbC1idWlsZGluZy1sZXZlbHMnLFxyXG4gICAgVXBkYXRlUGxhbmV0QWN0aXZlTGlmZWZvcm1UZWNobm9sb2d5TGV2ZWxzID0gJ2xpZmVmb3Jtcy91cGRhdGUtYWN0aXZlLXRlY2hub2xvZ3ktbGV2ZWxzJyxcclxuICAgIFVwZGF0ZVBsYW5ldExpZmVmb3JtVGVjaG5vbG9neUxldmVscyA9ICdsaWZlZm9ybXMvdXBkYXRlLWFsbC10ZWNobm9sb2d5LWxldmVscycsXHJcbiAgICBUcmFja0xpZmVmb3JtRGlzY292ZXJ5ID0gJ2xpZmVmb3Jtcy90cmFjay1kaXNjb3ZlcnknLFxyXG4gICAgTGlmZWZvcm1EaXNjb3ZlcnkgPSAnbGlmZWZvcm1zL2Rpc2NvdmVyeScsXHJcbiAgICBOZXdMaWZlZm9ybURpc2NvdmVyeSA9ICdsaWZlZm9ybXMvbmV3LWRpc2NvdmVyeScsXHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSW50U2FmZSh0ZXh0OiBzdHJpbmcsIHJhZGl4ID0gMTApOiBudW1iZXIge1xyXG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUludCh0ZXh0LCByYWRpeCk7XHJcbiAgICBpZihpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke3RleHR9JyBpcyBub3QgYSB2YWxpZCBpbnRlZ2VyIHZhbHVlYCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VGbG9hdFNhZmUodGV4dDogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdCh0ZXh0KTtcclxuICAgIGlmKGlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7dGV4dH0nIGlzIG5vdCBhIHZhbGlkIGludGVnZXIgdmFsdWVgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gX3Rocm93KG1lc3NhZ2U/OiBzdHJpbmcsIGRhdGE/OiBhbnkpOiBuZXZlciB7XHJcbiAgICBpZiAoZGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgdGhyb3cgeyBtZXNzYWdlLCBkYXRhIH07XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1tPR2FtZSBUcmFja2VyXSAnICsgbWVzc2FnZSk7XHJcbn0iLCJpbXBvcnQgeyBNZXNzYWdlT2dhbWVNZXRhIH0gZnJvbSBcIi4uL21lc3NhZ2VzL01lc3NhZ2VcIjtcclxuaW1wb3J0IHsgcGFyc2VJbnRTYWZlIH0gZnJvbSBcIi4uL3V0aWxzL3BhcnNlTnVtYmVyc1wiO1xyXG5pbXBvcnQgeyBfdGhyb3cgfSBmcm9tIFwiLi4vdXRpbHMvX3Rocm93XCI7XHJcblxyXG5mdW5jdGlvbiBnZXRDb29raWVzKCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xyXG4gICAgY29uc3QgY29va2llczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG5cclxuICAgIGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpXHJcbiAgICAgICAgLmZvckVhY2goY29va2llID0+IHtcclxuICAgICAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gY29va2llLnNwbGl0KCc9JykubWFwKHggPT4gZGVjb2RlVVJJQ29tcG9uZW50KHgudHJpbSgpKSk7XHJcbiAgICAgICAgICAgIGNvb2tpZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBjb29raWVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMYW5ndWFnZU1ldGEoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwib2dhbWUtbGFuZ3VhZ2VcIl0nKSBhcyBIVE1MTWV0YUVsZW1lbnQgfCBudWxsKT8uY29udGVudCA/PyBfdGhyb3coJ0Nhbm5vdCBmaW5kIGxhbmd1YWdlIG1ldGEgdGFnJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFVzZXJMYW5ndWFnZSgpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgdXNlckxhbmd1YWdlID0gZ2V0Q29va2llcygpWydvZ2xvY2FsZSddO1xyXG4gICAgXHJcbiAgICBpZih1c2VyTGFuZ3VhZ2UgPT0gbnVsbCB8fCB1c2VyTGFuZ3VhZ2UgPT0gJ3VuZGVmaW5lZCcpIHsgLy8geWVzLCBpdCdzIGFjdHVhbGx5IGEgc3RyaW5nIHdpdGggJ3VuZGVmaW5lZCcgaWYgeW91IHNhdmUgeW91ciBzZXR0aW5ncyB3aGlsZSBpbiB2bW9kZVxyXG4gICAgICAgIHJldHVybiBnZXRMYW5ndWFnZU1ldGEoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdXNlckxhbmd1YWdlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0T2dhbWVNZXRhKCk6IE1lc3NhZ2VPZ2FtZU1ldGEge1xyXG4gICAgY29uc3QgdXNlckxhbmd1YWdlID0gZ2V0VXNlckxhbmd1YWdlKCk7XHJcblxyXG4gICAgY29uc3Qgc2VydmVyVGV4dCA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJvZ2FtZS11bml2ZXJzZVwiXScpIGFzIEhUTUxNZXRhRWxlbWVudCB8IG51bGwpPy5jb250ZW50ID8/IF90aHJvdygnQ2Fubm90IGZpbmQgdW5pdmVyc2UgbWV0YSB0YWcnKTtcclxuICAgIGNvbnN0IHNlcnZlclRleHRTcGxpdCA9IHNlcnZlclRleHQuc3BsaXQoJy4nKVswXS5zcGxpdCgnLScpO1xyXG4gICAgY29uc3Qgc2VydmVySWRUZXh0ID0gc2VydmVyVGV4dFNwbGl0WzBdLnJlcGxhY2UoL15zLywgJycpO1xyXG4gICAgY29uc3QgbGFuZ3VhZ2UgPSBzZXJ2ZXJUZXh0U3BsaXRbMV07XHJcbiAgICBcclxuICAgIGlmICghL15cXGQrJC8udGVzdChzZXJ2ZXJJZFRleHQpKSB7XHJcbiAgICAgICAgX3Rocm93KCdGb3VuZCBvZ2FtZSB1bml2ZXJzZSB0YWcgYnV0IGZhaWxlZCB0byBleHRyYWN0IHNlcnZlciBpZCBmcm9tIGl0Jyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZXJ2ZXJJZCA9IHBhcnNlSW50U2FmZShzZXJ2ZXJJZFRleHQsIDEwKTtcclxuXHJcbiAgICBjb25zdCBwbGF5ZXJJZFRleHQgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwib2dhbWUtcGxheWVyLWlkXCJdJykgYXMgSFRNTE1ldGFFbGVtZW50IHwgbnVsbCk/LmNvbnRlbnQgPz8gX3Rocm93KCdDYW5ub3QgZmluZCBwbGF5ZXIgaWQgbWV0YSB0YWcnKTtcclxuICAgIGNvbnN0IHBsYXllcklkID0gcGFyc2VJbnRTYWZlKHBsYXllcklkVGV4dCwgMTApO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbGFuZ3VhZ2UsXHJcbiAgICAgICAgdXNlckxhbmd1YWdlLFxyXG4gICAgICAgIHNlcnZlcklkLFxyXG4gICAgICAgIHBsYXllcklkLFxyXG4gICAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTsiLCJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHV1aWQpIHtcbiAgcmV0dXJuIHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyAmJiBSRUdFWC50ZXN0KHV1aWQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZTsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxudmFyIGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyKSB7XG4gIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICB2YXIgdXVpZCA9IChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiLCIvLyBBZGFwdGVkIGZyb20gQ2hyaXMgVmVuZXNzJyBTSEExIGNvZGUgYXRcbi8vIGh0dHA6Ly93d3cubW92YWJsZS10eXBlLmNvLnVrL3NjcmlwdHMvc2hhMS5odG1sXG5mdW5jdGlvbiBmKHMsIHgsIHksIHopIHtcbiAgc3dpdGNoIChzKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuIHggJiB5IF4gfnggJiB6O1xuXG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIHggXiB5IF4gejtcblxuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiB4ICYgeSBeIHggJiB6IF4geSAmIHo7XG5cbiAgICBjYXNlIDM6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuICB9XG59XG5cbmZ1bmN0aW9uIFJPVEwoeCwgbikge1xuICByZXR1cm4geCA8PCBuIHwgeCA+Pj4gMzIgLSBuO1xufVxuXG5mdW5jdGlvbiBzaGExKGJ5dGVzKSB7XG4gIHZhciBLID0gWzB4NWE4Mjc5OTksIDB4NmVkOWViYTEsIDB4OGYxYmJjZGMsIDB4Y2E2MmMxZDZdO1xuICB2YXIgSCA9IFsweDY3NDUyMzAxLCAweGVmY2RhYjg5LCAweDk4YmFkY2ZlLCAweDEwMzI1NDc2LCAweGMzZDJlMWYwXTtcblxuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXMucHVzaChtc2cuY2hhckNvZGVBdChpKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGJ5dGVzKSkge1xuICAgIC8vIENvbnZlcnQgQXJyYXktbGlrZSB0byBBcnJheVxuICAgIGJ5dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYnl0ZXMpO1xuICB9XG5cbiAgYnl0ZXMucHVzaCgweDgwKTtcbiAgdmFyIGwgPSBieXRlcy5sZW5ndGggLyA0ICsgMjtcbiAgdmFyIE4gPSBNYXRoLmNlaWwobCAvIDE2KTtcbiAgdmFyIE0gPSBuZXcgQXJyYXkoTik7XG5cbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IE47ICsrX2kpIHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQzMkFycmF5KDE2KTtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7ICsraikge1xuICAgICAgYXJyW2pdID0gYnl0ZXNbX2kgKiA2NCArIGogKiA0XSA8PCAyNCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDFdIDw8IDE2IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMl0gPDwgOCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDNdO1xuICAgIH1cblxuICAgIE1bX2ldID0gYXJyO1xuICB9XG5cbiAgTVtOIC0gMV1bMTRdID0gKGJ5dGVzLmxlbmd0aCAtIDEpICogOCAvIE1hdGgucG93KDIsIDMyKTtcbiAgTVtOIC0gMV1bMTRdID0gTWF0aC5mbG9vcihNW04gLSAxXVsxNF0pO1xuICBNW04gLSAxXVsxNV0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4ICYgMHhmZmZmZmZmZjtcblxuICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBOOyArK19pMikge1xuICAgIHZhciBXID0gbmV3IFVpbnQzMkFycmF5KDgwKTtcblxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgMTY7ICsrdCkge1xuICAgICAgV1t0XSA9IE1bX2kyXVt0XTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfdCA9IDE2OyBfdCA8IDgwOyArK190KSB7XG4gICAgICBXW190XSA9IFJPVEwoV1tfdCAtIDNdIF4gV1tfdCAtIDhdIF4gV1tfdCAtIDE0XSBeIFdbX3QgLSAxNl0sIDEpO1xuICAgIH1cblxuICAgIHZhciBhID0gSFswXTtcbiAgICB2YXIgYiA9IEhbMV07XG4gICAgdmFyIGMgPSBIWzJdO1xuICAgIHZhciBkID0gSFszXTtcbiAgICB2YXIgZSA9IEhbNF07XG5cbiAgICBmb3IgKHZhciBfdDIgPSAwOyBfdDIgPCA4MDsgKytfdDIpIHtcbiAgICAgIHZhciBzID0gTWF0aC5mbG9vcihfdDIgLyAyMCk7XG4gICAgICB2YXIgVCA9IFJPVEwoYSwgNSkgKyBmKHMsIGIsIGMsIGQpICsgZSArIEtbc10gKyBXW190Ml0gPj4+IDA7XG4gICAgICBlID0gZDtcbiAgICAgIGQgPSBjO1xuICAgICAgYyA9IFJPVEwoYiwgMzApID4+PiAwO1xuICAgICAgYiA9IGE7XG4gICAgICBhID0gVDtcbiAgICB9XG5cbiAgICBIWzBdID0gSFswXSArIGEgPj4+IDA7XG4gICAgSFsxXSA9IEhbMV0gKyBiID4+PiAwO1xuICAgIEhbMl0gPSBIWzJdICsgYyA+Pj4gMDtcbiAgICBIWzNdID0gSFszXSArIGQgPj4+IDA7XG4gICAgSFs0XSA9IEhbNF0gKyBlID4+PiAwO1xuICB9XG5cbiAgcmV0dXJuIFtIWzBdID4+IDI0ICYgMHhmZiwgSFswXSA+PiAxNiAmIDB4ZmYsIEhbMF0gPj4gOCAmIDB4ZmYsIEhbMF0gJiAweGZmLCBIWzFdID4+IDI0ICYgMHhmZiwgSFsxXSA+PiAxNiAmIDB4ZmYsIEhbMV0gPj4gOCAmIDB4ZmYsIEhbMV0gJiAweGZmLCBIWzJdID4+IDI0ICYgMHhmZiwgSFsyXSA+PiAxNiAmIDB4ZmYsIEhbMl0gPj4gOCAmIDB4ZmYsIEhbMl0gJiAweGZmLCBIWzNdID4+IDI0ICYgMHhmZiwgSFszXSA+PiAxNiAmIDB4ZmYsIEhbM10gPj4gOCAmIDB4ZmYsIEhbM10gJiAweGZmLCBIWzRdID4+IDI0ICYgMHhmZiwgSFs0XSA+PiAxNiAmIDB4ZmYsIEhbNF0gPj4gOCAmIDB4ZmYsIEhbNF0gJiAweGZmXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc2hhMTsiLCJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBzaGExIGZyb20gJy4vc2hhMS5qcyc7XG52YXIgdjUgPSB2MzUoJ3Y1JywgMHg1MCwgc2hhMSk7XG5leHBvcnQgZGVmYXVsdCB2NTsiLCJpbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmltcG9ydCBwYXJzZSBmcm9tICcuL3BhcnNlLmpzJztcblxuZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHIpIHtcbiAgc3RyID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpOyAvLyBVVEY4IGVzY2FwZVxuXG4gIHZhciBieXRlcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgYnl0ZXMucHVzaChzdHIuY2hhckNvZGVBdChpKSk7XG4gIH1cblxuICByZXR1cm4gYnl0ZXM7XG59XG5cbmV4cG9ydCB2YXIgRE5TID0gJzZiYTdiODEwLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgdmFyIFVSTCA9ICc2YmE3YjgxMS05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG5hbWUsIHZlcnNpb24sIGhhc2hmdW5jKSB7XG4gIGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCh2YWx1ZSwgbmFtZXNwYWNlLCBidWYsIG9mZnNldCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IHN0cmluZ1RvQnl0ZXModmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlID09PSAnc3RyaW5nJykge1xuICAgICAgbmFtZXNwYWNlID0gcGFyc2UobmFtZXNwYWNlKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZXNwYWNlLmxlbmd0aCAhPT0gMTYpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignTmFtZXNwYWNlIG11c3QgYmUgYXJyYXktbGlrZSAoMTYgaXRlcmFibGUgaW50ZWdlciB2YWx1ZXMsIDAtMjU1KScpO1xuICAgIH0gLy8gQ29tcHV0ZSBoYXNoIG9mIG5hbWVzcGFjZSBhbmQgdmFsdWUsIFBlciA0LjNcbiAgICAvLyBGdXR1cmU6IFVzZSBzcHJlYWQgc3ludGF4IHdoZW4gc3VwcG9ydGVkIG9uIGFsbCBwbGF0Zm9ybXMsIGUuZy4gYGJ5dGVzID1cbiAgICAvLyBoYXNoZnVuYyhbLi4ubmFtZXNwYWNlLCAuLi4gdmFsdWVdKWBcblxuXG4gICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoMTYgKyB2YWx1ZS5sZW5ndGgpO1xuICAgIGJ5dGVzLnNldChuYW1lc3BhY2UpO1xuICAgIGJ5dGVzLnNldCh2YWx1ZSwgbmFtZXNwYWNlLmxlbmd0aCk7XG4gICAgYnl0ZXMgPSBoYXNoZnVuYyhieXRlcyk7XG4gICAgYnl0ZXNbNl0gPSBieXRlc1s2XSAmIDB4MGYgfCB2ZXJzaW9uO1xuICAgIGJ5dGVzWzhdID0gYnl0ZXNbOF0gJiAweDNmIHwgMHg4MDtcblxuICAgIGlmIChidWYpIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgYnVmW29mZnNldCArIGldID0gYnl0ZXNbaV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBidWY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmluZ2lmeShieXRlcyk7XG4gIH0gLy8gRnVuY3Rpb24jbmFtZSBpcyBub3Qgc2V0dGFibGUgb24gc29tZSBwbGF0Zm9ybXMgKCMyNzApXG5cblxuICB0cnkge1xuICAgIGdlbmVyYXRlVVVJRC5uYW1lID0gbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gIH0gY2F0Y2ggKGVycikge30gLy8gRm9yIENvbW1vbkpTIGRlZmF1bHQgZXhwb3J0IHN1cHBvcnRcblxuXG4gIGdlbmVyYXRlVVVJRC5ETlMgPSBETlM7XG4gIGdlbmVyYXRlVVVJRC5VUkwgPSBVUkw7XG4gIHJldHVybiBnZW5lcmF0ZVVVSUQ7XG59IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG5mdW5jdGlvbiBwYXJzZSh1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgdmFyIHY7XG4gIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxNik7IC8vIFBhcnNlICMjIyMjIyMjLS4uLi4tLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFyclswXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgwLCA4KSwgMTYpKSA+Pj4gMjQ7XG4gIGFyclsxXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzJdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclszXSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0jIyMjLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoOSwgMTMpLCAxNikpID4+PiA4O1xuICBhcnJbNV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0jIyMjLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzZdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE0LCAxOCksIDE2KSkgPj4+IDg7XG4gIGFycls3XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tIyMjIy0uLi4uLi4uLi4uLi5cblxuICBhcnJbOF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTksIDIzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzldID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0uLi4uLSMjIyMjIyMjIyMjI1xuICAvLyAoVXNlIFwiL1wiIHRvIGF2b2lkIDMyLWJpdCB0cnVuY2F0aW9uIHdoZW4gYml0LXNoaWZ0aW5nIGhpZ2gtb3JkZXIgYnl0ZXMpXG5cbiAgYXJyWzEwXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgyNCwgMzYpLCAxNikpIC8gMHgxMDAwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMV0gPSB2IC8gMHgxMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTJdID0gdiA+Pj4gMjQgJiAweGZmO1xuICBhcnJbMTNdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMTRdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclsxNV0gPSB2ICYgMHhmZjtcbiAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGFyc2U7IiwiaW1wb3J0IHsgdjUgfSBmcm9tIFwidXVpZFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IG5hbWVzcGFjZSA9ICc3NzQ1MjJkMy03OTEyLTRlNWMtYjU1Yi1lMTcxOTg2MjBiMzInO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNlcnZpY2VXb3JrZXJVdWlkID0gdjUoJ3NlcnZpY2Utd29ya2VyJywgbmFtZXNwYWNlKTtcclxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VUcmFja2luZ1V1aWQgPSB2NSgnbWVzc2FnZS10cmFja2luZycsIG5hbWVzcGFjZSk7XHJcbmV4cG9ydCBjb25zdCBlbXBpcmVUcmFja2luZ1V1aWQgPSB2NSgnZW1waXJlLXRyYWNraW5nJywgbmFtZXNwYWNlKTtcclxuZXhwb3J0IGNvbnN0IHVuaXZlcnNlQWNjb3VudFRyYWNraW5nVXVpZCA9IHY1KCd1bml2ZXJzZS1hY2NvdW50LXRyYWNraW5nJywgbmFtZXNwYWNlKTtcclxuZXhwb3J0IGNvbnN0IGludGVybmFsVXVpZCA9IHY1KCdpbnRlcm5hbCcsIG5hbWVzcGFjZSk7IiwiaW1wb3J0IHsgc2VuZE1lc3NhZ2UgfSBmcm9tIFwiQC9zaGFyZWQvY29tbXVuaWNhdGlvbi9zZW5kTWVzc2FnZVwiO1xyXG5pbXBvcnQgeyBNZXNzYWdlVHlwZSB9IGZyb20gXCJAL3NoYXJlZC9tZXNzYWdlcy9NZXNzYWdlVHlwZVwiO1xyXG5pbXBvcnQgeyBVcGRhdGVQbGF5ZXJOYW1lTWVzc2FnZSwgVXBkYXRlVW5pdmVyc2VOYW1lTWVzc2FnZSB9IGZyb20gXCJAL3NoYXJlZC9tZXNzYWdlcy90cmFja2luZy9lbXBpcmVcIjtcclxuaW1wb3J0IHsgZ2V0T2dhbWVNZXRhIH0gZnJvbSBcIkAvc2hhcmVkL29nYW1lLXdlYi9nZXRPZ2FtZU1ldGFcIjtcclxuaW1wb3J0IHsgX3Rocm93IH0gZnJvbSBcIkAvc2hhcmVkL3V0aWxzL190aHJvd1wiO1xyXG5pbXBvcnQgeyB1bml2ZXJzZUFjY291bnRUcmFja2luZ1V1aWQgfSBmcm9tIFwiQC9zaGFyZWQvdXVpZFwiO1xyXG5cclxuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XHJcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gICAgaWYoYm9keSAhPSBudWxsKSB7XHJcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG5cclxuICAgICAgICB0cmFja1VuaXZlcnNlTmFtZSgpO1xyXG4gICAgICAgIHRyYWNrQWNjb3VudCgpO1xyXG4gICAgfVxyXG59KTtcclxub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xyXG5cclxuZnVuY3Rpb24gdHJhY2tVbml2ZXJzZU5hbWUoKSB7XHJcbiAgICBjb25zdCB1bml2ZXJzZU5hbWUgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwib2dhbWUtdW5pdmVyc2UtbmFtZVwiXScpIGFzIEhUTUxNZXRhRWxlbWVudCB8IG51bGwpPy5jb250ZW50XHJcbiAgICAgICAgPz8gX3Rocm93KCdubyB1bml2ZXJzZSBuYW1lIG1ldGEgZm91bmQnKTtcclxuXHJcbiAgICBjb25zdCBtZXNzYWdlOiBVcGRhdGVVbml2ZXJzZU5hbWVNZXNzYWdlID0ge1xyXG4gICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLlVwZGF0ZVVuaXZlcnNlTmFtZSxcclxuICAgICAgICBvZ2FtZU1ldGE6IGdldE9nYW1lTWV0YSgpLFxyXG4gICAgICAgIGRhdGE6IHVuaXZlcnNlTmFtZSxcclxuICAgICAgICBzZW5kZXJVdWlkOiB1bml2ZXJzZUFjY291bnRUcmFja2luZ1V1aWQsXHJcbiAgICB9O1xyXG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyYWNrQWNjb3VudCgpIHtcclxuICAgIGNvbnN0IHBsYXllck5hbWUgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwib2dhbWUtcGxheWVyLW5hbWVcIl0nKSBhcyBIVE1MTWV0YUVsZW1lbnQgfCBudWxsKT8uY29udGVudCBcclxuICAgICAgICA/PyBfdGhyb3coJ25vIHBsYXllciBuYW1lIG1ldGEgZm91bmQnKTtcclxuXHJcbiAgICBjb25zdCBtZXNzYWdlOiBVcGRhdGVQbGF5ZXJOYW1lTWVzc2FnZSA9IHtcclxuICAgICAgICB0eXBlOiBNZXNzYWdlVHlwZS5VcGRhdGVQbGF5ZXJOYW1lLFxyXG4gICAgICAgIG9nYW1lTWV0YTogZ2V0T2dhbWVNZXRhKCksXHJcbiAgICAgICAgZGF0YTogcGxheWVyTmFtZSxcclxuICAgICAgICBzZW5kZXJVdWlkOiB1bml2ZXJzZUFjY291bnRUcmFja2luZ1V1aWQsXHJcbiAgICB9O1xyXG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSk7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJpZ25vcmVTdHVwaWRNZXNzYWdlUG9ydEVycm9ycyIsIm1lc3NhZ2UiLCJjaHJvbWUiLCJydW50aW1lIiwibGFzdEVycm9yIiwic29tZSIsImVycm9yIiwiaW5jbHVkZXMiLCJzZW5kTWVzc2FnZSIsIk1lc3NhZ2VUeXBlIiwicGFyc2VJbnRTYWZlIiwidGV4dCIsInJhZGl4IiwidmFsdWUiLCJwYXJzZUludCIsImlzTmFOIiwiRXJyb3IiLCJfdGhyb3ciLCJkYXRhIiwiZ2V0T2dhbWVNZXRhIiwidXNlckxhbmd1YWdlIiwiY29va2llcyIsImRvY3VtZW50IiwiY29va2llIiwic3BsaXQiLCJmb3JFYWNoIiwia2V5IiwibWFwIiwieCIsImRlY29kZVVSSUNvbXBvbmVudCIsInRyaW0iLCJnZXRDb29raWVzIiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJnZXRVc2VyTGFuZ3VhZ2UiLCJzZXJ2ZXJUZXh0U3BsaXQiLCJzZXJ2ZXJJZFRleHQiLCJyZXBsYWNlIiwibGFuZ3VhZ2UiLCJ0ZXN0Iiwic2VydmVySWQiLCJwbGF5ZXJJZCIsInV1aWQiLCJieXRlVG9IZXgiLCJpIiwicHVzaCIsInRvU3RyaW5nIiwic3Vic3RyIiwiZiIsInMiLCJ5IiwieiIsIlJPVEwiLCJuIiwidjUiLCJuYW1lIiwidmVyc2lvbiIsImhhc2hmdW5jIiwiZ2VuZXJhdGVVVUlEIiwibmFtZXNwYWNlIiwiYnVmIiwib2Zmc2V0Iiwic3RyIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJieXRlcyIsImxlbmd0aCIsImNoYXJDb2RlQXQiLCJzdHJpbmdUb0J5dGVzIiwiVHlwZUVycm9yIiwidiIsImFyciIsIlVpbnQ4QXJyYXkiLCJzbGljZSIsInNldCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInRvTG93ZXJDYXNlIiwiZXJyIiwiRE5TIiwiVVJMIiwidjM1IiwiSyIsIkgiLCJtc2ciLCJBcnJheSIsImlzQXJyYXkiLCJwcm90b3R5cGUiLCJjYWxsIiwibCIsIk4iLCJNYXRoIiwiY2VpbCIsIk0iLCJfaSIsIlVpbnQzMkFycmF5IiwiaiIsInBvdyIsImZsb29yIiwiX2kyIiwiVyIsInQiLCJfdCIsImEiLCJiIiwiYyIsImQiLCJlIiwiX3QyIiwiVCIsInVuaXZlcnNlQWNjb3VudFRyYWNraW5nVXVpZCIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImRpc2Nvbm5lY3QiLCJ1bml2ZXJzZU5hbWUiLCJ0eXBlIiwiVXBkYXRlVW5pdmVyc2VOYW1lIiwib2dhbWVNZXRhIiwic2VuZGVyVXVpZCIsInRyYWNrVW5pdmVyc2VOYW1lIiwicGxheWVyTmFtZSIsIlVwZGF0ZVBsYXllck5hbWUiLCJ0cmFja0FjY291bnQiLCJvYnNlcnZlIiwiZG9jdW1lbnRFbGVtZW50IiwiY2hpbGRMaXN0Iiwic3VidHJlZSJdLCJzb3VyY2VSb290IjoiIn0=