"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[9455],{5483:(e,t,n)=>{n.d(t,{c:()=>u});var r=n(9751),o=n(147),s=n(3418),i=n(6119),l=n(9681);function u(e){const t=Object.values(e.planets).filter((e=>!e.isMoon)),n=(0,r.a)(t.map((e=>e.id)),(()=>(0,r.a)(l.Vs,0))),u=(0,r.a)(s.p3,(t=>(0,o.g1)(e.lifeformExperience[t])));for(const r of t){if(r.activeLifeform==s.e5.none)continue;const e=u[r.activeLifeform],t=i.cQ[r.activeLifeform];for(const o of l.Vs){const s=t.reduce(((e,t)=>{const n=r.lifeformBuildings[t.type],s=t.getLifeformTechnologyBonus(o,n);return e+s}),0),i=e+s;n[r.id][o]=i}}return n}},147:(e,t,n)=>{n.d(t,{g1:()=>o,g4:()=>s,_Z:()=>i});const r=.001;function o(e){const t=s(e);return t*r}function s(e){for(let t=0;;t++){const n=i(t+1);if(n>e)return t}}function i(e){return 900*e*(e+1)/2}},2366:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("lifeform-planet-bonuses-component",{attrs:{technologyBonuses:e.technologyBonuses,types:e.bonusTypes,buildings:e.buildings,planets:e.planets,limits:e.limits,"research-bonus-breakdown-route-name":"lifeforms/bonus-breakdown/resource-production"}})},o=[],s=n(655),i=n(4028),l=n(2593),u=n(7848),a=n(7377),c=n(2816),m=n(6119),f=n(9751),p=n(8395),g=n(4846),d=n(5483);let h=class extends i.w3{get bonusTypes(){return[{key:"metal",label:this.$i18n.$t.ogame.resources.metal},{key:"crystal",label:this.$i18n.$t.ogame.resources.crystal},{key:"deuterium",label:this.$i18n.$t.ogame.resources.deuterium},{key:"energy",label:this.$i18n.$t.ogame.resources.energy}]}buildings=m.yn.map((e=>e.type));get limits(){const e=(0,u.K)({type:a.f.ResourceProductionBonus});return{metal:t=>null!=e?Math.min(t,e):t,crystal:t=>null!=e?Math.min(t,e):t,deuterium:t=>null!=e?Math.min(t,e):t,energy:t=>null!=e?Math.min(t,e):t}}techs=g.rE;get technologyBonuses(){const e=["metal","crystal","deuterium","energy"],t=(0,f.a)(e,(()=>0)),n=(0,d.c)(p.p.empire);return this.empirePlanets.forEach((r=>{this.techs.filter((e=>r.activeLifeformTechnologies.includes(e.type))).forEach((o=>e.forEach((e=>{const s=o.getProductionBonus(r.lifeformTechnologies[o.type])[e],i=n[r.id][o.type];t[e]+=s*(1+i)}))))})),t}get empirePlanets(){return p.p.empire.planetOrder.map((e=>p.p.empire.planets[e])).filter((e=>!e.isMoon))}get planets(){return(0,f.r)(this.empirePlanets,(e=>e.id),(e=>{const t=c.IU[e.activeLifeform].filter((e=>this.buildings.includes(e))),n=(0,f.a)(["metal","crystal","deuterium","energy"],(n=>(0,f.a)(t,(t=>m.ry[t].getProductionBonus(e.lifeformBuildings[t])[n]))));return{planet:e,bonusByBuilding:n}}))}};h=(0,s.gn)([(0,i.wA)({components:{LifeformPlanetBonusesComponent:l.Z}})],h);const y=h,b=y;var k=n(1001),B=(0,k.Z)(b,r,o,!1,null,null,null);const v=B.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianMvOTQ1NS5mYjY0MmVlMy5qcyIsIm1hcHBpbmdzIjoic01BUU8sU0FBU0EsRUFBMkJDLEdBQ3ZDLE1BQU1DLEVBQVVDLE9BQU9DLE9BQU9ILEVBQU9DLFNBQVNHLFFBQU9DLElBQU1BLEVBQUVDLFNBRXZEQyxHQUEwQixPQUM1Qk4sRUFBUU8sS0FBSUgsR0FBS0EsRUFBRUksTUFDbkIsS0FBTSxPQUFhLEtBQXlCLEtBRzFDQyxHQUF1QixPQUN6QixNQUNBQyxJQUFNLFFBQWdDWCxFQUFPWSxtQkFBbUJELE1BRXBFLElBQUssTUFBTUUsS0FBVVosRUFBUyxDQUMxQixHQUFJWSxFQUFPQyxnQkFBa0IsVUFDekIsU0FHSixNQUFNQyxFQUFhTCxFQUFxQkcsRUFBT0MsZ0JBRXpDRSxFQUEyQixLQUFtREgsRUFBT0MsZ0JBRTNGLElBQUssTUFBTUcsS0FBYyxLQUF5QixDQUM5QyxNQUFNQyxFQUFrQkYsRUFBeUJHLFFBQU8sQ0FBQ0MsRUFBT0MsS0FDNUQsTUFBTUMsRUFBUVQsRUFBT1Usa0JBQWtCRixFQUFTRyxNQUMxQ0MsRUFBUUosRUFBU3RCLDJCQUEyQmtCLEVBQVlLLEdBQzlELE9BQU9GLEVBQVFLLElBQ2hCLEdBRUdDLEVBQWlCWCxFQUFhRyxFQUNwQ1gsRUFBd0JNLEVBQU9KLElBQUlRLEdBQWNTLEdBSXpELE9BQU9uQixJLGtEQ3pDWCxNQUFNb0IsRUFBZ0IsS0FFZixTQUFTQyxFQUFnQ0MsR0FDNUMsTUFBTVAsRUFBUVEsRUFBaUJELEdBQy9CLE9BQU9QLEVBQVFLLEVBR1osU0FBU0csRUFBaUJELEdBQzdCLElBQUksSUFBSVAsRUFBUSxHQUFLQSxJQUFTLENBQzFCLE1BQU1TLEVBQWNDLEVBQW9DVixFQUFRLEdBQ2hFLEdBQUdTLEVBQWNGLEVBQ2IsT0FBT1AsR0FTWixTQUFTVSxFQUFvQ1YsR0FDaEQsT0FBTyxJQUFNQSxHQUFTQSxFQUFRLEdBQUssSSw2Q0NyQnZDLElBQUlXLEVBQVMsV0FBYSxJQUFJQyxFQUFJQyxLQUFTQyxFQUFHRixFQUFJRyxlQUFtQkMsRUFBR0osRUFBSUssTUFBTUQsSUFBSUYsRUFBRyxPQUFPRSxFQUFHLG9DQUFvQyxDQUFDRSxNQUFNLENBQUMsa0JBQW9CTixFQUFJTyxrQkFBa0IsTUFBUVAsRUFBSVEsV0FBVyxVQUFZUixFQUFJUyxVQUFVLFFBQVVULEVBQUlqQyxRQUFRLE9BQVNpQyxFQUFJVSxPQUFPLHNDQUFzQyxvREFDdFRDLEVBQWtCLEcsNkdDZ0N0Qix5QkFDQSxpQkFDQSxPQUNBLENBQ0EsWUFDQSwyQ0FFQSxDQUNBLGNBQ0EsNkNBRUEsQ0FDQSxnQkFDQSwrQ0FFQSxDQUNBLGFBQ0EsNkNBS0EsZ0NBRUEsYUFDQSxvREFDQSxPQUNBLGlDQUNBLG1DQUNBLHFDQUNBLG1DQUlBLFdBRUEsd0JBQ0EsaURBQ0EscUJBRUEsc0JBV0EsT0FWQSxnQ0FDQSxzRUFDQSwyQkFDQSxnRUFDQSxrQkFFQSxzQkFJQSxFQUdBLG9CQUNBLG1DQUNBLDJCQUNBLHVCQUdBLGNBQ0EsY0FDQSxvQkFFQSxVQUNBLElBQ0EsdUVBQ0EsVUFDQSwwQ0FDQSxXQUNBLEdBQ0EsV0FDQSxrREFJQSxPQUNBLFNBQ0Esd0JBOUVBLGFBTEEsU0FDQSxZQUNBLHVDQUdBLEcsVUNqQzZkLEksY0NPemRDLEdBQVksT0FDZCxFQUNBYixFQUNBWSxHQUNBLEVBQ0EsS0FDQSxLQUNBLE1BSUYsUUFBZUMsRUFBaUIiLCJzb3VyY2VzIjpbIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvYnVpbGRpbmdzL2dldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzLnRzIiwib2dhbWUtdHJhY2tlcjovLy8uL3NyYy9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9leHBlcmllbmNlLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy9saWZlZm9ybXMvcGxhbmV0LWJvbnVzZXMvUmVzb3VyY2UtUHJvZHVjdGlvbi52dWU/YjYxNiIsIndlYnBhY2s6Ly8vc3JjL3ZpZXdzL3N0YXRzL3ZpZXdzL2xpZmVmb3Jtcy9wbGFuZXQtYm9udXNlcy9SZXNvdXJjZS1Qcm9kdWN0aW9uLnZ1ZT84NDM0Iiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy9saWZlZm9ybXMvcGxhbmV0LWJvbnVzZXMvUmVzb3VyY2UtUHJvZHVjdGlvbi52dWU/YWQ5OCIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL3BsYW5ldC1ib251c2VzL1Jlc291cmNlLVByb2R1Y3Rpb24udnVlPzFiNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9jYWxQbGF5ZXJEYXRhIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9lbXBpcmUvTG9jYWxQbGF5ZXJEYXRhXCI7XHJcbmltcG9ydCB7IFBsYW5ldERhdGEgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL2VtcGlyZS9QbGFuZXREYXRhXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVJlY29yZCB9IGZyb20gXCJAL3NoYXJlZC91dGlscy9jcmVhdGVSZWNvcmRcIjtcclxuaW1wb3J0IHsgZ2V0TGlmZWZvcm1MZXZlbFRlY2hub2xvZ3lCb251cyB9IGZyb20gXCIuLi9leHBlcmllbmNlXCI7XHJcbmltcG9ydCB7IExpZmVmb3JtVHlwZSwgVmFsaWRMaWZlZm9ybVR5cGVzIH0gZnJvbSBcIi4uL0xpZmVmb3JtVHlwZVwiO1xyXG5pbXBvcnQgeyBMaWZlZm9ybVRlY2hub2xvZ3lCb251c0xpZmVmb3JtQnVpbGRpbmdzQnlMaWZlZm9ybSB9IGZyb20gXCIuL0xpZmVmb3JtQnVpbGRpbmdzXCI7XHJcbmltcG9ydCB7IExpZmVmb3JtVGVjaG5vbG9neVR5cGUsIExpZmVmb3JtVGVjaG5vbG9neVR5cGVzIH0gZnJvbSBcIi4uL0xpZmVmb3JtVGVjaG5vbG9neVR5cGVcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMaWZlZm9ybVRlY2hub2xvZ3lCb251cyhwbGF5ZXI6IExvY2FsUGxheWVyRGF0YSk6IFJlY29yZDxudW1iZXIsIFJlY29yZDxMaWZlZm9ybVRlY2hub2xvZ3lUeXBlLCBudW1iZXI+PiB7XHJcbiAgICBjb25zdCBwbGFuZXRzID0gT2JqZWN0LnZhbHVlcyhwbGF5ZXIucGxhbmV0cykuZmlsdGVyKHAgPT4gIXAuaXNNb29uKSBhcyBQbGFuZXREYXRhW107XHJcblxyXG4gICAgY29uc3QgdGVjaG5vbG9neUJvbnVzQnlQbGFuZXQgPSBjcmVhdGVSZWNvcmQoXHJcbiAgICAgICAgcGxhbmV0cy5tYXAocCA9PiBwLmlkKSxcclxuICAgICAgICAoKSA9PiBjcmVhdGVSZWNvcmQoTGlmZWZvcm1UZWNobm9sb2d5VHlwZXMsIDApXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IGxldmVsVGVjaG5vbG9neUJvbnVzID0gY3JlYXRlUmVjb3JkKFxyXG4gICAgICAgIFZhbGlkTGlmZWZvcm1UeXBlcyxcclxuICAgICAgICBsZiA9PiBnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzKHBsYXllci5saWZlZm9ybUV4cGVyaWVuY2VbbGZdKSxcclxuICAgICk7XHJcbiAgICBmb3IgKGNvbnN0IHBsYW5ldCBvZiBwbGFuZXRzKSB7XHJcbiAgICAgICAgaWYgKHBsYW5ldC5hY3RpdmVMaWZlZm9ybSA9PSBMaWZlZm9ybVR5cGUubm9uZSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGxldmVsQm9udXMgPSBsZXZlbFRlY2hub2xvZ3lCb251c1twbGFuZXQuYWN0aXZlTGlmZWZvcm1dO1xyXG5cclxuICAgICAgICBjb25zdCB0ZWNobm9sb2d5Qm9udXNCdWlsZGluZ3MgPSBMaWZlZm9ybVRlY2hub2xvZ3lCb251c0xpZmVmb3JtQnVpbGRpbmdzQnlMaWZlZm9ybVtwbGFuZXQuYWN0aXZlTGlmZWZvcm1dO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHRlY2hub2xvZ3kgb2YgTGlmZWZvcm1UZWNobm9sb2d5VHlwZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgdGVjaG5vbG9neUJvbnVzID0gdGVjaG5vbG9neUJvbnVzQnVpbGRpbmdzLnJlZHVjZSgodG90YWwsIGJ1aWxkaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZXZlbCA9IHBsYW5ldC5saWZlZm9ybUJ1aWxkaW5nc1tidWlsZGluZy50eXBlXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJvbnVzID0gYnVpbGRpbmcuZ2V0TGlmZWZvcm1UZWNobm9sb2d5Qm9udXModGVjaG5vbG9neSwgbGV2ZWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsICsgYm9udXM7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdG90YWxUZWNoQm9udXMgPSBsZXZlbEJvbnVzICsgdGVjaG5vbG9neUJvbnVzO1xyXG4gICAgICAgICAgICB0ZWNobm9sb2d5Qm9udXNCeVBsYW5ldFtwbGFuZXQuaWRdW3RlY2hub2xvZ3ldID0gdG90YWxUZWNoQm9udXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0ZWNobm9sb2d5Qm9udXNCeVBsYW5ldDtcclxufSIsImNvbnN0IGJvbnVzUGVyTGV2ZWwgPSAwLjAwXzE7IC8vMC4xJVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExpZmVmb3JtTGV2ZWxUZWNobm9sb2d5Qm9udXMoZXhwZXJpZW5jZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGxldmVsID0gZ2V0TGlmZWZvcm1MZXZlbChleHBlcmllbmNlKTtcclxuICAgIHJldHVybiBsZXZlbCAqIGJvbnVzUGVyTGV2ZWw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMaWZlZm9ybUxldmVsKGV4cGVyaWVuY2U6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBmb3IobGV0IGxldmVsID0gMDsgOyBsZXZlbCsrKSB7XHJcbiAgICAgICAgY29uc3QgZXhwRm9yTGV2ZWwgPSBnZXRMaWZlZm9ybUV4cGVyaWVuY2VOZWVkZWRGb3JMZXZlbChsZXZlbCArIDEpO1xyXG4gICAgICAgIGlmKGV4cEZvckxldmVsID4gZXhwZXJpZW5jZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGV2ZWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhwZXJpZW5jZU5lZWRlZEZvckxldmVsVXAobGV2ZWw6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gOTAwICogbGV2ZWw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMaWZlZm9ybUV4cGVyaWVuY2VOZWVkZWRGb3JMZXZlbChsZXZlbDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiA5MDAgKiBsZXZlbCAqIChsZXZlbCArIDEpIC8gMjsgLy8gZ2F1c3NpYW4gc3VtbWF0aW9uIGZvcm11bGFcclxufSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdsaWZlZm9ybS1wbGFuZXQtYm9udXNlcy1jb21wb25lbnQnLHthdHRyczp7XCJ0ZWNobm9sb2d5Qm9udXNlc1wiOl92bS50ZWNobm9sb2d5Qm9udXNlcyxcInR5cGVzXCI6X3ZtLmJvbnVzVHlwZXMsXCJidWlsZGluZ3NcIjpfdm0uYnVpbGRpbmdzLFwicGxhbmV0c1wiOl92bS5wbGFuZXRzLFwibGltaXRzXCI6X3ZtLmxpbWl0cyxcInJlc2VhcmNoLWJvbnVzLWJyZWFrZG93bi1yb3V0ZS1uYW1lXCI6XCJsaWZlZm9ybXMvYm9udXMtYnJlYWtkb3duL3Jlc291cmNlLXByb2R1Y3Rpb25cIn19KX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxyXG4gICAgPGxpZmVmb3JtLXBsYW5ldC1ib251c2VzLWNvbXBvbmVudFxyXG4gICAgICAgIDp0ZWNobm9sb2d5Qm9udXNlcz1cInRlY2hub2xvZ3lCb251c2VzXCIgXHJcbiAgICAgICAgOnR5cGVzPVwiYm9udXNUeXBlc1wiIFxyXG4gICAgICAgIDpidWlsZGluZ3M9XCJidWlsZGluZ3NcIiBcclxuICAgICAgICA6cGxhbmV0cz1cInBsYW5ldHNcIiBcclxuICAgICAgICA6bGltaXRzPVwibGltaXRzXCIgXHJcbiAgICAgICAgcmVzZWFyY2gtYm9udXMtYnJlYWtkb3duLXJvdXRlLW5hbWU9XCJsaWZlZm9ybXMvYm9udXMtYnJlYWtkb3duL3Jlc291cmNlLXByb2R1Y3Rpb25cIiBcclxuICAgIC8+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG4gICAgaW1wb3J0IHsgUGxhbmV0RGF0YSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9lbXBpcmUvUGxhbmV0RGF0YSc7XHJcbiAgICBpbXBvcnQgeyBDb3N0IH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2NvbW1vbi9Db3N0JztcclxuICAgIGltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7XHJcbiAgICBpbXBvcnQgTGlmZWZvcm1QbGFuZXRCb251c2VzQ29tcG9uZW50LCB7IExpZmVmb3JtUGxhbmV0Qm9udXNlc1R5cGUsIExpZmVmb3JtUGxhbmV0Qm9udXNlcyB9IGZyb20gJ0Avdmlld3Mvc3RhdHMvY29tcG9uZW50cy9saWZlZm9ybXMvTGlmZWZvcm1QbGFuZXRCb251c2VzLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBnZXRMaWZlZm9ybUJvbnVzTGltaXQgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL0xpZmVmb3JtQm9udXNMaW1pdHMnO1xyXG4gICAgaW1wb3J0IHsgTGlmZWZvcm1Cb251c1R5cGVJZCB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvTGlmZWZvcm1Cb251c1R5cGUnO1xyXG4gICAgaW1wb3J0IHsgTGlmZWZvcm1CdWlsZGluZ1R5cGUsIExpZmVmb3JtQnVpbGRpbmdUeXBlc0J5TGlmZWZvcm0gfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL0xpZmVmb3JtQnVpbGRpbmdUeXBlJztcclxuICAgIGltcG9ydCB7IExpZmVmb3JtQnVpbGRpbmdzQnlUeXBlLCBSZXNvdXJjZVByb2R1Y3Rpb25Cb251c0xpZmVmb3JtQnVpbGRpbmdzIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9idWlsZGluZ3MvTGlmZWZvcm1CdWlsZGluZ3MnO1xyXG4gICAgaW1wb3J0IHsgY3JlYXRlTWFwcGVkUmVjb3JkLCBjcmVhdGVSZWNvcmQgfSBmcm9tICdAL3NoYXJlZC91dGlscy9jcmVhdGVSZWNvcmQnO1xyXG4gICAgaW1wb3J0IHsgRW1waXJlRGF0YU1vZHVsZSB9IGZyb20gJ0Avdmlld3Mvc3RhdHMvZGF0YS9FbXBpcmVEYXRhTW9kdWxlJztcclxuICAgIGltcG9ydCB7IFJlc291cmNlUHJvZHVjdGlvbkJvbnVzTGlmZWZvcm1CdWlsZGluZyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvYnVpbGRpbmdzL2ludGVyZmFjZXMnO1xyXG4gICAgaW1wb3J0IHsgUmVzb3VyY2VQcm9kdWN0aW9uQm9udXNMaWZlZm9ybVRlY2hub2xvZ2llcyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvdGVjaG5vbG9naWVzL0xpZmVmb3JtVGVjaG5vbG9naWVzJztcclxuICAgIGltcG9ydCB7IGdldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9idWlsZGluZ3MvZ2V0TGlmZWZvcm1UZWNobm9sb2d5Qm9udXMnO1xyXG4gICAgaW1wb3J0IHsgUmVzb3VyY2VQcm9kdWN0aW9uQm9udXNMaWZlZm9ybVRlY2hub2xvZ3kgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL3RlY2hub2xvZ2llcy9pbnRlcmZhY2VzJztcclxuXHJcblxyXG4gICAgQENvbXBvbmVudCh7XHJcbiAgICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICAgICBMaWZlZm9ybVBsYW5ldEJvbnVzZXNDb21wb25lbnQsXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc291cmNlUHJvZHVjdGlvbiBleHRlbmRzIFZ1ZSB7XHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgYm9udXNUeXBlcygpOiBMaWZlZm9ybVBsYW5ldEJvbnVzZXNUeXBlPGtleW9mIENvc3Q+W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ21ldGFsJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5vZ2FtZS5yZXNvdXJjZXMubWV0YWwsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2NyeXN0YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0Lm9nYW1lLnJlc291cmNlcy5jcnlzdGFsLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdkZXV0ZXJpdW0nLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0Lm9nYW1lLnJlc291cmNlcy5kZXV0ZXJpdW0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2VuZXJneScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQub2dhbWUucmVzb3VyY2VzLmVuZXJneSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGJ1aWxkaW5nczogTGlmZWZvcm1CdWlsZGluZ1R5cGVbXSA9IFJlc291cmNlUHJvZHVjdGlvbkJvbnVzTGlmZWZvcm1CdWlsZGluZ3MubWFwKGIgPT4gYi50eXBlKTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgbGltaXRzKCk6IFJlY29yZDxrZXlvZiBDb3N0LCAodmFsdWU6IG51bWJlcikgPT4gbnVtYmVyPiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gZ2V0TGlmZWZvcm1Cb251c0xpbWl0KHsgdHlwZTogTGlmZWZvcm1Cb251c1R5cGVJZC5SZXNvdXJjZVByb2R1Y3Rpb25Cb251cyB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG1ldGFsOiB2YWx1ZSA9PiBsaW1pdCAhPSBudWxsID8gTWF0aC5taW4odmFsdWUsIGxpbWl0KSA6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgY3J5c3RhbDogdmFsdWUgPT4gbGltaXQgIT0gbnVsbCA/IE1hdGgubWluKHZhbHVlLCBsaW1pdCkgOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIGRldXRlcml1bTogdmFsdWUgPT4gbGltaXQgIT0gbnVsbCA/IE1hdGgubWluKHZhbHVlLCBsaW1pdCkgOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIGVuZXJneTogdmFsdWUgPT4gbGltaXQgIT0gbnVsbCA/IE1hdGgubWluKHZhbHVlLCBsaW1pdCkgOiB2YWx1ZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgdGVjaHM6IFJlc291cmNlUHJvZHVjdGlvbkJvbnVzTGlmZWZvcm1UZWNobm9sb2d5W10gPSBSZXNvdXJjZVByb2R1Y3Rpb25Cb251c0xpZmVmb3JtVGVjaG5vbG9naWVzO1xyXG5cclxuICAgICAgICBwcml2YXRlIGdldCB0ZWNobm9sb2d5Qm9udXNlcygpOiBSZWNvcmQ8a2V5b2YgQ29zdCwgbnVtYmVyPiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleXM6IChrZXlvZiBDb3N0KVtdID0gWydtZXRhbCcsICdjcnlzdGFsJywgJ2RldXRlcml1bScsICdlbmVyZ3knXTtcclxuICAgICAgICAgICAgY29uc3QgZ2xvYmFsQm9udXNlczogUmVjb3JkPGtleW9mIENvc3QsIG51bWJlcj4gPSBjcmVhdGVSZWNvcmQoa2V5cywgKCkgPT4gMCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBsaWZlZm9ybVRlY2hub2xvZ3lCb29zdFBlclBsYW5ldCA9IGdldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzKEVtcGlyZURhdGFNb2R1bGUuZW1waXJlKTtcclxuICAgICAgICAgICAgdGhpcy5lbXBpcmVQbGFuZXRzLmZvckVhY2gocGxhbmV0ID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVjaHMuZmlsdGVyKHRlY2ggPT4gcGxhbmV0LmFjdGl2ZUxpZmVmb3JtVGVjaG5vbG9naWVzLmluY2x1ZGVzKHRlY2gudHlwZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2godGVjaCA9PiBrZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVjaEJvbnVzID0gdGVjaC5nZXRQcm9kdWN0aW9uQm9udXMocGxhbmV0LmxpZmVmb3JtVGVjaG5vbG9naWVzW3RlY2gudHlwZV0pW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlY2hCb29zdCA9IGxpZmVmb3JtVGVjaG5vbG9neUJvb3N0UGVyUGxhbmV0W3BsYW5ldC5pZF1bdGVjaC50eXBlXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEJvbnVzZXNba2V5XSArPSB0ZWNoQm9udXMgKiAoMSArIHRlY2hCb29zdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxCb251c2VzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgZW1waXJlUGxhbmV0cygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEVtcGlyZURhdGFNb2R1bGUuZW1waXJlLnBsYW5ldE9yZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChpZCA9PiBFbXBpcmVEYXRhTW9kdWxlLmVtcGlyZS5wbGFuZXRzW2lkXSlcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHBsYW5ldCA9PiAhcGxhbmV0LmlzTW9vbikgYXMgUGxhbmV0RGF0YVtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgcGxhbmV0cygpOiBSZWNvcmQ8bnVtYmVyLCBMaWZlZm9ybVBsYW5ldEJvbnVzZXM8a2V5b2YgQ29zdD4+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU1hcHBlZFJlY29yZChcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1waXJlUGxhbmV0cyxcclxuXHJcbiAgICAgICAgICAgICAgICBwbGFuZXQgPT4gcGxhbmV0LmlkLFxyXG4gICAgICAgICAgICAgICAgcGxhbmV0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVCdWlsZGluZ1R5cGVzID0gTGlmZWZvcm1CdWlsZGluZ1R5cGVzQnlMaWZlZm9ybVtwbGFuZXQuYWN0aXZlTGlmZWZvcm1dLmZpbHRlcihiID0+IHRoaXMuYnVpbGRpbmdzLmluY2x1ZGVzKGIpKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9udXNCeUJ1aWxkaW5nID0gY3JlYXRlUmVjb3JkPGtleW9mIENvc3QsIFJlY29yZDxMaWZlZm9ybUJ1aWxkaW5nVHlwZSwgbnVtYmVyPj4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJ21ldGFsJywgJ2NyeXN0YWwnLCAnZGV1dGVyaXVtJywgJ2VuZXJneSddLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9PiBjcmVhdGVSZWNvcmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQnVpbGRpbmdUeXBlcywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9PiAoTGlmZWZvcm1CdWlsZGluZ3NCeVR5cGVbdHlwZV0gYXMgUmVzb3VyY2VQcm9kdWN0aW9uQm9udXNMaWZlZm9ybUJ1aWxkaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldFByb2R1Y3Rpb25Cb251cyhwbGFuZXQubGlmZWZvcm1CdWlsZGluZ3NbdHlwZV0pW2tleV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYW5ldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9udXNCeUJ1aWxkaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbjwvc2NyaXB0PiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9SZXNvdXJjZS1Qcm9kdWN0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1Jlc291cmNlLVByb2R1Y3Rpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9SZXNvdXJjZS1Qcm9kdWN0aW9uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03MDM2OGZlYSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9SZXNvdXJjZS1Qcm9kdWN0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vUmVzb3VyY2UtUHJvZHVjdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyJdLCJuYW1lcyI6WyJnZXRMaWZlZm9ybVRlY2hub2xvZ3lCb251cyIsInBsYXllciIsInBsYW5ldHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJwIiwiaXNNb29uIiwidGVjaG5vbG9neUJvbnVzQnlQbGFuZXQiLCJtYXAiLCJpZCIsImxldmVsVGVjaG5vbG9neUJvbnVzIiwibGYiLCJsaWZlZm9ybUV4cGVyaWVuY2UiLCJwbGFuZXQiLCJhY3RpdmVMaWZlZm9ybSIsImxldmVsQm9udXMiLCJ0ZWNobm9sb2d5Qm9udXNCdWlsZGluZ3MiLCJ0ZWNobm9sb2d5IiwidGVjaG5vbG9neUJvbnVzIiwicmVkdWNlIiwidG90YWwiLCJidWlsZGluZyIsImxldmVsIiwibGlmZWZvcm1CdWlsZGluZ3MiLCJ0eXBlIiwiYm9udXMiLCJ0b3RhbFRlY2hCb251cyIsImJvbnVzUGVyTGV2ZWwiLCJnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzIiwiZXhwZXJpZW5jZSIsImdldExpZmVmb3JtTGV2ZWwiLCJleHBGb3JMZXZlbCIsImdldExpZmVmb3JtRXhwZXJpZW5jZU5lZWRlZEZvckxldmVsIiwicmVuZGVyIiwiX3ZtIiwidGhpcyIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwiYXR0cnMiLCJ0ZWNobm9sb2d5Qm9udXNlcyIsImJvbnVzVHlwZXMiLCJidWlsZGluZ3MiLCJsaW1pdHMiLCJzdGF0aWNSZW5kZXJGbnMiLCJjb21wb25lbnQiXSwic291cmNlUm9vdCI6IiJ9