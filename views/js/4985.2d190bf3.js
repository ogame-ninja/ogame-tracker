"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[4985],{147:(o,e,t)=>{t.d(e,{g1:()=>s,g4:()=>n,_Z:()=>i});const r=.001;function s(o){const e=n(o);return e*r}function n(o){for(let e=0;;e++){const t=i(e+1);if(t>o)return e}}function i(o){return 900*o*(o+1)/2}},5546:(o,e,t)=>{function r(o,e){return 1+o+e}t.d(e,{q:()=>r})},2343:(o,e,t)=>{function r(o){return o.admiral&&o.commander&&o.engineer&&o.geologist&&o.technocrat}t.d(e,{J:()=>r})},4163:(o,e,t)=>{t.d(e,{F:()=>s});var r=t(602);function s(o,e,t,s){return o!=r.D0.collector?1:1*(1+s)+e*(1+t)}},9448:(o,e,t)=>{function r(o,e){switch(o){case 1:return e.pos1;case 2:return e.pos2;case 3:return e.pos3}return e.default}function s(o){const e=r(o.planetPosition,o.serverPositionBoost),t=15*o.serverEconomySpeed*(1+e);return Math.trunc(t)}t.d(e,{q:()=>s})},9452:(o,e,t)=>{t.d(e,{p:()=>n,E:()=>i});var r=t(1639),s=t(7331);function n(o,e){const t=Date.now(),n={[s._.metal]:[r.t.metalBooster_bronze_1day,r.t.metalBooster_bronze_7days],[s._.crystal]:[r.t.crystalBooster_bronze_1day,r.t.crystalBooster_bronze_7days],[s._.deuterium]:[r.t.deuteriumBooster_bronze_1day,r.t.deuteriumBooster_bronze_7days]}[o],a={[s._.metal]:[r.t.metalBooster_silver_7days,r.t.metalBooster_silver_30days,r.t.metalBooster_silver_90days],[s._.crystal]:[r.t.crystalBooster_silver_7days,r.t.crystalBooster_silver_30days,r.t.crystalBooster_silver_90days],[s._.deuterium]:[r.t.deuteriumBooster_silver_7days,r.t.deuteriumBooster_silver_30days,r.t.deuteriumBooster_silver_90days]}[o],l={[s._.metal]:[r.t.metalBooster_gold_7days,r.t.metalBooster_gold_30days,r.t.metalBooster_gold_90days],[s._.crystal]:[r.t.crystalBooster_gold_7days,r.t.crystalBooster_gold_30days,r.t.crystalBooster_gold_90days],[s._.deuterium]:[r.t.deuteriumBooster_gold_7days,r.t.deuteriumBooster_gold_30days,r.t.deuteriumBooster_gold_90days]}[o],c={[s._.metal]:[r.t.metalBooster_platinum_7days,r.t.metalBooster_platinum_30days,r.t.metalBooster_platinum_90days],[s._.crystal]:[r.t.crystalBooster_platinum_7days,r.t.crystalBooster_platinum_30days,r.t.crystalBooster_platinum_90days],[s._.deuterium]:[r.t.deuteriumBooster_platinum_7days,r.t.deuteriumBooster_platinum_30days,r.t.deuteriumBooster_platinum_90days]}[o];return n.some((o=>i(t,e[o])))?.1:a.some((o=>i(t,e[o])))?.2:l.some((o=>i(t,e[o])))?.3:c.some((o=>i(t,e[o])))?.4:0}function i(o,e){return null!=e&&("permanent"==e||e>o)}},7270:(o,e,t)=>{function r(o,e,t,r,s,n,i){const a=s&&r?1+n*(1+i):1,l=8,c=Math.floor((o+e+t)*l*a);return c}t.d(e,{Y:()=>r})},5148:(o,e,t)=>{function r(o){switch(o){case 8:return.35;case 7:case 9:return.23;case 6:case 10:return.17}return 0}function s(o){const e=r(o.planetPosition),t=30*o.serverEconomySpeed*(1+e);return Math.trunc(t)}t.d(e,{s:()=>s})},7053:(o,e,t)=>{t.d(e,{_:()=>y});var r=t(7545),s=t(9867),n=t(602),i=t(5546),a=t(7331);const l=.1,c=.02,u={[a._.metal]:.01,[a._.crystal]:.0066,[a._.deuterium]:.0033},d=.05;var m=t(4163),g=t(7270);function f(o){const e=(0,g.Y)(o.levelMetalMine,o.levelCrystalMine,o.levelDeuteriumSynthesizer,o.playerClass==n.D0.collector,o.hasGeologist,o.serverSettings.geologistActiveCrawlerFactorBonus,o.lifeformTechnologies.collectorClassBonus),t=Math.min(e,o.availableCrawlers),r=(0,m.F)(o.playerClass,o.serverSettings.collectorCrawlerProductionFactorBonus,o.lifeformTechnologies.collectorClassBonus,o.lifeformTechnologies.crawlerProductionBonus),s=o.serverSettings.crawlerProductionFactorPerUnit*t*r*o.crawlerProductionSetting/100;return Math.min(s,o.serverSettings.crawlerMaxProductionFactor)}class y{#o;#e;plasmaTechnologyLevel;playerClass;allianceClass;geologist;commandStaff;planets;serverSettings;constructor(o,e,t,s,n,i,a,l){this.#e=o,this.plasmaTechnologyLevel=e,this.playerClass=t,this.allianceClass=s,this.geologist=n,this.commandStaff=i,this.serverSettings=a,this.planets=l,this.#o=Object.keys(l).map((o=>(0,r.Y)(o)))}getLifeformBonusFactors(){let o=0,e=0,t=0;return this.#o.forEach((r=>{const s=this.planets[r],n=(0,i.q)(s.lifeformTechnologyBoost,s.lifeformExperienceBoost);o+=s.collectorClassBonusFactor*n,e+=s.lifeformTechnologyBonusProductionFactor*n,t+=s.lifeformTechnologyCrawlerProductionBonusFactor*n})),{collectorClassBonusFactor:o,lifeformTechnologyProductionBonusFactor:e,lifeformTechnologyCrawlerProductionBonusFactor:t}}addPlanet(o,e){this.#o.push(o),this.planets[o]=e}getProductionBreakdown(o){return this.#t(o,this.getLifeformBonusFactors())}#t(o,e){const{collectorClassBonusFactor:t,lifeformTechnologyProductionBonusFactor:r,lifeformTechnologyCrawlerProductionBonusFactor:i}=e,a=this.planets[o].mineProduction,m=(this.playerClass==n.D0.collector?1:0)*this.serverSettings.collectorProductionFactor*(1+t),g=(this.allianceClass==s.Ck.trader?1:0)*d,y=this.geologist?l:0,p=this.commandStaff?c:0,B=this.planets[o].crawlers,h=f({hasGeologist:this.geologist,availableCrawlers:B.available,levelMetalMine:B.totalMineLevel,levelCrystalMine:0,levelDeuteriumSynthesizer:0,crawlerProductionSetting:B.percentage,lifeformTechnologies:{collectorClassBonus:t,crawlerProductionBonus:i},playerClass:this.playerClass,serverSettings:{collectorCrawlerProductionFactorBonus:this.serverSettings.collectorCrawlerProductionFactorBonus,crawlerMaxProductionFactor:this.serverSettings.crawlerMaxProductionFactor,crawlerProductionFactorPerUnit:this.serverSettings.crawlerProductionFactorPerUnit,geologistActiveCrawlerFactorBonus:this.serverSettings.geologistActiveCrawlerFactorBonus}}),_=this.planets[o].baseProduction,P=a*this.plasmaTechnologyLevel*u[this.#e],v=a*h,F=a*m,C=a*g,w=a*y,T=a*p,S=a*this.planets[o].itemBonusProductionFactor,b=a*this.planets[o].lifeformBuildingBonusProductionFactor,M=a*r,L=_+a+P+v+F+C+w+T+S+b+M;return{baseProduction:_,mineProduction:a,plasmaTechnologyProduction:P,crawlerProduction:v,playerClassProduction:F,allianceClassProduction:C,geologistProduction:w,commandStaffProduction:T,itemProduction:S,lifeformBuildingsProduction:b,lifeformTechnologiesProduction:M,total:L}}getTotal(o=!1){const e=this.getLifeformBonusFactors();return this.#o.reduce(((t,r)=>{const s=o?this.planets[r].fusionReactorConsumption:0;return t+this.#t(r,e).total-s}),0)}getAverage(o=!1){return this.getTotal(o)/this.#o.length}clone(){const o={};return this.#o.forEach((e=>{o[e]={...this.planets[e],crawlers:{...this.planets[e].crawlers}}})),new y(this.#e,this.plasmaTechnologyLevel,this.playerClass,this.allianceClass,this.geologist,this.commandStaff,this.serverSettings,o)}}},4985:(o,e,t)=>{t.d(e,{c:()=>C});var r=t(6864),s=t(6682),n=t(3987),i=t(7069),a=t(6532),l=t(147),c=t(3418),u=t(4846),d=t(2343),m=t(3738),g=t(9448),f=t(9452),y=t(5148),p=t(7053),B=t(7331),h=t(2057),_=t(9751),P=t(7076),v=t(1786);function F(o){return u.s5.filter((e=>o.activeLifeformTechnologies.includes(e.type))).reduce(((e,t)=>e+t.getCrawlerProductionBonus(o.lifeformTechnologies[t.type])),0)}function C(o,e){const t=Object.values(o.planets).filter((o=>!o.isMoon)),u=o.research[m.s.plasmaTechnology],C=P.s.serverSettings,w={collectorProductionFactor:C.playerClasses.collector.productionFactorBonus,geologistActiveCrawlerFactorBonus:C.playerClasses.collector.crawlers.geologistActiveCrawlerFactorBonus,collectorCrawlerProductionFactorBonus:C.playerClasses.collector.crawlers.productionFactorBonus,crawlerProductionFactorPerUnit:C.playerClasses.crawlers.productionBoostFactorPerUnit,crawlerMaxProductionFactor:C.playerClasses.crawlers.maxProductionFactor},T={metal:{},crystal:{},deuterium:{}},S=(0,_.a)(c.gN,(o=>o==c.e5.none?0:(0,l.g1)(e[o])));t.forEach((o=>{const e=o.buildings[r.A.metalMine],t=o.buildings[r.A.crystalMine],l=o.buildings[r.A.deuteriumSynthesizer],c=e+t+l,u=o.buildings[r.A.fusionReactor],d={available:o.ships[h.g.crawler],percentage:o.productionSettings[h.g.crawler],totalMineLevel:c},m={crawlers:d,lifeformExperienceBoost:S[o.activeLifeform],collectorClassBonusFactor:(0,v.I5)(o),lifeformBuildingBonusProductionFactor:(0,v.qH)(o),lifeformTechnologyBonusProductionFactor:(0,v.g5)(o),lifeformTechnologyCrawlerProductionBonusFactor:F(o),lifeformTechnologyBoost:(0,v.io)(o)},p={planet:{position:o.coordinates.position,temperature:o.maxTemperature},serverSettings:{economySpeed:C.speed.economy,crystalBoost:{default:C.resourceProduction.productionFactorBonus.crystal.default,pos1:C.resourceProduction.productionFactorBonus.crystal.pos1,pos2:C.resourceProduction.productionFactorBonus.crystal.pos2,pos3:C.resourceProduction.productionFactorBonus.crystal.pos3}},productionSettings:{metalMine:o.productionSettings[r.A.metalMine],crystalMine:o.productionSettings[r.A.crystalMine],deuteriumSynthesizer:o.productionSettings[r.A.deuteriumSynthesizer],fusionReactor:o.productionSettings[r.A.fusionReactor]}};T.metal[o.id]={baseProduction:(0,y.s)({planetPosition:o.coordinates.position,serverEconomySpeed:C.speed.economy}),mineProduction:a.H.getProduction(e,p),itemBonusProductionFactor:(0,f.p)(B._.metal,o.activeItems),...m,lifeformBuildingBonusProductionFactor:m.lifeformBuildingBonusProductionFactor.metal,lifeformTechnologyBonusProductionFactor:m.lifeformTechnologyBonusProductionFactor.metal,fusionReactorConsumption:0},T.crystal[o.id]={baseProduction:(0,g.q)({planetPosition:o.coordinates.position,serverEconomySpeed:C.speed.economy,serverPositionBoost:C.resourceProduction.productionFactorBonus.crystal}),mineProduction:s.g.getProduction(t,p),itemBonusProductionFactor:(0,f.p)(B._.crystal,o.activeItems),...m,lifeformBuildingBonusProductionFactor:m.lifeformBuildingBonusProductionFactor.crystal,lifeformTechnologyBonusProductionFactor:m.lifeformTechnologyBonusProductionFactor.crystal,fusionReactorConsumption:0},T.deuterium[o.id]={baseProduction:0,mineProduction:n.w.getProduction(l,p),itemBonusProductionFactor:(0,f.p)(B._.deuterium,o.activeItems),...m,lifeformBuildingBonusProductionFactor:m.lifeformBuildingBonusProductionFactor.deuterium,lifeformTechnologyBonusProductionFactor:m.lifeformTechnologyBonusProductionFactor.deuterium,fusionReactorConsumption:i.s.getConsumption(u,p).deuterium}}));const b={metal:new p._(B._.metal,u,o.playerClass,o.allianceClass,o.officers.geologist,(0,d.J)(o.officers),w,T.metal),crystal:new p._(B._.crystal,u,o.playerClass,o.allianceClass,o.officers.geologist,(0,d.J)(o.officers),w,T.crystal),deuterium:new p._(B._.deuterium,u,o.playerClass,o.allianceClass,o.officers.geologist,(0,d.J)(o.officers),w,T.deuterium),getTotal(o=!1){return{metal:this.metal.getTotal(o),crystal:this.crystal.getTotal(o),deuterium:this.deuterium.getTotal(o),energy:0}}};return b}},1786:(o,e,t)=>{t.d(e,{I5:()=>a,io:()=>l,qH:()=>c,g5:()=>u});var r=t(602),s=t(5128),n=t(6119),i=t(4846);function a(o){return i._i.filter((e=>o.activeLifeformTechnologies.includes(e.type))).reduce(((e,t)=>e+t.getClassBonus(r.D0.collector,o.lifeformTechnologies[t.type])),0)}function l(o){return n.cQ[o.activeLifeform].reduce(((e,t)=>e+t.getLifeformTechnologyBonus(o.lifeformBuildings[t.type])),0)}function c(o){return n.wJ[o.activeLifeform].reduce(((e,t)=>(0,s.aV)(e,t.getProductionBonus(o.lifeformBuildings[t.type]))),{metal:0,crystal:0,deuterium:0,energy:0})}function u(o){return i.rE.filter((e=>o.activeLifeformTechnologies.includes(e.type))).reduce(((e,t)=>(0,s.aV)(e,t.getProductionBonus(o.lifeformTechnologies[t.type]))),{metal:0,crystal:0,deuterium:0,energy:0})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEMsUUFDRyxDQUFDSCxFQUFPNEQsSUFBYTVELEVBQVE0RCxFQUFTQywyQkFBMkIvRixFQUFPZ0csa0JBQWtCRixFQUFTOUMsUUFDbkcsR0FJTCxTQUFTaUQsRUFBK0NqRyxHQUMzRCxPQUFPLEtBQW1EQSxFQUFPMkUsZ0JBQWdCdEMsUUFDN0UsQ0FBQ0gsRUFBTzRELEtBQWEsUUFBUTVELEVBQU80RCxFQUFTSSxtQkFBbUJsRyxFQUFPZ0csa0JBQWtCRixFQUFTOUMsU0FDbEcsQ0FBRWlCLE1BQU8sRUFBR0MsUUFBUyxFQUFHQyxVQUFXLEVBQUd1QixPQUFRLElBSS9DLFNBQVNTLEVBQWlEbkcsR0FDN0QsT0FBTyxhQUNLNkMsR0FBUTdDLEVBQU84QywyQkFBMkJDLFNBQVNGLEVBQUtHLFFBQy9EWCxRQUNHLENBQUNILEVBQU9XLEtBQVMsUUFBUVgsRUFBT1csRUFBS3FELG1CQUFtQmxHLEVBQU96QixxQkFBcUJzRSxFQUFLRyxTQUN6RixDQUFFaUIsTUFBTyxFQUFHQyxRQUFTLEVBQUdDLFVBQVcsRUFBR3VCLE9BQVEiLCJzb3VyY2VzIjpbIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvZXhwZXJpZW5jZS50cyIsIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvdXRpbHMudHMiLCJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3NoYXJlZC9tb2RlbHMvb2dhbWUvcHJlbWl1bS9oYXNDb21tYW5kU3RhZmYudHMiLCJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3NoYXJlZC9tb2RlbHMvb2dhbWUvcmVzb3VyY2UtcHJvZHVjdGlvbi9nZXRDcmF3bGVyUHJvZHVjdGlvbkZhY3Rvci50cyIsIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvc2hhcmVkL21vZGVscy9vZ2FtZS9yZXNvdXJjZS1wcm9kdWN0aW9uL2dldENyeXN0YWxQcm9kdWN0aW9uLnRzIiwib2dhbWUtdHJhY2tlcjovLy8uL3NyYy9zaGFyZWQvbW9kZWxzL29nYW1lL3Jlc291cmNlLXByb2R1Y3Rpb24vZ2V0SXRlbUJvbnVzLnRzIiwib2dhbWUtdHJhY2tlcjovLy8uL3NyYy9zaGFyZWQvbW9kZWxzL29nYW1lL3Jlc291cmNlLXByb2R1Y3Rpb24vZ2V0TWF4QWN0aXZlQ3Jhd2xlcnMudHMiLCJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3NoYXJlZC9tb2RlbHMvb2dhbWUvcmVzb3VyY2UtcHJvZHVjdGlvbi9nZXRNZXRhbFByb2R1Y3Rpb24udHMiLCJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3NoYXJlZC9tb2RlbHMvb2dhbWUvcmVzb3VyY2UtcHJvZHVjdGlvbi9jb25zdGFudHMudHMiLCJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3NoYXJlZC9tb2RlbHMvb2dhbWUvcmVzb3VyY2UtcHJvZHVjdGlvbi9nZXRDcmF3bGVyQm9vc3QudHMiLCJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3NoYXJlZC9tb2RlbHMvb2dhbWUvcmVzb3VyY2UtcHJvZHVjdGlvbi90eXBlcy50cyIsIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvbW9kZWxzL2VtcGlyZS9wcm9kdWN0aW9uL2luZGV4LnRzIiwib2dhbWUtdHJhY2tlcjovLy8uL3NyYy92aWV3cy9zdGF0cy9tb2RlbHMvbGlmZWZvcm1zL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJvbnVzUGVyTGV2ZWwgPSAwLjAwXzE7IC8vMC4xJVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExpZmVmb3JtTGV2ZWxUZWNobm9sb2d5Qm9udXMoZXhwZXJpZW5jZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGxldmVsID0gZ2V0TGlmZWZvcm1MZXZlbChleHBlcmllbmNlKTtcclxuICAgIHJldHVybiBsZXZlbCAqIGJvbnVzUGVyTGV2ZWw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMaWZlZm9ybUxldmVsKGV4cGVyaWVuY2U6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBmb3IobGV0IGxldmVsID0gMDsgOyBsZXZlbCsrKSB7XHJcbiAgICAgICAgY29uc3QgZXhwRm9yTGV2ZWwgPSBnZXRMaWZlZm9ybUV4cGVyaWVuY2VOZWVkZWRGb3JMZXZlbChsZXZlbCArIDEpO1xyXG4gICAgICAgIGlmKGV4cEZvckxldmVsID4gZXhwZXJpZW5jZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGV2ZWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhwZXJpZW5jZU5lZWRlZEZvckxldmVsVXAobGV2ZWw6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gOTAwICogbGV2ZWw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMaWZlZm9ybUV4cGVyaWVuY2VOZWVkZWRGb3JMZXZlbChsZXZlbDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiA5MDAgKiBsZXZlbCAqIChsZXZlbCArIDEpIC8gMjsgLy8gZ2F1c3NpYW4gc3VtbWF0aW9uIGZvcm11bGFcclxufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRUZWNobm9sb2d5Qm9udXNGYWN0b3IoYnVpbGRpbmdCb29zdDogbnVtYmVyLCBsZXZlbEJvb3N0OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuICgxICsgYnVpbGRpbmdCb29zdCArIGxldmVsQm9vc3QpOyAvLyB0aGlzIGlzIHRoZSBjb3JyZWN0IGZvcm11bGEgKGNoZWNrZWQgMjAyMy0wMi0xMSlcclxufSIsImltcG9ydCB7IFBsYXllck9mZmljZXJzIH0gZnJvbSBcIi4uLy4uL2VtcGlyZS9QbGF5ZXJPZmZpY2Vyc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc0NvbW1hbmRTdGFmZihvZmZpY2VyczogUGxheWVyT2ZmaWNlcnMpIHtcclxuICAgIHJldHVybiBvZmZpY2Vycy5hZG1pcmFsXHJcbiAgICAgICAgJiYgb2ZmaWNlcnMuY29tbWFuZGVyXHJcbiAgICAgICAgJiYgb2ZmaWNlcnMuZW5naW5lZXJcclxuICAgICAgICAmJiBvZmZpY2Vycy5nZW9sb2dpc3RcclxuICAgICAgICAmJiBvZmZpY2Vycy50ZWNobm9jcmF0O1xyXG59IiwiaW1wb3J0IHsgUGxheWVyQ2xhc3MgfSBmcm9tIFwiLi4vY2xhc3Nlcy9QbGF5ZXJDbGFzc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENyYXdsZXJQcm9kdWN0aW9uRmFjdG9yKFxyXG4gICAgcGxheWVyQ2xhc3M6IFBsYXllckNsYXNzLFxyXG4gICAgY29sbGVjdG9yQ3Jhd2xlclByb2R1Y3Rpb25GYWN0b3JCb251czogbnVtYmVyLFxyXG4gICAgY29sbGVjdG9yQ2xhc3NCb251czogbnVtYmVyLFxyXG4gICAgY3Jhd2xlclByb2R1Y3Rpb25Cb251czogbnVtYmVyLFxyXG4pOiBudW1iZXIge1xyXG4gICAgaWYgKHBsYXllckNsYXNzICE9IFBsYXllckNsYXNzLmNvbGxlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAxICogKDEgKyBjcmF3bGVyUHJvZHVjdGlvbkJvbnVzKVxyXG4gICAgICAgICsgKGNvbGxlY3RvckNyYXdsZXJQcm9kdWN0aW9uRmFjdG9yQm9udXMgKiAoMSArIGNvbGxlY3RvckNsYXNzQm9udXMpKTtcclxufSIsImZ1bmN0aW9uIGdldENyeXN0YWxQcm9kdWN0aW9uQm9vc3QocG9zaXRpb246IG51bWJlciwgc2VydmVyUG9zaXRpb25Cb29zdDoge1xyXG4gICAgZGVmYXVsdDogbnVtYmVyO1xyXG4gICAgcG9zMTogbnVtYmVyO1xyXG4gICAgcG9zMjogbnVtYmVyO1xyXG4gICAgcG9zMzogbnVtYmVyO1xyXG59KSB7XHJcbiAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICByZXR1cm4gc2VydmVyUG9zaXRpb25Cb29zdC5wb3MxO1xyXG5cclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIHJldHVybiBzZXJ2ZXJQb3NpdGlvbkJvb3N0LnBvczI7XHJcblxyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgcmV0dXJuIHNlcnZlclBvc2l0aW9uQm9vc3QucG9zMztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VydmVyUG9zaXRpb25Cb29zdC5kZWZhdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3J5c3RhbEJhc2VQcm9kdWN0aW9uKGRlcGVuZGVuY2llczoge1xyXG4gICAgcGxhbmV0UG9zaXRpb246IG51bWJlcjtcclxuICAgIHNlcnZlckVjb25vbXlTcGVlZDogbnVtYmVyO1xyXG4gICAgc2VydmVyUG9zaXRpb25Cb29zdDoge1xyXG4gICAgICAgIGRlZmF1bHQ6IG51bWJlcjtcclxuICAgICAgICBwb3MxOiBudW1iZXI7XHJcbiAgICAgICAgcG9zMjogbnVtYmVyO1xyXG4gICAgICAgIHBvczM6IG51bWJlcjtcclxuICAgIH07XHJcbn0pIHtcclxuICAgIGNvbnN0IGJvb3N0ID0gZ2V0Q3J5c3RhbFByb2R1Y3Rpb25Cb29zdChkZXBlbmRlbmNpZXMucGxhbmV0UG9zaXRpb24sIGRlcGVuZGVuY2llcy5zZXJ2ZXJQb3NpdGlvbkJvb3N0KTtcclxuICAgIGNvbnN0IGJhc2VQcm9kdWN0aW9uID0gMTUgKiBkZXBlbmRlbmNpZXMuc2VydmVyRWNvbm9teVNwZWVkICogKDEgKyBib29zdCk7XHJcblxyXG4gICAgcmV0dXJuIE1hdGgudHJ1bmMoYmFzZVByb2R1Y3Rpb24pO1xyXG59IiwiaW1wb3J0IHsgUGxhbmV0QWN0aXZlSXRlbXMgfSBmcm9tIFwiLi4vLi4vZW1waXJlL1BsYW5ldEFjdGl2ZUl0ZW1zXCI7XHJcbmltcG9ydCB7IEl0ZW1IYXNoIH0gZnJvbSBcIi4uL2l0ZW1zL0l0ZW1IYXNoXCI7XHJcbmltcG9ydCB7IFJlc291cmNlVHlwZSB9IGZyb20gXCIuLi9yZXNvdXJjZXMvUmVzb3VyY2VUeXBlXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXRlbUJvbnVzKHJlc291cmNlOiBSZXNvdXJjZVR5cGUsIGFjdGl2ZUl0ZW1zOiBQbGFuZXRBY3RpdmVJdGVtcyk6IG51bWJlciB7XHJcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgIGNvbnN0IGl0ZW1zMTAgPSB7XHJcbiAgICAgICAgW1Jlc291cmNlVHlwZS5tZXRhbF06IFtJdGVtSGFzaC5tZXRhbEJvb3N0ZXJfYnJvbnplXzFkYXksIEl0ZW1IYXNoLm1ldGFsQm9vc3Rlcl9icm9uemVfN2RheXNdLFxyXG4gICAgICAgIFtSZXNvdXJjZVR5cGUuY3J5c3RhbF06IFtJdGVtSGFzaC5jcnlzdGFsQm9vc3Rlcl9icm9uemVfMWRheSwgSXRlbUhhc2guY3J5c3RhbEJvb3N0ZXJfYnJvbnplXzdkYXlzXSxcclxuICAgICAgICBbUmVzb3VyY2VUeXBlLmRldXRlcml1bV06IFtJdGVtSGFzaC5kZXV0ZXJpdW1Cb29zdGVyX2Jyb256ZV8xZGF5LCBJdGVtSGFzaC5kZXV0ZXJpdW1Cb29zdGVyX2Jyb256ZV83ZGF5c10sXHJcbiAgICB9W3Jlc291cmNlXTtcclxuICAgIGNvbnN0IGl0ZW1zMjAgPSB7XHJcbiAgICAgICAgW1Jlc291cmNlVHlwZS5tZXRhbF06IFtJdGVtSGFzaC5tZXRhbEJvb3N0ZXJfc2lsdmVyXzdkYXlzLCBJdGVtSGFzaC5tZXRhbEJvb3N0ZXJfc2lsdmVyXzMwZGF5cywgSXRlbUhhc2gubWV0YWxCb29zdGVyX3NpbHZlcl85MGRheXNdLFxyXG4gICAgICAgIFtSZXNvdXJjZVR5cGUuY3J5c3RhbF06IFtJdGVtSGFzaC5jcnlzdGFsQm9vc3Rlcl9zaWx2ZXJfN2RheXMsIEl0ZW1IYXNoLmNyeXN0YWxCb29zdGVyX3NpbHZlcl8zMGRheXMsIEl0ZW1IYXNoLmNyeXN0YWxCb29zdGVyX3NpbHZlcl85MGRheXNdLFxyXG4gICAgICAgIFtSZXNvdXJjZVR5cGUuZGV1dGVyaXVtXTogW0l0ZW1IYXNoLmRldXRlcml1bUJvb3N0ZXJfc2lsdmVyXzdkYXlzLCBJdGVtSGFzaC5kZXV0ZXJpdW1Cb29zdGVyX3NpbHZlcl8zMGRheXMsIEl0ZW1IYXNoLmRldXRlcml1bUJvb3N0ZXJfc2lsdmVyXzkwZGF5c10sXHJcbiAgICB9W3Jlc291cmNlXTtcclxuICAgIGNvbnN0IGl0ZW1zMzAgPSB7XHJcbiAgICAgICAgW1Jlc291cmNlVHlwZS5tZXRhbF06IFtJdGVtSGFzaC5tZXRhbEJvb3N0ZXJfZ29sZF83ZGF5cywgSXRlbUhhc2gubWV0YWxCb29zdGVyX2dvbGRfMzBkYXlzLCBJdGVtSGFzaC5tZXRhbEJvb3N0ZXJfZ29sZF85MGRheXNdLFxyXG4gICAgICAgIFtSZXNvdXJjZVR5cGUuY3J5c3RhbF06IFtJdGVtSGFzaC5jcnlzdGFsQm9vc3Rlcl9nb2xkXzdkYXlzLCBJdGVtSGFzaC5jcnlzdGFsQm9vc3Rlcl9nb2xkXzMwZGF5cywgSXRlbUhhc2guY3J5c3RhbEJvb3N0ZXJfZ29sZF85MGRheXNdLFxyXG4gICAgICAgIFtSZXNvdXJjZVR5cGUuZGV1dGVyaXVtXTogW0l0ZW1IYXNoLmRldXRlcml1bUJvb3N0ZXJfZ29sZF83ZGF5cywgSXRlbUhhc2guZGV1dGVyaXVtQm9vc3Rlcl9nb2xkXzMwZGF5cywgSXRlbUhhc2guZGV1dGVyaXVtQm9vc3Rlcl9nb2xkXzkwZGF5c10sXHJcbiAgICB9W3Jlc291cmNlXTtcclxuICAgIGNvbnN0IGl0ZW1zNDAgPSB7XHJcbiAgICAgICAgW1Jlc291cmNlVHlwZS5tZXRhbF06IFtJdGVtSGFzaC5tZXRhbEJvb3N0ZXJfcGxhdGludW1fN2RheXMsIEl0ZW1IYXNoLm1ldGFsQm9vc3Rlcl9wbGF0aW51bV8zMGRheXMsIEl0ZW1IYXNoLm1ldGFsQm9vc3Rlcl9wbGF0aW51bV85MGRheXNdLFxyXG4gICAgICAgIFtSZXNvdXJjZVR5cGUuY3J5c3RhbF06IFtJdGVtSGFzaC5jcnlzdGFsQm9vc3Rlcl9wbGF0aW51bV83ZGF5cywgSXRlbUhhc2guY3J5c3RhbEJvb3N0ZXJfcGxhdGludW1fMzBkYXlzLCBJdGVtSGFzaC5jcnlzdGFsQm9vc3Rlcl9wbGF0aW51bV85MGRheXNdLFxyXG4gICAgICAgIFtSZXNvdXJjZVR5cGUuZGV1dGVyaXVtXTogW0l0ZW1IYXNoLmRldXRlcml1bUJvb3N0ZXJfcGxhdGludW1fN2RheXMsIEl0ZW1IYXNoLmRldXRlcml1bUJvb3N0ZXJfcGxhdGludW1fMzBkYXlzLCBJdGVtSGFzaC5kZXV0ZXJpdW1Cb29zdGVyX3BsYXRpbnVtXzkwZGF5c10sXHJcbiAgICB9W3Jlc291cmNlXTtcclxuXHJcbiAgICBpZiAoaXRlbXMxMC5zb21lKGhhc2ggPT4gaXNJdGVtQWN0aXZlKG5vdywgYWN0aXZlSXRlbXNbaGFzaF0pKSkge1xyXG4gICAgICAgIHJldHVybiAwLjE7XHJcbiAgICB9XHJcbiAgICBpZiAoaXRlbXMyMC5zb21lKGhhc2ggPT4gaXNJdGVtQWN0aXZlKG5vdywgYWN0aXZlSXRlbXNbaGFzaF0pKSkge1xyXG4gICAgICAgIHJldHVybiAwLjI7XHJcbiAgICB9XHJcbiAgICBpZiAoaXRlbXMzMC5zb21lKGhhc2ggPT4gaXNJdGVtQWN0aXZlKG5vdywgYWN0aXZlSXRlbXNbaGFzaF0pKSkge1xyXG4gICAgICAgIHJldHVybiAwLjM7XHJcbiAgICB9XHJcbiAgICBpZiAoaXRlbXM0MC5zb21lKGhhc2ggPT4gaXNJdGVtQWN0aXZlKG5vdywgYWN0aXZlSXRlbXNbaGFzaF0pKSkge1xyXG4gICAgICAgIHJldHVybiAwLjQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZW1BY3RpdmUobm93OiBudW1iZXIsIGl0ZW1FeHBpcmF0aW9uPzogbnVtYmVyIHwgJ3Blcm1hbmVudCcpIHtcclxuICAgIGlmKGl0ZW1FeHBpcmF0aW9uID09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZihpdGVtRXhwaXJhdGlvbiA9PSAncGVybWFuZW50Jykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpdGVtRXhwaXJhdGlvbiA+IG5vdztcclxufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRNYXhBY3RpdmVDcmF3bGVycyhcclxuICAgIG1ldGFsTWluZUxldmVsOiBudW1iZXIsXHJcbiAgICBjcnlzdGFsTWluZUxldmVsOiBudW1iZXIsXHJcbiAgICBkZXV0ZXJpdW1TeW50aGVzaXplckxldmVsOiBudW1iZXIsXHJcbiAgICBpc0NvbGxlY3RvcjogYm9vbGVhbixcclxuICAgIGhhc0dlb2xvZ2lzdDogYm9vbGVhbixcclxuICAgIHNlcnZlclNldHRpbmdzX2dlb2xvZ2lzdEFjdGl2ZUNyYXdsZXJGYWN0b3JCb251czogbnVtYmVyLFxyXG4gICAgY29sbGVjdG9yQ2xhc3NCb251czogbnVtYmVyXHJcbikge1xyXG4gICAgY29uc3QgbWF4Q3Jhd2xlckZhY3RvciA9IGhhc0dlb2xvZ2lzdCAmJiBpc0NvbGxlY3RvclxyXG4gICAgICAgID8gKDEgKyBzZXJ2ZXJTZXR0aW5nc19nZW9sb2dpc3RBY3RpdmVDcmF3bGVyRmFjdG9yQm9udXMgKiAoMSArIGNvbGxlY3RvckNsYXNzQm9udXMpKVxyXG4gICAgICAgIDogMTtcclxuXHJcbiAgICBjb25zdCBjcmF3bGVyc1BlckxldmVsID0gODtcclxuICAgIGNvbnN0IG1heENyYXdsZXJzID0gTWF0aC5mbG9vcihcclxuICAgICAgICAobWV0YWxNaW5lTGV2ZWwgKyBjcnlzdGFsTWluZUxldmVsICsgZGV1dGVyaXVtU3ludGhlc2l6ZXJMZXZlbClcclxuICAgICAgICAqIGNyYXdsZXJzUGVyTGV2ZWxcclxuICAgICAgICAqIG1heENyYXdsZXJGYWN0b3JcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIG1heENyYXdsZXJzO1xyXG59IiwiaW1wb3J0IHsgX3Rocm93IH0gZnJvbSBcIkAvc2hhcmVkL3V0aWxzL190aHJvd1wiO1xyXG5cclxuZnVuY3Rpb24gZ2V0TWV0YWxQcm9kdWN0aW9uQm9vc3QocG9zaXRpb246IG51bWJlcikge1xyXG4gICAgc3dpdGNoIChwb3NpdGlvbikge1xyXG4gICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgcmV0dXJuIDAuMzU7XHJcblxyXG4gICAgICAgIGNhc2UgNzpcclxuICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgIHJldHVybiAwLjIzO1xyXG5cclxuICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgY2FzZSAxMDpcclxuICAgICAgICAgICAgcmV0dXJuIDAuMTc7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXRhbEJhc2VQcm9kdWN0aW9uKGRlcGVuZGVuY2llczoge1xyXG4gICAgcGxhbmV0UG9zaXRpb246IG51bWJlcjtcclxuICAgIHNlcnZlckVjb25vbXlTcGVlZDogbnVtYmVyO1xyXG59KSB7XHJcbiAgICBjb25zdCBib29zdCA9IGdldE1ldGFsUHJvZHVjdGlvbkJvb3N0KGRlcGVuZGVuY2llcy5wbGFuZXRQb3NpdGlvbik7XHJcbiAgICBjb25zdCBiYXNlUHJvZHVjdGlvbiA9IDMwICogZGVwZW5kZW5jaWVzLnNlcnZlckVjb25vbXlTcGVlZCAqICgxICsgYm9vc3QpO1xyXG5cclxuICAgIHJldHVybiBNYXRoLnRydW5jKGJhc2VQcm9kdWN0aW9uKTtcclxufSIsImltcG9ydCB7IFJlc291cmNlVHlwZSB9IGZyb20gXCIuLi9yZXNvdXJjZXMvUmVzb3VyY2VUeXBlXCI7XHJcblxyXG5leHBvcnQgY29uc3QgR2VvbG9naXN0UHJvZHVjdGlvbkJvbnVzID0gMC4xOyAvLyAxMCVcclxuZXhwb3J0IGNvbnN0IENvbW1hbmRTdGFmZlByb2R1Y3Rpb25Cb251cyA9IDAuMDI7IC8vIDIlXHJcbmV4cG9ydCBjb25zdCBQbGFzbWFUZWNobm9sb2d5UHJvZHVjdGlvbkJvbnVzID0ge1xyXG4gICAgW1Jlc291cmNlVHlwZS5tZXRhbF06IDAuMDEsIC8vMSVcclxuICAgIFtSZXNvdXJjZVR5cGUuY3J5c3RhbF06IDAuMDA2NiwgLy8wLjY2JVxyXG4gICAgW1Jlc291cmNlVHlwZS5kZXV0ZXJpdW1dOiAwLjAwMzMsIC8vMC4zMyVcclxufTtcclxuZXhwb3J0IGNvbnN0IEFsbGlhbmNlQ2xhc3NUcmFkZXJQcm9kdWN0aW9uQm9udXMgPSAwLjA1OyAvLzUlIiwiaW1wb3J0IHsgQ3Jhd2xlclByb2R1Y3Rpb25QZXJjZW50YWdlIH0gZnJvbSBcIi4uLy4uL2VtcGlyZS9DcmF3bGVyUHJvZHVjdGlvblBlcmNlbnRhZ2VcIjtcclxuaW1wb3J0IHsgUGxheWVyQ2xhc3MgfSBmcm9tIFwiLi4vY2xhc3Nlcy9QbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBnZXRDcmF3bGVyUHJvZHVjdGlvbkZhY3RvciB9IGZyb20gXCIuL2dldENyYXdsZXJQcm9kdWN0aW9uRmFjdG9yXCI7XHJcbmltcG9ydCB7IGdldE1heEFjdGl2ZUNyYXdsZXJzIH0gZnJvbSBcIi4vZ2V0TWF4QWN0aXZlQ3Jhd2xlcnNcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ3Jhd2xlckJvb3N0Q2FsY3VsYXRpb25EYXRhIHtcclxuICAgIGF2YWlsYWJsZUNyYXdsZXJzOiBudW1iZXI7XHJcbiAgICBjcmF3bGVyUHJvZHVjdGlvblNldHRpbmc6IENyYXdsZXJQcm9kdWN0aW9uUGVyY2VudGFnZTtcclxuICAgIGxldmVsTWV0YWxNaW5lOiBudW1iZXI7XHJcbiAgICBsZXZlbENyeXN0YWxNaW5lOiBudW1iZXI7XHJcbiAgICBsZXZlbERldXRlcml1bVN5bnRoZXNpemVyOiBudW1iZXI7XHJcbiAgICBwbGF5ZXJDbGFzczogUGxheWVyQ2xhc3M7XHJcbiAgICBoYXNHZW9sb2dpc3Q6IGJvb2xlYW47XHJcbiAgICBsaWZlZm9ybVRlY2hub2xvZ2llczoge1xyXG4gICAgICAgIGNvbGxlY3RvckNsYXNzQm9udXM6IG51bWJlcjtcclxuICAgICAgICBjcmF3bGVyUHJvZHVjdGlvbkJvbnVzOiBudW1iZXI7XHJcbiAgICB9LFxyXG4gICAgc2VydmVyU2V0dGluZ3M6IHtcclxuICAgICAgICBnZW9sb2dpc3RBY3RpdmVDcmF3bGVyRmFjdG9yQm9udXM6IG51bWJlcjtcclxuICAgICAgICBjb2xsZWN0b3JDcmF3bGVyUHJvZHVjdGlvbkZhY3RvckJvbnVzOiBudW1iZXI7XHJcbiAgICAgICAgY3Jhd2xlclByb2R1Y3Rpb25GYWN0b3JQZXJVbml0OiBudW1iZXI7XHJcbiAgICAgICAgY3Jhd2xlck1heFByb2R1Y3Rpb25GYWN0b3I6IG51bWJlcjtcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDcmF3bGVyQm9vc3QoZGF0YTogQ3Jhd2xlckJvb3N0Q2FsY3VsYXRpb25EYXRhKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IG1heENyYXdsZXJzID0gZ2V0TWF4QWN0aXZlQ3Jhd2xlcnMoXHJcbiAgICAgICAgZGF0YS5sZXZlbE1ldGFsTWluZSxcclxuICAgICAgICBkYXRhLmxldmVsQ3J5c3RhbE1pbmUsXHJcbiAgICAgICAgZGF0YS5sZXZlbERldXRlcml1bVN5bnRoZXNpemVyLFxyXG4gICAgICAgIGRhdGEucGxheWVyQ2xhc3MgPT0gUGxheWVyQ2xhc3MuY29sbGVjdG9yLFxyXG4gICAgICAgIGRhdGEuaGFzR2VvbG9naXN0LFxyXG4gICAgICAgIGRhdGEuc2VydmVyU2V0dGluZ3MuZ2VvbG9naXN0QWN0aXZlQ3Jhd2xlckZhY3RvckJvbnVzLFxyXG4gICAgICAgIGRhdGEubGlmZWZvcm1UZWNobm9sb2dpZXMuY29sbGVjdG9yQ2xhc3NCb251cyxcclxuICAgICk7XHJcbiAgICBjb25zdCBjcmF3bGVyQ291bnQgPSBNYXRoLm1pbihtYXhDcmF3bGVycywgZGF0YS5hdmFpbGFibGVDcmF3bGVycyk7XHJcbiAgICBjb25zdCBjcmF3bGVyUHJvZHVjdGl2aXR5ID0gZ2V0Q3Jhd2xlclByb2R1Y3Rpb25GYWN0b3IoXHJcbiAgICAgICAgZGF0YS5wbGF5ZXJDbGFzcyxcclxuICAgICAgICBkYXRhLnNlcnZlclNldHRpbmdzLmNvbGxlY3RvckNyYXdsZXJQcm9kdWN0aW9uRmFjdG9yQm9udXMsXHJcbiAgICAgICAgZGF0YS5saWZlZm9ybVRlY2hub2xvZ2llcy5jb2xsZWN0b3JDbGFzc0JvbnVzLFxyXG4gICAgICAgIGRhdGEubGlmZWZvcm1UZWNobm9sb2dpZXMuY3Jhd2xlclByb2R1Y3Rpb25Cb251cyxcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgcG90ZW50aWFsQ3Jhd2xlckJvb3N0ID1cclxuICAgICAgICBkYXRhLnNlcnZlclNldHRpbmdzLmNyYXdsZXJQcm9kdWN0aW9uRmFjdG9yUGVyVW5pdFxyXG4gICAgICAgICogY3Jhd2xlckNvdW50XHJcbiAgICAgICAgKiBjcmF3bGVyUHJvZHVjdGl2aXR5XHJcbiAgICAgICAgKiBkYXRhLmNyYXdsZXJQcm9kdWN0aW9uU2V0dGluZyAvIDEwMDtcclxuXHJcbiAgICByZXR1cm4gTWF0aC5taW4ocG90ZW50aWFsQ3Jhd2xlckJvb3N0LCBkYXRhLnNlcnZlclNldHRpbmdzLmNyYXdsZXJNYXhQcm9kdWN0aW9uRmFjdG9yKTtcclxufSIsImltcG9ydCB7IHBhcnNlSW50U2FmZSB9IGZyb20gXCJAL3NoYXJlZC91dGlscy9wYXJzZU51bWJlcnNcIjtcclxuaW1wb3J0IHsgQ3Jhd2xlclByb2R1Y3Rpb25QZXJjZW50YWdlIH0gZnJvbSBcIi4uLy4uL2VtcGlyZS9DcmF3bGVyUHJvZHVjdGlvblBlcmNlbnRhZ2VcIjtcclxuaW1wb3J0IHsgQWxsaWFuY2VDbGFzcyB9IGZyb20gXCIuLi9jbGFzc2VzL0FsbGlhbmNlQ2xhc3NcIjtcclxuaW1wb3J0IHsgUGxheWVyQ2xhc3MgfSBmcm9tIFwiLi4vY2xhc3Nlcy9QbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBnZXRUZWNobm9sb2d5Qm9udXNGYWN0b3IgfSBmcm9tIFwiLi4vbGlmZWZvcm1zL3V0aWxzXCI7XHJcbmltcG9ydCB7IFJlc291cmNlVHlwZSB9IGZyb20gXCIuLi9yZXNvdXJjZXMvUmVzb3VyY2VUeXBlXCI7XHJcbmltcG9ydCB7IEFsbGlhbmNlQ2xhc3NUcmFkZXJQcm9kdWN0aW9uQm9udXMsIENvbW1hbmRTdGFmZlByb2R1Y3Rpb25Cb251cywgR2VvbG9naXN0UHJvZHVjdGlvbkJvbnVzLCBQbGFzbWFUZWNobm9sb2d5UHJvZHVjdGlvbkJvbnVzIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IGdldENyYXdsZXJCb29zdCB9IGZyb20gXCIuL2dldENyYXdsZXJCb29zdFwiO1xyXG5cclxuXHJcbmludGVyZmFjZSBHbG9iYWxQcm9kdWN0aW9uQm9udXNlcyB7XHJcbiAgICBjb2xsZWN0b3JDbGFzc0JvbnVzRmFjdG9yOiBudW1iZXI7XHJcbiAgICBsaWZlZm9ybVRlY2hub2xvZ3lQcm9kdWN0aW9uQm9udXNGYWN0b3I6IG51bWJlcjtcclxuICAgIGxpZmVmb3JtVGVjaG5vbG9neUNyYXdsZXJQcm9kdWN0aW9uQm9udXNGYWN0b3I6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQbGFuZXRQcm9kdWN0aW9uQnJlYWtkb3duIHtcclxuICAgIGJhc2VQcm9kdWN0aW9uOiBudW1iZXI7XHJcbiAgICBtaW5lUHJvZHVjdGlvbjogbnVtYmVyO1xyXG4gICAgcGxhc21hVGVjaG5vbG9neVByb2R1Y3Rpb246IG51bWJlcjtcclxuICAgIGNyYXdsZXJQcm9kdWN0aW9uOiBudW1iZXI7XHJcbiAgICBwbGF5ZXJDbGFzc1Byb2R1Y3Rpb246IG51bWJlcjtcclxuICAgIGFsbGlhbmNlQ2xhc3NQcm9kdWN0aW9uOiBudW1iZXI7XHJcbiAgICBnZW9sb2dpc3RQcm9kdWN0aW9uOiBudW1iZXI7XHJcbiAgICBjb21tYW5kU3RhZmZQcm9kdWN0aW9uOiBudW1iZXI7XHJcbiAgICBpdGVtUHJvZHVjdGlvbjogbnVtYmVyO1xyXG4gICAgbGlmZWZvcm1CdWlsZGluZ3NQcm9kdWN0aW9uOiBudW1iZXI7XHJcbiAgICBsaWZlZm9ybVRlY2hub2xvZ2llc1Byb2R1Y3Rpb246IG51bWJlcjtcclxuXHJcbiAgICB0b3RhbDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVtcGlyZVByb2R1Y3Rpb25QbGFuZXRTdGF0ZSB7XHJcbiAgICBiYXNlUHJvZHVjdGlvbjogbnVtYmVyO1xyXG4gICAgbWluZVByb2R1Y3Rpb246IG51bWJlcjtcclxuICAgIGZ1c2lvblJlYWN0b3JDb25zdW1wdGlvbjogbnVtYmVyO1xyXG4gICAgY3Jhd2xlcnM6IHtcclxuICAgICAgICBhdmFpbGFibGU6IG51bWJlcjtcclxuICAgICAgICB0b3RhbE1pbmVMZXZlbDogbnVtYmVyO1xyXG4gICAgICAgIHBlcmNlbnRhZ2U6IENyYXdsZXJQcm9kdWN0aW9uUGVyY2VudGFnZTtcclxuICAgIH07XHJcblxyXG4gICAgaXRlbUJvbnVzUHJvZHVjdGlvbkZhY3RvcjogbnVtYmVyO1xyXG4gICAgbGlmZWZvcm1CdWlsZGluZ0JvbnVzUHJvZHVjdGlvbkZhY3RvcjogbnVtYmVyO1xyXG4gICAgbGlmZWZvcm1UZWNobm9sb2d5Qm9udXNQcm9kdWN0aW9uRmFjdG9yOiBudW1iZXI7XHJcbiAgICBsaWZlZm9ybVRlY2hub2xvZ3lDcmF3bGVyUHJvZHVjdGlvbkJvbnVzRmFjdG9yOiBudW1iZXI7XHJcbiAgICBjb2xsZWN0b3JDbGFzc0JvbnVzRmFjdG9yOiBudW1iZXI7XHJcblxyXG4gICAgbGlmZWZvcm1UZWNobm9sb2d5Qm9vc3Q6IG51bWJlcjtcclxuICAgIGxpZmVmb3JtRXhwZXJpZW5jZUJvb3N0OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFbXBpcmVQcm9kdWN0aW9uQnJlYWtkb3duIHtcclxuICAgICNwbGFuZXRJZHM6IG51bWJlcltdO1xyXG5cclxuICAgICNyZXNvdXJjZTogUmVzb3VyY2VUeXBlO1xyXG5cclxuICAgIHBsYXNtYVRlY2hub2xvZ3lMZXZlbDogbnVtYmVyO1xyXG4gICAgcGxheWVyQ2xhc3M6IFBsYXllckNsYXNzO1xyXG4gICAgYWxsaWFuY2VDbGFzczogQWxsaWFuY2VDbGFzcztcclxuICAgIGdlb2xvZ2lzdDogYm9vbGVhbjtcclxuICAgIGNvbW1hbmRTdGFmZjogYm9vbGVhbjtcclxuXHJcbiAgICBwbGFuZXRzOiBSZWNvcmQ8bnVtYmVyLCBFbXBpcmVQcm9kdWN0aW9uUGxhbmV0U3RhdGU+O1xyXG5cclxuICAgIHNlcnZlclNldHRpbmdzOiB7XHJcbiAgICAgICAgY29sbGVjdG9yUHJvZHVjdGlvbkZhY3RvcjogbnVtYmVyO1xyXG4gICAgICAgIGdlb2xvZ2lzdEFjdGl2ZUNyYXdsZXJGYWN0b3JCb251czogbnVtYmVyO1xyXG4gICAgICAgIGNvbGxlY3RvckNyYXdsZXJQcm9kdWN0aW9uRmFjdG9yQm9udXM6IG51bWJlcjtcclxuICAgICAgICBjcmF3bGVyUHJvZHVjdGlvbkZhY3RvclBlclVuaXQ6IG51bWJlcjtcclxuICAgICAgICBjcmF3bGVyTWF4UHJvZHVjdGlvbkZhY3RvcjogbnVtYmVyO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHJlc291cmNlOiBSZXNvdXJjZVR5cGUsXHJcblxyXG4gICAgICAgIHBsYXNtYVRlY2hub2xvZ3lMZXZlbDogbnVtYmVyLFxyXG4gICAgICAgIHBsYXllckNsYXNzOiBQbGF5ZXJDbGFzcyxcclxuICAgICAgICBhbGxpYW5jZUNsYXNzOiBBbGxpYW5jZUNsYXNzLFxyXG4gICAgICAgIGdlb2xvZ2lzdDogYm9vbGVhbixcclxuICAgICAgICBjb21tYW5kU3RhZmY6IGJvb2xlYW4sXHJcblxyXG4gICAgICAgIHNlcnZlclNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIGNvbGxlY3RvclByb2R1Y3Rpb25GYWN0b3I6IG51bWJlcjtcclxuICAgICAgICAgICAgZ2VvbG9naXN0QWN0aXZlQ3Jhd2xlckZhY3RvckJvbnVzOiBudW1iZXI7XHJcbiAgICAgICAgICAgIGNvbGxlY3RvckNyYXdsZXJQcm9kdWN0aW9uRmFjdG9yQm9udXM6IG51bWJlcjtcclxuICAgICAgICAgICAgY3Jhd2xlclByb2R1Y3Rpb25GYWN0b3JQZXJVbml0OiBudW1iZXI7XHJcbiAgICAgICAgICAgIGNyYXdsZXJNYXhQcm9kdWN0aW9uRmFjdG9yOiBudW1iZXI7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcGxhbmV0czogUmVjb3JkPG51bWJlciwgRW1waXJlUHJvZHVjdGlvblBsYW5ldFN0YXRlPixcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuI3Jlc291cmNlID0gcmVzb3VyY2U7XHJcbiAgICAgICAgdGhpcy5wbGFzbWFUZWNobm9sb2d5TGV2ZWwgPSBwbGFzbWFUZWNobm9sb2d5TGV2ZWw7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJDbGFzcyA9IHBsYXllckNsYXNzO1xyXG4gICAgICAgIHRoaXMuYWxsaWFuY2VDbGFzcyA9IGFsbGlhbmNlQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5nZW9sb2dpc3QgPSBnZW9sb2dpc3Q7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kU3RhZmYgPSBjb21tYW5kU3RhZmY7XHJcblxyXG4gICAgICAgIHRoaXMuc2VydmVyU2V0dGluZ3MgPSBzZXJ2ZXJTZXR0aW5ncztcclxuXHJcbiAgICAgICAgdGhpcy5wbGFuZXRzID0gcGxhbmV0cztcclxuICAgICAgICB0aGlzLiNwbGFuZXRJZHMgPSBPYmplY3Qua2V5cyhwbGFuZXRzKS5tYXAoaWQgPT4gcGFyc2VJbnRTYWZlKGlkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGlmZWZvcm1Cb251c0ZhY3RvcnMoKTogR2xvYmFsUHJvZHVjdGlvbkJvbnVzZXMge1xyXG4gICAgICAgIGxldCBjb2xsZWN0b3JDbGFzc0JvbnVzRmFjdG9yID0gMDtcclxuICAgICAgICBsZXQgbGlmZWZvcm1UZWNobm9sb2d5UHJvZHVjdGlvbkJvbnVzRmFjdG9yID0gMDtcclxuICAgICAgICBsZXQgbGlmZWZvcm1UZWNobm9sb2d5Q3Jhd2xlclByb2R1Y3Rpb25Cb251c0ZhY3RvciA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuI3BsYW5ldElkcy5mb3JFYWNoKHBsYW5ldElkID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcGxhbmV0ID0gdGhpcy5wbGFuZXRzW3BsYW5ldElkXTtcclxuICAgICAgICAgICAgY29uc3QgdGVjaEJvbnVzRmFjdG9yID0gZ2V0VGVjaG5vbG9neUJvbnVzRmFjdG9yKHBsYW5ldC5saWZlZm9ybVRlY2hub2xvZ3lCb29zdCwgcGxhbmV0LmxpZmVmb3JtRXhwZXJpZW5jZUJvb3N0KTtcclxuXHJcbiAgICAgICAgICAgIGNvbGxlY3RvckNsYXNzQm9udXNGYWN0b3IgKz0gcGxhbmV0LmNvbGxlY3RvckNsYXNzQm9udXNGYWN0b3IgKiB0ZWNoQm9udXNGYWN0b3I7XHJcbiAgICAgICAgICAgIGxpZmVmb3JtVGVjaG5vbG9neVByb2R1Y3Rpb25Cb251c0ZhY3RvciArPSBwbGFuZXQubGlmZWZvcm1UZWNobm9sb2d5Qm9udXNQcm9kdWN0aW9uRmFjdG9yICogdGVjaEJvbnVzRmFjdG9yO1xyXG4gICAgICAgICAgICBsaWZlZm9ybVRlY2hub2xvZ3lDcmF3bGVyUHJvZHVjdGlvbkJvbnVzRmFjdG9yICs9IHBsYW5ldC5saWZlZm9ybVRlY2hub2xvZ3lDcmF3bGVyUHJvZHVjdGlvbkJvbnVzRmFjdG9yICogdGVjaEJvbnVzRmFjdG9yO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb2xsZWN0b3JDbGFzc0JvbnVzRmFjdG9yLFxyXG4gICAgICAgICAgICBsaWZlZm9ybVRlY2hub2xvZ3lQcm9kdWN0aW9uQm9udXNGYWN0b3IsXHJcbiAgICAgICAgICAgIGxpZmVmb3JtVGVjaG5vbG9neUNyYXdsZXJQcm9kdWN0aW9uQm9udXNGYWN0b3IsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkUGxhbmV0KHBsYW5ldElkOiBudW1iZXIsIHBsYW5ldFN0YXRlOiBFbXBpcmVQcm9kdWN0aW9uUGxhbmV0U3RhdGUpIHtcclxuICAgICAgICB0aGlzLiNwbGFuZXRJZHMucHVzaChwbGFuZXRJZCk7XHJcbiAgICAgICAgdGhpcy5wbGFuZXRzW3BsYW5ldElkXSA9IHBsYW5ldFN0YXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQcm9kdWN0aW9uQnJlYWtkb3duKHBsYW5ldElkOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jZ2V0UGxhbmV0UHJvZHVjdGlvbkJyZWFrZG93bihwbGFuZXRJZCwgdGhpcy5nZXRMaWZlZm9ybUJvbnVzRmFjdG9ycygpKTtcclxuICAgIH1cclxuXHJcbiAgICAjZ2V0UGxhbmV0UHJvZHVjdGlvbkJyZWFrZG93bihwbGFuZXRJZDogbnVtYmVyLCBnbG9iYWxCb251c2VzOiBHbG9iYWxQcm9kdWN0aW9uQm9udXNlcykge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgY29sbGVjdG9yQ2xhc3NCb251c0ZhY3RvcixcclxuICAgICAgICAgICAgbGlmZWZvcm1UZWNobm9sb2d5UHJvZHVjdGlvbkJvbnVzRmFjdG9yLFxyXG4gICAgICAgICAgICBsaWZlZm9ybVRlY2hub2xvZ3lDcmF3bGVyUHJvZHVjdGlvbkJvbnVzRmFjdG9yXHJcbiAgICAgICAgfSA9IGdsb2JhbEJvbnVzZXM7XHJcblxyXG4gICAgICAgIGNvbnN0IG1pbmVQcm9kdWN0aW9uID0gdGhpcy5wbGFuZXRzW3BsYW5ldElkXS5taW5lUHJvZHVjdGlvbjtcclxuXHJcbiAgICAgICAgY29uc3QgcGxheWVyQ2xhc3NGYWN0b3IgPSAodGhpcy5wbGF5ZXJDbGFzcyA9PSBQbGF5ZXJDbGFzcy5jb2xsZWN0b3IgPyAxIDogMClcclxuICAgICAgICAgICAgKiB0aGlzLnNlcnZlclNldHRpbmdzLmNvbGxlY3RvclByb2R1Y3Rpb25GYWN0b3JcclxuICAgICAgICAgICAgKiAoMSArIGNvbGxlY3RvckNsYXNzQm9udXNGYWN0b3IpO1xyXG4gICAgICAgIGNvbnN0IGFsbGlhbmNlQ2xhc3NGYWN0b3IgPSAodGhpcy5hbGxpYW5jZUNsYXNzID09IEFsbGlhbmNlQ2xhc3MudHJhZGVyID8gMSA6IDApICogQWxsaWFuY2VDbGFzc1RyYWRlclByb2R1Y3Rpb25Cb251cztcclxuICAgICAgICBjb25zdCBnZW9sb2dpc3RGYWN0b3IgPSB0aGlzLmdlb2xvZ2lzdCA/IEdlb2xvZ2lzdFByb2R1Y3Rpb25Cb251cyA6IDA7XHJcbiAgICAgICAgY29uc3QgY29tbWFuZFN0YWZmRmFjdG9yID0gdGhpcy5jb21tYW5kU3RhZmYgPyBDb21tYW5kU3RhZmZQcm9kdWN0aW9uQm9udXMgOiAwO1xyXG5cclxuICAgICAgICBjb25zdCBjcmF3bGVyQ29uZmlnID0gdGhpcy5wbGFuZXRzW3BsYW5ldElkXS5jcmF3bGVycztcclxuICAgICAgICBjb25zdCBjcmF3bGVyUHJvZHVjdGlvbkZhY3RvciA9IGdldENyYXdsZXJCb29zdCh7XHJcbiAgICAgICAgICAgIGhhc0dlb2xvZ2lzdDogdGhpcy5nZW9sb2dpc3QsXHJcbiAgICAgICAgICAgIGF2YWlsYWJsZUNyYXdsZXJzOiBjcmF3bGVyQ29uZmlnLmF2YWlsYWJsZSxcclxuICAgICAgICAgICAgbGV2ZWxNZXRhbE1pbmU6IGNyYXdsZXJDb25maWcudG90YWxNaW5lTGV2ZWwsXHJcbiAgICAgICAgICAgIGxldmVsQ3J5c3RhbE1pbmU6IDAsXHJcbiAgICAgICAgICAgIGxldmVsRGV1dGVyaXVtU3ludGhlc2l6ZXI6IDAsXHJcbiAgICAgICAgICAgIGNyYXdsZXJQcm9kdWN0aW9uU2V0dGluZzogY3Jhd2xlckNvbmZpZy5wZXJjZW50YWdlLFxyXG4gICAgICAgICAgICBsaWZlZm9ybVRlY2hub2xvZ2llczoge1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdG9yQ2xhc3NCb251czogY29sbGVjdG9yQ2xhc3NCb251c0ZhY3RvcixcclxuICAgICAgICAgICAgICAgIGNyYXdsZXJQcm9kdWN0aW9uQm9udXM6IGxpZmVmb3JtVGVjaG5vbG9neUNyYXdsZXJQcm9kdWN0aW9uQm9udXNGYWN0b3IsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBsYXllckNsYXNzOiB0aGlzLnBsYXllckNsYXNzLFxyXG4gICAgICAgICAgICBzZXJ2ZXJTZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdG9yQ3Jhd2xlclByb2R1Y3Rpb25GYWN0b3JCb251czogdGhpcy5zZXJ2ZXJTZXR0aW5ncy5jb2xsZWN0b3JDcmF3bGVyUHJvZHVjdGlvbkZhY3RvckJvbnVzLFxyXG4gICAgICAgICAgICAgICAgY3Jhd2xlck1heFByb2R1Y3Rpb25GYWN0b3I6IHRoaXMuc2VydmVyU2V0dGluZ3MuY3Jhd2xlck1heFByb2R1Y3Rpb25GYWN0b3IsXHJcbiAgICAgICAgICAgICAgICBjcmF3bGVyUHJvZHVjdGlvbkZhY3RvclBlclVuaXQ6IHRoaXMuc2VydmVyU2V0dGluZ3MuY3Jhd2xlclByb2R1Y3Rpb25GYWN0b3JQZXJVbml0LFxyXG4gICAgICAgICAgICAgICAgZ2VvbG9naXN0QWN0aXZlQ3Jhd2xlckZhY3RvckJvbnVzOiB0aGlzLnNlcnZlclNldHRpbmdzLmdlb2xvZ2lzdEFjdGl2ZUNyYXdsZXJGYWN0b3JCb251cyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFzZVByb2R1Y3Rpb24gPSB0aGlzLnBsYW5ldHNbcGxhbmV0SWRdLmJhc2VQcm9kdWN0aW9uOyAvLyBiYXNlIHByb2R1Y3Rpb25cclxuICAgICAgICBjb25zdCBwbGFzbWFUZWNobm9sb2d5UHJvZHVjdGlvbiA9IChtaW5lUHJvZHVjdGlvbiAqIHRoaXMucGxhc21hVGVjaG5vbG9neUxldmVsICogUGxhc21hVGVjaG5vbG9neVByb2R1Y3Rpb25Cb251c1t0aGlzLiNyZXNvdXJjZV0pOyAvLyBwbGFzbWEgdGVjaG5vbG9neSBib251cyBwcm9kdWN0aW9uXHJcbiAgICAgICAgY29uc3QgY3Jhd2xlclByb2R1Y3Rpb24gPSBtaW5lUHJvZHVjdGlvbiAqIGNyYXdsZXJQcm9kdWN0aW9uRmFjdG9yOyAvLyBjcmF3bGVyIGJvbnVzIHByb2R1Y3Rpb25cclxuICAgICAgICBjb25zdCBwbGF5ZXJDbGFzc1Byb2R1Y3Rpb24gPSBtaW5lUHJvZHVjdGlvbiAqIHBsYXllckNsYXNzRmFjdG9yOyAvLyBwbGF5ZXIgY2xhc3MgYm9udXMgcHJvZHVjdGlvblxyXG4gICAgICAgIGNvbnN0IGFsbGlhbmNlQ2xhc3NQcm9kdWN0aW9uID0gbWluZVByb2R1Y3Rpb24gKiBhbGxpYW5jZUNsYXNzRmFjdG9yOyAvLyBhbGxpYW5jZSBjbGFzcyBib251cyBwcm9kdWN0aW9uXHJcbiAgICAgICAgY29uc3QgZ2VvbG9naXN0UHJvZHVjdGlvbiA9IG1pbmVQcm9kdWN0aW9uICogZ2VvbG9naXN0RmFjdG9yOyAvLyBnZW9sb2dpc3QgYm9udXMgcHJvZHVjdGlvblxyXG4gICAgICAgIGNvbnN0IGNvbW1hbmRTdGFmZlByb2R1Y3Rpb24gPSBtaW5lUHJvZHVjdGlvbiAqIGNvbW1hbmRTdGFmZkZhY3RvcjsgLy8gY29tbWFuZCBzdGFmZiBib251cyBwcm9kdWN0aW9uXHJcbiAgICAgICAgY29uc3QgaXRlbVByb2R1Y3Rpb24gPSBtaW5lUHJvZHVjdGlvbiAqIHRoaXMucGxhbmV0c1twbGFuZXRJZF0uaXRlbUJvbnVzUHJvZHVjdGlvbkZhY3RvcjsgLy8gaXRlbSBib251cyBwcm9kdWN0aW9uXHJcbiAgICAgICAgY29uc3QgbGlmZWZvcm1CdWlsZGluZ3NQcm9kdWN0aW9uID0gbWluZVByb2R1Y3Rpb24gKiB0aGlzLnBsYW5ldHNbcGxhbmV0SWRdLmxpZmVmb3JtQnVpbGRpbmdCb251c1Byb2R1Y3Rpb25GYWN0b3I7IC8vIGxpZmVmb3JtIGJ1aWxkaW5ncyBib251cyBwcm9kdWN0aW9uXHJcbiAgICAgICAgY29uc3QgbGlmZWZvcm1UZWNobm9sb2dpZXNQcm9kdWN0aW9uID0gbWluZVByb2R1Y3Rpb24gKiBsaWZlZm9ybVRlY2hub2xvZ3lQcm9kdWN0aW9uQm9udXNGYWN0b3I7IC8vIGxpZmVmb3JtIHRlY2hub2xvZ3kgYm9udXMgcHJvZHVjdGlvblxyXG5cclxuICAgICAgICBjb25zdCB0b3RhbCA9XHJcbiAgICAgICAgICAgIGJhc2VQcm9kdWN0aW9uXHJcbiAgICAgICAgICAgICsgbWluZVByb2R1Y3Rpb25cclxuICAgICAgICAgICAgKyBwbGFzbWFUZWNobm9sb2d5UHJvZHVjdGlvblxyXG4gICAgICAgICAgICArIGNyYXdsZXJQcm9kdWN0aW9uXHJcbiAgICAgICAgICAgICsgcGxheWVyQ2xhc3NQcm9kdWN0aW9uXHJcbiAgICAgICAgICAgICsgYWxsaWFuY2VDbGFzc1Byb2R1Y3Rpb25cclxuICAgICAgICAgICAgKyBnZW9sb2dpc3RQcm9kdWN0aW9uXHJcbiAgICAgICAgICAgICsgY29tbWFuZFN0YWZmUHJvZHVjdGlvblxyXG4gICAgICAgICAgICArIGl0ZW1Qcm9kdWN0aW9uXHJcbiAgICAgICAgICAgICsgbGlmZWZvcm1CdWlsZGluZ3NQcm9kdWN0aW9uXHJcbiAgICAgICAgICAgICsgbGlmZWZvcm1UZWNobm9sb2dpZXNQcm9kdWN0aW9uXHJcbiAgICAgICAgICAgIDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYmFzZVByb2R1Y3Rpb24sXHJcbiAgICAgICAgICAgIG1pbmVQcm9kdWN0aW9uLFxyXG4gICAgICAgICAgICBwbGFzbWFUZWNobm9sb2d5UHJvZHVjdGlvbixcclxuICAgICAgICAgICAgY3Jhd2xlclByb2R1Y3Rpb24sXHJcbiAgICAgICAgICAgIHBsYXllckNsYXNzUHJvZHVjdGlvbixcclxuICAgICAgICAgICAgYWxsaWFuY2VDbGFzc1Byb2R1Y3Rpb24sXHJcbiAgICAgICAgICAgIGdlb2xvZ2lzdFByb2R1Y3Rpb24sXHJcbiAgICAgICAgICAgIGNvbW1hbmRTdGFmZlByb2R1Y3Rpb24sXHJcbiAgICAgICAgICAgIGl0ZW1Qcm9kdWN0aW9uLFxyXG4gICAgICAgICAgICBsaWZlZm9ybUJ1aWxkaW5nc1Byb2R1Y3Rpb24sXHJcbiAgICAgICAgICAgIGxpZmVmb3JtVGVjaG5vbG9naWVzUHJvZHVjdGlvbixcclxuXHJcbiAgICAgICAgICAgIHRvdGFsLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRvdGFsKGluY2x1ZGVDb25zdW1wdGlvbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgZ2xvYmFsQm9udXNlcyA9IHRoaXMuZ2V0TGlmZWZvcm1Cb251c0ZhY3RvcnMoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3BsYW5ldElkcy5yZWR1Y2UoKHRvdGFsLCBwbGFuZXRJZCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb25zdW1wdGlvbiA9IGluY2x1ZGVDb25zdW1wdGlvbiA/IHRoaXMucGxhbmV0c1twbGFuZXRJZF0uZnVzaW9uUmVhY3RvckNvbnN1bXB0aW9uIDogMDtcclxuICAgICAgICAgICAgcmV0dXJuIHRvdGFsICsgdGhpcy4jZ2V0UGxhbmV0UHJvZHVjdGlvbkJyZWFrZG93bihwbGFuZXRJZCwgZ2xvYmFsQm9udXNlcykudG90YWwgLSBjb25zdW1wdGlvbjtcclxuICAgICAgICB9LCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXZlcmFnZShpbmNsdWRlQ29uc3VtcHRpb24gPSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFRvdGFsKGluY2x1ZGVDb25zdW1wdGlvbikgLyB0aGlzLiNwbGFuZXRJZHMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgY2xvbmUoKTogRW1waXJlUHJvZHVjdGlvbkJyZWFrZG93biB7XHJcbiAgICAgICAgY29uc3QgcGxhbmV0U3RhdGVzQ2xvbmU6IFJlY29yZDxudW1iZXIsIEVtcGlyZVByb2R1Y3Rpb25QbGFuZXRTdGF0ZT4gPSB7fTtcclxuICAgICAgICB0aGlzLiNwbGFuZXRJZHMuZm9yRWFjaChwbGFuZXRJZCA9PiB7XHJcbiAgICAgICAgICAgIHBsYW5ldFN0YXRlc0Nsb25lW3BsYW5ldElkXSA9IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMucGxhbmV0c1twbGFuZXRJZF0sXHJcbiAgICAgICAgICAgICAgICBjcmF3bGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMucGxhbmV0c1twbGFuZXRJZF0uY3Jhd2xlcnMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEVtcGlyZVByb2R1Y3Rpb25CcmVha2Rvd24oXHJcbiAgICAgICAgICAgIHRoaXMuI3Jlc291cmNlLFxyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGFzbWFUZWNobm9sb2d5TGV2ZWwsXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyQ2xhc3MsXHJcbiAgICAgICAgICAgIHRoaXMuYWxsaWFuY2VDbGFzcyxcclxuICAgICAgICAgICAgdGhpcy5nZW9sb2dpc3QsXHJcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZFN0YWZmLFxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXJ2ZXJTZXR0aW5ncyxcclxuXHJcbiAgICAgICAgICAgIHBsYW5ldFN0YXRlc0Nsb25lLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMb2NhbFBsYXllckRhdGEgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL2VtcGlyZS9Mb2NhbFBsYXllckRhdGFcIjtcclxuaW1wb3J0IHsgUGxhbmV0RGF0YSB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvZW1waXJlL1BsYW5ldERhdGFcIjtcclxuaW1wb3J0IHsgQnVpbGRpbmdUeXBlIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9idWlsZGluZ3MvQnVpbGRpbmdUeXBlXCI7XHJcbmltcG9ydCB7IENyeXN0YWxNaW5lIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9idWlsZGluZ3MvQ3J5c3RhbE1pbmVcIjtcclxuaW1wb3J0IHsgRGV1dGVyaXVtU3ludGhlc2l6ZXIgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL2J1aWxkaW5ncy9EZXV0ZXJpdW1TeW50aGVzaXplclwiO1xyXG5pbXBvcnQgeyBGdXNpb25SZWFjdG9yIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9idWlsZGluZ3MvRnVzaW9uUmVhY3RvclwiO1xyXG5pbXBvcnQgeyBNZXRhbE1pbmUgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL2J1aWxkaW5ncy9NZXRhbE1pbmVcIjtcclxuaW1wb3J0IHsgUHJvZHVjdGlvbkJ1aWxkaW5nRGVwZW5kZW5jaWVzIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9idWlsZGluZ3MvUHJvZHVjdGlvbkJ1aWxkaW5nXCI7XHJcbmltcG9ydCB7IENvc3QgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL2NvbW1vbi9Db3N0XCI7XHJcbmltcG9ydCB7IGdldExpZmVmb3JtTGV2ZWxUZWNobm9sb2d5Qm9udXMgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9leHBlcmllbmNlXCI7XHJcbmltcG9ydCB7IExpZmVmb3JtVHlwZSwgTGlmZWZvcm1UeXBlcywgVmFsaWRMaWZlZm9ybVR5cGUgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9MaWZlZm9ybVR5cGVcIjtcclxuaW1wb3J0IHsgQ3Jhd2xlclByb2R1Y3Rpb25Cb251c0FuZENvbnN1bXB0aW9uUmVkdWN0aW9uTGlmZWZvcm1UZWNobm9sb2dpZXMgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy90ZWNobm9sb2dpZXMvTGlmZWZvcm1UZWNobm9sb2dpZXNcIjtcclxuaW1wb3J0IHsgaGFzQ29tbWFuZFN0YWZmIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9wcmVtaXVtL2hhc0NvbW1hbmRTdGFmZlwiO1xyXG5pbXBvcnQgeyBSZXNlYXJjaFR5cGUgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL3Jlc2VhcmNoL1Jlc2VhcmNoVHlwZVwiO1xyXG5pbXBvcnQgeyBnZXRDcnlzdGFsQmFzZVByb2R1Y3Rpb24gfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL3Jlc291cmNlLXByb2R1Y3Rpb24vZ2V0Q3J5c3RhbFByb2R1Y3Rpb25cIjtcclxuaW1wb3J0IHsgZ2V0SXRlbUJvbnVzIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9yZXNvdXJjZS1wcm9kdWN0aW9uL2dldEl0ZW1Cb251c1wiO1xyXG5pbXBvcnQgeyBnZXRNZXRhbEJhc2VQcm9kdWN0aW9uIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9yZXNvdXJjZS1wcm9kdWN0aW9uL2dldE1ldGFsUHJvZHVjdGlvblwiO1xyXG5pbXBvcnQgeyBFbXBpcmVQcm9kdWN0aW9uQnJlYWtkb3duLCBFbXBpcmVQcm9kdWN0aW9uUGxhbmV0U3RhdGUgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL3Jlc291cmNlLXByb2R1Y3Rpb24vdHlwZXNcIjtcclxuaW1wb3J0IHsgUmVzb3VyY2VUeXBlIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9yZXNvdXJjZXMvUmVzb3VyY2VUeXBlXCI7XHJcbmltcG9ydCB7IFNoaXBUeXBlIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9zaGlwcy9TaGlwVHlwZVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVSZWNvcmQgfSBmcm9tIFwiQC9zaGFyZWQvdXRpbHMvY3JlYXRlUmVjb3JkXCI7XHJcbmltcG9ydCB7IFNlcnZlclNldHRpbmdzRGF0YU1vZHVsZSB9IGZyb20gXCJAL3ZpZXdzL3N0YXRzL2RhdGEvU2VydmVyU2V0dGluZ3NEYXRhTW9kdWxlXCI7XHJcbmltcG9ydCB7IGdldFBsYW5ldENvbGxlY3RvckNsYXNzQm9udXNGYWN0b3IsIGdldFBsYW5ldExpZmVmb3JtQnVpbGRpbmdCb251c1Byb2R1Y3Rpb25GYWN0b3IsIGdldFBsYW5ldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzUHJvZHVjdGlvbkZhY3RvciwgZ2V0UGxhbmV0TGlmZWZvcm1UZWNobm9sb2d5Qm9vc3QgfSBmcm9tIFwiLi4vLi4vbGlmZWZvcm1zXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVtcGlyZVByb2R1Y3Rpb25CcmVha2Rvd25zIGV4dGVuZHMgUmVjb3JkPFJlc291cmNlVHlwZSwgRW1waXJlUHJvZHVjdGlvbkJyZWFrZG93bj4ge1xyXG4gICAgZ2V0VG90YWwoKTogQ29zdDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFBsYW5ldExpZmVmb3JtVGVjaG5vbG9neUNyYXdsZXJQcm9kdWN0aW9uQm9udXNGYWN0b3IocGxhbmV0OiBQbGFuZXREYXRhKSB7XHJcbiAgICByZXR1cm4gQ3Jhd2xlclByb2R1Y3Rpb25Cb251c0FuZENvbnN1bXB0aW9uUmVkdWN0aW9uTGlmZWZvcm1UZWNobm9sb2dpZXNcclxuICAgICAgICAuZmlsdGVyKHRlY2ggPT4gcGxhbmV0LmFjdGl2ZUxpZmVmb3JtVGVjaG5vbG9naWVzLmluY2x1ZGVzKHRlY2gudHlwZSkpXHJcbiAgICAgICAgLnJlZHVjZShcclxuICAgICAgICAgICAgKHRvdGFsLCB0ZWNoKSA9PiB0b3RhbCArIHRlY2guZ2V0Q3Jhd2xlclByb2R1Y3Rpb25Cb251cyhwbGFuZXQubGlmZWZvcm1UZWNobm9sb2dpZXNbdGVjaC50eXBlXSksXHJcbiAgICAgICAgICAgIDBcclxuICAgICAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvZHVjdGlvbkJyZWFrZG93bnMoZW1waXJlOiBMb2NhbFBsYXllckRhdGEsIGxpZmVmb3JtRXhwZXJpZW5jZTogUmVjb3JkPFZhbGlkTGlmZWZvcm1UeXBlLCBudW1iZXI+KTogRW1waXJlUHJvZHVjdGlvbkJyZWFrZG93bnMge1xyXG4gICAgY29uc3QgcGxhbmV0cyA9IE9iamVjdC52YWx1ZXMoZW1waXJlLnBsYW5ldHMpXHJcbiAgICAgICAgLmZpbHRlcihwbGFuZXQgPT4gIXBsYW5ldC5pc01vb24pIGFzIFBsYW5ldERhdGFbXTtcclxuXHJcbiAgICBjb25zdCBwbGFzbWFUZWNoTGV2ZWwgPSBlbXBpcmUucmVzZWFyY2hbUmVzZWFyY2hUeXBlLnBsYXNtYVRlY2hub2xvZ3ldO1xyXG5cclxuICAgIGNvbnN0IHNlcnZlclNldHRpbmdzID0gU2VydmVyU2V0dGluZ3NEYXRhTW9kdWxlLnNlcnZlclNldHRpbmdzO1xyXG4gICAgY29uc3QgcHJvZHVjdGlvblNlcnZlclNldHRpbmdzID0ge1xyXG4gICAgICAgIGNvbGxlY3RvclByb2R1Y3Rpb25GYWN0b3I6IHNlcnZlclNldHRpbmdzLnBsYXllckNsYXNzZXMuY29sbGVjdG9yLnByb2R1Y3Rpb25GYWN0b3JCb251cyxcclxuICAgICAgICBnZW9sb2dpc3RBY3RpdmVDcmF3bGVyRmFjdG9yQm9udXM6IHNlcnZlclNldHRpbmdzLnBsYXllckNsYXNzZXMuY29sbGVjdG9yLmNyYXdsZXJzLmdlb2xvZ2lzdEFjdGl2ZUNyYXdsZXJGYWN0b3JCb251cyxcclxuICAgICAgICBjb2xsZWN0b3JDcmF3bGVyUHJvZHVjdGlvbkZhY3RvckJvbnVzOiBzZXJ2ZXJTZXR0aW5ncy5wbGF5ZXJDbGFzc2VzLmNvbGxlY3Rvci5jcmF3bGVycy5wcm9kdWN0aW9uRmFjdG9yQm9udXMsXHJcbiAgICAgICAgY3Jhd2xlclByb2R1Y3Rpb25GYWN0b3JQZXJVbml0OiBzZXJ2ZXJTZXR0aW5ncy5wbGF5ZXJDbGFzc2VzLmNyYXdsZXJzLnByb2R1Y3Rpb25Cb29zdEZhY3RvclBlclVuaXQsXHJcbiAgICAgICAgY3Jhd2xlck1heFByb2R1Y3Rpb25GYWN0b3I6IHNlcnZlclNldHRpbmdzLnBsYXllckNsYXNzZXMuY3Jhd2xlcnMubWF4UHJvZHVjdGlvbkZhY3RvcixcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZW1waXJlUHJvZHVjdGlvblBsYW5ldFN0YXRlcyA9IHtcclxuICAgICAgICBtZXRhbDoge30gYXMgUmVjb3JkPG51bWJlciwgRW1waXJlUHJvZHVjdGlvblBsYW5ldFN0YXRlPixcclxuICAgICAgICBjcnlzdGFsOiB7fSBhcyBSZWNvcmQ8bnVtYmVyLCBFbXBpcmVQcm9kdWN0aW9uUGxhbmV0U3RhdGU+LFxyXG4gICAgICAgIGRldXRlcml1bToge30gYXMgUmVjb3JkPG51bWJlciwgRW1waXJlUHJvZHVjdGlvblBsYW5ldFN0YXRlPixcclxuICAgIH07XHJcbiAgICBjb25zdCBsaWZlZm9ybVhwQm9vc3QgPSBjcmVhdGVSZWNvcmQoTGlmZWZvcm1UeXBlcywgbGYgPT4gbGYgPT0gTGlmZWZvcm1UeXBlLm5vbmUgPyAwIDogZ2V0TGlmZWZvcm1MZXZlbFRlY2hub2xvZ3lCb251cyhsaWZlZm9ybUV4cGVyaWVuY2VbbGZdKSk7XHJcblxyXG4gICAgcGxhbmV0cy5mb3JFYWNoKHBsYW5ldCA9PiB7XHJcbiAgICAgICAgY29uc3QgbGV2ZWxNZXRhbE1pbmUgPSBwbGFuZXQuYnVpbGRpbmdzW0J1aWxkaW5nVHlwZS5tZXRhbE1pbmVdO1xyXG4gICAgICAgIGNvbnN0IGxldmVsQ3J5c3RhbE1pbmUgPSBwbGFuZXQuYnVpbGRpbmdzW0J1aWxkaW5nVHlwZS5jcnlzdGFsTWluZV07XHJcbiAgICAgICAgY29uc3QgbGV2ZWxEZXV0ZXJpdW1TeW50aGVzaXplciA9IHBsYW5ldC5idWlsZGluZ3NbQnVpbGRpbmdUeXBlLmRldXRlcml1bVN5bnRoZXNpemVyXTtcclxuICAgICAgICBjb25zdCB0b3RhbE1pbmVMZXZlbCA9IGxldmVsTWV0YWxNaW5lICsgbGV2ZWxDcnlzdGFsTWluZSArIGxldmVsRGV1dGVyaXVtU3ludGhlc2l6ZXI7XHJcblxyXG4gICAgICAgIGNvbnN0IGxldmVsRnVzaW9uUmVhY3RvciA9IHBsYW5ldC5idWlsZGluZ3NbQnVpbGRpbmdUeXBlLmZ1c2lvblJlYWN0b3JdO1xyXG5cclxuICAgICAgICBjb25zdCBjcmF3bGVyQ29uZmlnID0ge1xyXG4gICAgICAgICAgICBhdmFpbGFibGU6IHBsYW5ldC5zaGlwc1tTaGlwVHlwZS5jcmF3bGVyXSxcclxuICAgICAgICAgICAgcGVyY2VudGFnZTogcGxhbmV0LnByb2R1Y3Rpb25TZXR0aW5nc1tTaGlwVHlwZS5jcmF3bGVyXSxcclxuICAgICAgICAgICAgdG90YWxNaW5lTGV2ZWwsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFzZVByb2R1Y3Rpb25Db25maWcgPSB7XHJcbiAgICAgICAgICAgIGNyYXdsZXJzOiBjcmF3bGVyQ29uZmlnLFxyXG4gICAgICAgICAgICBsaWZlZm9ybUV4cGVyaWVuY2VCb29zdDogbGlmZWZvcm1YcEJvb3N0W3BsYW5ldC5hY3RpdmVMaWZlZm9ybV0sXHJcbiAgICAgICAgICAgIGNvbGxlY3RvckNsYXNzQm9udXNGYWN0b3I6IGdldFBsYW5ldENvbGxlY3RvckNsYXNzQm9udXNGYWN0b3IocGxhbmV0KSxcclxuICAgICAgICAgICAgbGlmZWZvcm1CdWlsZGluZ0JvbnVzUHJvZHVjdGlvbkZhY3RvcjogZ2V0UGxhbmV0TGlmZWZvcm1CdWlsZGluZ0JvbnVzUHJvZHVjdGlvbkZhY3RvcihwbGFuZXQpLFxyXG4gICAgICAgICAgICBsaWZlZm9ybVRlY2hub2xvZ3lCb251c1Byb2R1Y3Rpb25GYWN0b3I6IGdldFBsYW5ldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzUHJvZHVjdGlvbkZhY3RvcihwbGFuZXQpLFxyXG4gICAgICAgICAgICBsaWZlZm9ybVRlY2hub2xvZ3lDcmF3bGVyUHJvZHVjdGlvbkJvbnVzRmFjdG9yOiBnZXRQbGFuZXRMaWZlZm9ybVRlY2hub2xvZ3lDcmF3bGVyUHJvZHVjdGlvbkJvbnVzRmFjdG9yKHBsYW5ldCksXHJcbiAgICAgICAgICAgIGxpZmVmb3JtVGVjaG5vbG9neUJvb3N0OiBnZXRQbGFuZXRMaWZlZm9ybVRlY2hub2xvZ3lCb29zdChwbGFuZXQpLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHByb2R1Y3Rpb25CdWlsZGluZ0RlcGVuZGVuY2llczogUHJvZHVjdGlvbkJ1aWxkaW5nRGVwZW5kZW5jaWVzID0ge1xyXG4gICAgICAgICAgICBwbGFuZXQ6IHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwbGFuZXQuY29vcmRpbmF0ZXMucG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICB0ZW1wZXJhdHVyZTogcGxhbmV0Lm1heFRlbXBlcmF0dXJlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXJ2ZXJTZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgZWNvbm9teVNwZWVkOiBzZXJ2ZXJTZXR0aW5ncy5zcGVlZC5lY29ub215LFxyXG4gICAgICAgICAgICAgICAgY3J5c3RhbEJvb3N0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogc2VydmVyU2V0dGluZ3MucmVzb3VyY2VQcm9kdWN0aW9uLnByb2R1Y3Rpb25GYWN0b3JCb251cy5jcnlzdGFsLmRlZmF1bHQsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zMTogc2VydmVyU2V0dGluZ3MucmVzb3VyY2VQcm9kdWN0aW9uLnByb2R1Y3Rpb25GYWN0b3JCb251cy5jcnlzdGFsLnBvczEsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zMjogc2VydmVyU2V0dGluZ3MucmVzb3VyY2VQcm9kdWN0aW9uLnByb2R1Y3Rpb25GYWN0b3JCb251cy5jcnlzdGFsLnBvczIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zMzogc2VydmVyU2V0dGluZ3MucmVzb3VyY2VQcm9kdWN0aW9uLnByb2R1Y3Rpb25GYWN0b3JCb251cy5jcnlzdGFsLnBvczMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcm9kdWN0aW9uU2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIG1ldGFsTWluZTogcGxhbmV0LnByb2R1Y3Rpb25TZXR0aW5nc1tCdWlsZGluZ1R5cGUubWV0YWxNaW5lXSxcclxuICAgICAgICAgICAgICAgIGNyeXN0YWxNaW5lOiBwbGFuZXQucHJvZHVjdGlvblNldHRpbmdzW0J1aWxkaW5nVHlwZS5jcnlzdGFsTWluZV0sXHJcbiAgICAgICAgICAgICAgICBkZXV0ZXJpdW1TeW50aGVzaXplcjogcGxhbmV0LnByb2R1Y3Rpb25TZXR0aW5nc1tCdWlsZGluZ1R5cGUuZGV1dGVyaXVtU3ludGhlc2l6ZXJdLFxyXG4gICAgICAgICAgICAgICAgZnVzaW9uUmVhY3RvcjogcGxhbmV0LnByb2R1Y3Rpb25TZXR0aW5nc1tCdWlsZGluZ1R5cGUuZnVzaW9uUmVhY3Rvcl0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIGVtcGlyZVByb2R1Y3Rpb25QbGFuZXRTdGF0ZXMubWV0YWxbcGxhbmV0LmlkXSA9IHtcclxuICAgICAgICAgICAgYmFzZVByb2R1Y3Rpb246IGdldE1ldGFsQmFzZVByb2R1Y3Rpb24oe1xyXG4gICAgICAgICAgICAgICAgcGxhbmV0UG9zaXRpb246IHBsYW5ldC5jb29yZGluYXRlcy5wb3NpdGlvbixcclxuICAgICAgICAgICAgICAgIHNlcnZlckVjb25vbXlTcGVlZDogc2VydmVyU2V0dGluZ3Muc3BlZWQuZWNvbm9teSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG1pbmVQcm9kdWN0aW9uOiBNZXRhbE1pbmUuZ2V0UHJvZHVjdGlvbihsZXZlbE1ldGFsTWluZSwgcHJvZHVjdGlvbkJ1aWxkaW5nRGVwZW5kZW5jaWVzKSxcclxuICAgICAgICAgICAgaXRlbUJvbnVzUHJvZHVjdGlvbkZhY3RvcjogZ2V0SXRlbUJvbnVzKFJlc291cmNlVHlwZS5tZXRhbCwgcGxhbmV0LmFjdGl2ZUl0ZW1zKSxcclxuICAgICAgICAgICAgLi4uYmFzZVByb2R1Y3Rpb25Db25maWcsXHJcbiAgICAgICAgICAgIGxpZmVmb3JtQnVpbGRpbmdCb251c1Byb2R1Y3Rpb25GYWN0b3I6IGJhc2VQcm9kdWN0aW9uQ29uZmlnLmxpZmVmb3JtQnVpbGRpbmdCb251c1Byb2R1Y3Rpb25GYWN0b3IubWV0YWwsXHJcbiAgICAgICAgICAgIGxpZmVmb3JtVGVjaG5vbG9neUJvbnVzUHJvZHVjdGlvbkZhY3RvcjogYmFzZVByb2R1Y3Rpb25Db25maWcubGlmZWZvcm1UZWNobm9sb2d5Qm9udXNQcm9kdWN0aW9uRmFjdG9yLm1ldGFsLFxyXG4gICAgICAgICAgICBmdXNpb25SZWFjdG9yQ29uc3VtcHRpb246IDAsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZW1waXJlUHJvZHVjdGlvblBsYW5ldFN0YXRlcy5jcnlzdGFsW3BsYW5ldC5pZF0gPSB7XHJcbiAgICAgICAgICAgIGJhc2VQcm9kdWN0aW9uOiBnZXRDcnlzdGFsQmFzZVByb2R1Y3Rpb24oe1xyXG4gICAgICAgICAgICAgICAgcGxhbmV0UG9zaXRpb246IHBsYW5ldC5jb29yZGluYXRlcy5wb3NpdGlvbixcclxuICAgICAgICAgICAgICAgIHNlcnZlckVjb25vbXlTcGVlZDogc2VydmVyU2V0dGluZ3Muc3BlZWQuZWNvbm9teSxcclxuICAgICAgICAgICAgICAgIHNlcnZlclBvc2l0aW9uQm9vc3Q6IHNlcnZlclNldHRpbmdzLnJlc291cmNlUHJvZHVjdGlvbi5wcm9kdWN0aW9uRmFjdG9yQm9udXMuY3J5c3RhbCxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG1pbmVQcm9kdWN0aW9uOiBDcnlzdGFsTWluZS5nZXRQcm9kdWN0aW9uKGxldmVsQ3J5c3RhbE1pbmUsIHByb2R1Y3Rpb25CdWlsZGluZ0RlcGVuZGVuY2llcyksXHJcbiAgICAgICAgICAgIGl0ZW1Cb251c1Byb2R1Y3Rpb25GYWN0b3I6IGdldEl0ZW1Cb251cyhSZXNvdXJjZVR5cGUuY3J5c3RhbCwgcGxhbmV0LmFjdGl2ZUl0ZW1zKSxcclxuICAgICAgICAgICAgLi4uYmFzZVByb2R1Y3Rpb25Db25maWcsXHJcbiAgICAgICAgICAgIGxpZmVmb3JtQnVpbGRpbmdCb251c1Byb2R1Y3Rpb25GYWN0b3I6IGJhc2VQcm9kdWN0aW9uQ29uZmlnLmxpZmVmb3JtQnVpbGRpbmdCb251c1Byb2R1Y3Rpb25GYWN0b3IuY3J5c3RhbCxcclxuICAgICAgICAgICAgbGlmZWZvcm1UZWNobm9sb2d5Qm9udXNQcm9kdWN0aW9uRmFjdG9yOiBiYXNlUHJvZHVjdGlvbkNvbmZpZy5saWZlZm9ybVRlY2hub2xvZ3lCb251c1Byb2R1Y3Rpb25GYWN0b3IuY3J5c3RhbCxcclxuICAgICAgICAgICAgZnVzaW9uUmVhY3RvckNvbnN1bXB0aW9uOiAwLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGVtcGlyZVByb2R1Y3Rpb25QbGFuZXRTdGF0ZXMuZGV1dGVyaXVtW3BsYW5ldC5pZF0gPSB7XHJcbiAgICAgICAgICAgIGJhc2VQcm9kdWN0aW9uOiAwLFxyXG4gICAgICAgICAgICBtaW5lUHJvZHVjdGlvbjogRGV1dGVyaXVtU3ludGhlc2l6ZXIuZ2V0UHJvZHVjdGlvbihsZXZlbERldXRlcml1bVN5bnRoZXNpemVyLCBwcm9kdWN0aW9uQnVpbGRpbmdEZXBlbmRlbmNpZXMpLFxyXG4gICAgICAgICAgICBpdGVtQm9udXNQcm9kdWN0aW9uRmFjdG9yOiBnZXRJdGVtQm9udXMoUmVzb3VyY2VUeXBlLmRldXRlcml1bSwgcGxhbmV0LmFjdGl2ZUl0ZW1zKSxcclxuICAgICAgICAgICAgLi4uYmFzZVByb2R1Y3Rpb25Db25maWcsXHJcbiAgICAgICAgICAgIGxpZmVmb3JtQnVpbGRpbmdCb251c1Byb2R1Y3Rpb25GYWN0b3I6IGJhc2VQcm9kdWN0aW9uQ29uZmlnLmxpZmVmb3JtQnVpbGRpbmdCb251c1Byb2R1Y3Rpb25GYWN0b3IuZGV1dGVyaXVtLFxyXG4gICAgICAgICAgICBsaWZlZm9ybVRlY2hub2xvZ3lCb251c1Byb2R1Y3Rpb25GYWN0b3I6IGJhc2VQcm9kdWN0aW9uQ29uZmlnLmxpZmVmb3JtVGVjaG5vbG9neUJvbnVzUHJvZHVjdGlvbkZhY3Rvci5kZXV0ZXJpdW0sXHJcbiAgICAgICAgICAgIGZ1c2lvblJlYWN0b3JDb25zdW1wdGlvbjogRnVzaW9uUmVhY3Rvci5nZXRDb25zdW1wdGlvbihsZXZlbEZ1c2lvblJlYWN0b3IsIHByb2R1Y3Rpb25CdWlsZGluZ0RlcGVuZGVuY2llcykuZGV1dGVyaXVtLFxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBlbXBpcmVQcm9kdWN0aW9uQnJlYWtkb3duczogRW1waXJlUHJvZHVjdGlvbkJyZWFrZG93bnMgPSB7XHJcbiAgICAgICAgbWV0YWw6IG5ldyBFbXBpcmVQcm9kdWN0aW9uQnJlYWtkb3duKFxyXG4gICAgICAgICAgICBSZXNvdXJjZVR5cGUubWV0YWwsXHJcbiAgICAgICAgICAgIHBsYXNtYVRlY2hMZXZlbCxcclxuICAgICAgICAgICAgZW1waXJlLnBsYXllckNsYXNzLFxyXG4gICAgICAgICAgICBlbXBpcmUuYWxsaWFuY2VDbGFzcyxcclxuICAgICAgICAgICAgZW1waXJlLm9mZmljZXJzLmdlb2xvZ2lzdCxcclxuICAgICAgICAgICAgaGFzQ29tbWFuZFN0YWZmKGVtcGlyZS5vZmZpY2VycyksXHJcbiAgICAgICAgICAgIHByb2R1Y3Rpb25TZXJ2ZXJTZXR0aW5ncyxcclxuICAgICAgICAgICAgZW1waXJlUHJvZHVjdGlvblBsYW5ldFN0YXRlcy5tZXRhbCxcclxuICAgICAgICApLFxyXG4gICAgICAgIGNyeXN0YWw6IG5ldyBFbXBpcmVQcm9kdWN0aW9uQnJlYWtkb3duKFxyXG4gICAgICAgICAgICBSZXNvdXJjZVR5cGUuY3J5c3RhbCxcclxuICAgICAgICAgICAgcGxhc21hVGVjaExldmVsLFxyXG4gICAgICAgICAgICBlbXBpcmUucGxheWVyQ2xhc3MsXHJcbiAgICAgICAgICAgIGVtcGlyZS5hbGxpYW5jZUNsYXNzLFxyXG4gICAgICAgICAgICBlbXBpcmUub2ZmaWNlcnMuZ2VvbG9naXN0LFxyXG4gICAgICAgICAgICBoYXNDb21tYW5kU3RhZmYoZW1waXJlLm9mZmljZXJzKSxcclxuICAgICAgICAgICAgcHJvZHVjdGlvblNlcnZlclNldHRpbmdzLFxyXG4gICAgICAgICAgICBlbXBpcmVQcm9kdWN0aW9uUGxhbmV0U3RhdGVzLmNyeXN0YWwsXHJcbiAgICAgICAgKSxcclxuICAgICAgICBkZXV0ZXJpdW06IG5ldyBFbXBpcmVQcm9kdWN0aW9uQnJlYWtkb3duKFxyXG4gICAgICAgICAgICBSZXNvdXJjZVR5cGUuZGV1dGVyaXVtLFxyXG4gICAgICAgICAgICBwbGFzbWFUZWNoTGV2ZWwsXHJcbiAgICAgICAgICAgIGVtcGlyZS5wbGF5ZXJDbGFzcyxcclxuICAgICAgICAgICAgZW1waXJlLmFsbGlhbmNlQ2xhc3MsXHJcbiAgICAgICAgICAgIGVtcGlyZS5vZmZpY2Vycy5nZW9sb2dpc3QsXHJcbiAgICAgICAgICAgIGhhc0NvbW1hbmRTdGFmZihlbXBpcmUub2ZmaWNlcnMpLFxyXG4gICAgICAgICAgICBwcm9kdWN0aW9uU2VydmVyU2V0dGluZ3MsXHJcbiAgICAgICAgICAgIGVtcGlyZVByb2R1Y3Rpb25QbGFuZXRTdGF0ZXMuZGV1dGVyaXVtLFxyXG4gICAgICAgICksXHJcblxyXG4gICAgICAgIGdldFRvdGFsKGluY2x1ZGVDb25zdW1wdGlvbiA9IGZhbHNlKTogQ29zdCB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBtZXRhbDogdGhpcy5tZXRhbC5nZXRUb3RhbChpbmNsdWRlQ29uc3VtcHRpb24pLFxyXG4gICAgICAgICAgICAgICAgY3J5c3RhbDogdGhpcy5jcnlzdGFsLmdldFRvdGFsKGluY2x1ZGVDb25zdW1wdGlvbiksXHJcbiAgICAgICAgICAgICAgICBkZXV0ZXJpdW06IHRoaXMuZGV1dGVyaXVtLmdldFRvdGFsKGluY2x1ZGVDb25zdW1wdGlvbiksXHJcbiAgICAgICAgICAgICAgICBlbmVyZ3k6IDAsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGVtcGlyZVByb2R1Y3Rpb25CcmVha2Rvd25zO1xyXG59IiwiaW1wb3J0IHsgUGxhbmV0RGF0YSB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvZW1waXJlL1BsYW5ldERhdGFcIjtcclxuaW1wb3J0IHsgUGxheWVyQ2xhc3MgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL2NsYXNzZXMvUGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgYWRkQ29zdCwgQ29zdCB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvb2dhbWUvY29tbW9uL0Nvc3RcIjtcclxuaW1wb3J0IHsgTGlmZWZvcm1UZWNobm9sb2d5Qm9udXNMaWZlZm9ybUJ1aWxkaW5nc0J5TGlmZWZvcm0sIFJlc291cmNlUHJvZHVjdGlvbkJvbnVzTGlmZWZvcm1CdWlsZGluZ3NCeUxpZmVmb3JtIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvYnVpbGRpbmdzL0xpZmVmb3JtQnVpbGRpbmdzXCI7XHJcbmltcG9ydCB7IENsYXNzQm9udXNMaWZlZm9ybVRlY2hub2xvZ2llcywgUmVzb3VyY2VQcm9kdWN0aW9uQm9udXNMaWZlZm9ybVRlY2hub2xvZ2llcyB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL3RlY2hub2xvZ2llcy9MaWZlZm9ybVRlY2hub2xvZ2llc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBsYW5ldENvbGxlY3RvckNsYXNzQm9udXNGYWN0b3IocGxhbmV0OiBQbGFuZXREYXRhKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBDbGFzc0JvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXNcclxuICAgICAgICAuZmlsdGVyKHRlY2ggPT4gcGxhbmV0LmFjdGl2ZUxpZmVmb3JtVGVjaG5vbG9naWVzLmluY2x1ZGVzKHRlY2gudHlwZSkpXHJcbiAgICAgICAgLnJlZHVjZShcclxuICAgICAgICAgICAgKHRvdGFsLCB0ZWNoKSA9PiB0b3RhbCArIHRlY2guZ2V0Q2xhc3NCb251cyhQbGF5ZXJDbGFzcy5jb2xsZWN0b3IsIHBsYW5ldC5saWZlZm9ybVRlY2hub2xvZ2llc1t0ZWNoLnR5cGVdKSxcclxuICAgICAgICAgICAgMFxyXG4gICAgICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGFuZXRMaWZlZm9ybVRlY2hub2xvZ3lCb29zdChwbGFuZXQ6IFBsYW5ldERhdGEpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIExpZmVmb3JtVGVjaG5vbG9neUJvbnVzTGlmZWZvcm1CdWlsZGluZ3NCeUxpZmVmb3JtW3BsYW5ldC5hY3RpdmVMaWZlZm9ybV1cclxuICAgICAgICAucmVkdWNlKFxyXG4gICAgICAgICAgICAodG90YWwsIGJ1aWxkaW5nKSA9PiB0b3RhbCArIGJ1aWxkaW5nLmdldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzKHBsYW5ldC5saWZlZm9ybUJ1aWxkaW5nc1tidWlsZGluZy50eXBlXSksXHJcbiAgICAgICAgICAgIDBcclxuICAgICAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGxhbmV0TGlmZWZvcm1CdWlsZGluZ0JvbnVzUHJvZHVjdGlvbkZhY3RvcihwbGFuZXQ6IFBsYW5ldERhdGEpOiBDb3N0IHtcclxuICAgIHJldHVybiBSZXNvdXJjZVByb2R1Y3Rpb25Cb251c0xpZmVmb3JtQnVpbGRpbmdzQnlMaWZlZm9ybVtwbGFuZXQuYWN0aXZlTGlmZWZvcm1dLnJlZHVjZTxDb3N0PihcclxuICAgICAgICAodG90YWwsIGJ1aWxkaW5nKSA9PiBhZGRDb3N0KHRvdGFsLCBidWlsZGluZy5nZXRQcm9kdWN0aW9uQm9udXMocGxhbmV0LmxpZmVmb3JtQnVpbGRpbmdzW2J1aWxkaW5nLnR5cGVdKSksXHJcbiAgICAgICAgeyBtZXRhbDogMCwgY3J5c3RhbDogMCwgZGV1dGVyaXVtOiAwLCBlbmVyZ3k6IDAgfSxcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGFuZXRMaWZlZm9ybVRlY2hub2xvZ3lCb251c1Byb2R1Y3Rpb25GYWN0b3IocGxhbmV0OiBQbGFuZXREYXRhKTogQ29zdCB7XHJcbiAgICByZXR1cm4gUmVzb3VyY2VQcm9kdWN0aW9uQm9udXNMaWZlZm9ybVRlY2hub2xvZ2llc1xyXG4gICAgICAgIC5maWx0ZXIodGVjaCA9PiBwbGFuZXQuYWN0aXZlTGlmZWZvcm1UZWNobm9sb2dpZXMuaW5jbHVkZXModGVjaC50eXBlKSlcclxuICAgICAgICAucmVkdWNlPENvc3Q+KFxyXG4gICAgICAgICAgICAodG90YWwsIHRlY2gpID0+IGFkZENvc3QodG90YWwsIHRlY2guZ2V0UHJvZHVjdGlvbkJvbnVzKHBsYW5ldC5saWZlZm9ybVRlY2hub2xvZ2llc1t0ZWNoLnR5cGVdKSksXHJcbiAgICAgICAgICAgIHsgbWV0YWw6IDAsIGNyeXN0YWw6IDAsIGRldXRlcml1bTogMCwgZW5lcmd5OiAwIH0sXHJcbiAgICAgICAgKTtcclxufSJdLCJuYW1lcyI6WyJib251c1BlckxldmVsIiwiZ2V0TGlmZWZvcm1MZXZlbFRlY2hub2xvZ3lCb251cyIsImV4cGVyaWVuY2UiLCJsZXZlbCIsImdldExpZmVmb3JtTGV2ZWwiLCJleHBGb3JMZXZlbCIsImdldExpZmVmb3JtRXhwZXJpZW5jZU5lZWRlZEZvckxldmVsIiwiZ2V0VGVjaG5vbG9neUJvbnVzRmFjdG9yIiwiYnVpbGRpbmdCb29zdCIsImxldmVsQm9vc3QiLCJoYXNDb21tYW5kU3RhZmYiLCJvZmZpY2VycyIsImFkbWlyYWwiLCJjb21tYW5kZXIiLCJlbmdpbmVlciIsImdlb2xvZ2lzdCIsInRlY2hub2NyYXQiLCJnZXRDcmF3bGVyUHJvZHVjdGlvbkZhY3RvciIsInBsYXllckNsYXNzIiwiY29sbGVjdG9yQ3Jhd2xlclByb2R1Y3Rpb25GYWN0b3JCb251cyIsImNvbGxlY3RvckNsYXNzQm9udXMiLCJjcmF3bGVyUHJvZHVjdGlvbkJvbnVzIiwiZ2V0Q3J5c3RhbFByb2R1Y3Rpb25Cb29zdCIsInBvc2l0aW9uIiwic2VydmVyUG9zaXRpb25Cb29zdCIsInBvczEiLCJwb3MyIiwicG9zMyIsImRlZmF1bHQiLCJnZXRDcnlzdGFsQmFzZVByb2R1Y3Rpb24iLCJkZXBlbmRlbmNpZXMiLCJib29zdCIsInBsYW5ldFBvc2l0aW9uIiwiYmFzZVByb2R1Y3Rpb24iLCJzZXJ2ZXJFY29ub215U3BlZWQiLCJNYXRoIiwidHJ1bmMiLCJnZXRJdGVtQm9udXMiLCJyZXNvdXJjZSIsImFjdGl2ZUl0ZW1zIiwibm93IiwiRGF0ZSIsIml0ZW1zMTAiLCJpdGVtczIwIiwiaXRlbXMzMCIsIml0ZW1zNDAiLCJzb21lIiwiaGFzaCIsImlzSXRlbUFjdGl2ZSIsIml0ZW1FeHBpcmF0aW9uIiwiZ2V0TWF4QWN0aXZlQ3Jhd2xlcnMiLCJtZXRhbE1pbmVMZXZlbCIsImNyeXN0YWxNaW5lTGV2ZWwiLCJkZXV0ZXJpdW1TeW50aGVzaXplckxldmVsIiwiaXNDb2xsZWN0b3IiLCJoYXNHZW9sb2dpc3QiLCJzZXJ2ZXJTZXR0aW5nc19nZW9sb2dpc3RBY3RpdmVDcmF3bGVyRmFjdG9yQm9udXMiLCJtYXhDcmF3bGVyRmFjdG9yIiwiY3Jhd2xlcnNQZXJMZXZlbCIsIm1heENyYXdsZXJzIiwiZmxvb3IiLCJnZXRNZXRhbFByb2R1Y3Rpb25Cb29zdCIsImdldE1ldGFsQmFzZVByb2R1Y3Rpb24iLCJHZW9sb2dpc3RQcm9kdWN0aW9uQm9udXMiLCJDb21tYW5kU3RhZmZQcm9kdWN0aW9uQm9udXMiLCJQbGFzbWFUZWNobm9sb2d5UHJvZHVjdGlvbkJvbnVzIiwiUmVzb3VyY2VUeXBlIiwiQWxsaWFuY2VDbGFzc1RyYWRlclByb2R1Y3Rpb25Cb251cyIsImdldENyYXdsZXJCb29zdCIsImRhdGEiLCJsZXZlbE1ldGFsTWluZSIsImxldmVsQ3J5c3RhbE1pbmUiLCJsZXZlbERldXRlcml1bVN5bnRoZXNpemVyIiwiUGxheWVyQ2xhc3MiLCJzZXJ2ZXJTZXR0aW5ncyIsImdlb2xvZ2lzdEFjdGl2ZUNyYXdsZXJGYWN0b3JCb251cyIsImxpZmVmb3JtVGVjaG5vbG9naWVzIiwiY3Jhd2xlckNvdW50IiwibWluIiwiYXZhaWxhYmxlQ3Jhd2xlcnMiLCJjcmF3bGVyUHJvZHVjdGl2aXR5IiwicG90ZW50aWFsQ3Jhd2xlckJvb3N0IiwiY3Jhd2xlclByb2R1Y3Rpb25GYWN0b3JQZXJVbml0IiwiY3Jhd2xlclByb2R1Y3Rpb25TZXR0aW5nIiwiY3Jhd2xlck1heFByb2R1Y3Rpb25GYWN0b3IiLCJFbXBpcmVQcm9kdWN0aW9uQnJlYWtkb3duIiwicGxhc21hVGVjaG5vbG9neUxldmVsIiwiYWxsaWFuY2VDbGFzcyIsImNvbW1hbmRTdGFmZiIsInBsYW5ldHMiLCJ0aGlzIiwiT2JqZWN0Iiwia2V5cyIsIm1hcCIsImlkIiwiZ2V0TGlmZWZvcm1Cb251c0ZhY3RvcnMiLCJjb2xsZWN0b3JDbGFzc0JvbnVzRmFjdG9yIiwibGlmZWZvcm1UZWNobm9sb2d5UHJvZHVjdGlvbkJvbnVzRmFjdG9yIiwibGlmZWZvcm1UZWNobm9sb2d5Q3Jhd2xlclByb2R1Y3Rpb25Cb251c0ZhY3RvciIsImZvckVhY2giLCJwbGFuZXRJZCIsInBsYW5ldCIsInRlY2hCb251c0ZhY3RvciIsImxpZmVmb3JtVGVjaG5vbG9neUJvb3N0IiwibGlmZWZvcm1FeHBlcmllbmNlQm9vc3QiLCJsaWZlZm9ybVRlY2hub2xvZ3lCb251c1Byb2R1Y3Rpb25GYWN0b3IiLCJhZGRQbGFuZXQiLCJwbGFuZXRTdGF0ZSIsInB1c2giLCJnZXRQcm9kdWN0aW9uQnJlYWtkb3duIiwiZ2xvYmFsQm9udXNlcyIsIm1pbmVQcm9kdWN0aW9uIiwicGxheWVyQ2xhc3NGYWN0b3IiLCJjb2xsZWN0b3JQcm9kdWN0aW9uRmFjdG9yIiwiYWxsaWFuY2VDbGFzc0ZhY3RvciIsIkFsbGlhbmNlQ2xhc3MiLCJnZW9sb2dpc3RGYWN0b3IiLCJjb21tYW5kU3RhZmZGYWN0b3IiLCJjcmF3bGVyQ29uZmlnIiwiY3Jhd2xlcnMiLCJjcmF3bGVyUHJvZHVjdGlvbkZhY3RvciIsImF2YWlsYWJsZSIsInRvdGFsTWluZUxldmVsIiwicGVyY2VudGFnZSIsInBsYXNtYVRlY2hub2xvZ3lQcm9kdWN0aW9uIiwiY3Jhd2xlclByb2R1Y3Rpb24iLCJwbGF5ZXJDbGFzc1Byb2R1Y3Rpb24iLCJhbGxpYW5jZUNsYXNzUHJvZHVjdGlvbiIsImdlb2xvZ2lzdFByb2R1Y3Rpb24iLCJjb21tYW5kU3RhZmZQcm9kdWN0aW9uIiwiaXRlbVByb2R1Y3Rpb24iLCJpdGVtQm9udXNQcm9kdWN0aW9uRmFjdG9yIiwibGlmZWZvcm1CdWlsZGluZ3NQcm9kdWN0aW9uIiwibGlmZWZvcm1CdWlsZGluZ0JvbnVzUHJvZHVjdGlvbkZhY3RvciIsImxpZmVmb3JtVGVjaG5vbG9naWVzUHJvZHVjdGlvbiIsInRvdGFsIiwiZ2V0VG90YWwiLCJpbmNsdWRlQ29uc3VtcHRpb24iLCJyZWR1Y2UiLCJjb25zdW1wdGlvbiIsImZ1c2lvblJlYWN0b3JDb25zdW1wdGlvbiIsImdldEF2ZXJhZ2UiLCJsZW5ndGgiLCJjbG9uZSIsInBsYW5ldFN0YXRlc0Nsb25lIiwiZ2V0UGxhbmV0TGlmZWZvcm1UZWNobm9sb2d5Q3Jhd2xlclByb2R1Y3Rpb25Cb251c0ZhY3RvciIsInRlY2giLCJhY3RpdmVMaWZlZm9ybVRlY2hub2xvZ2llcyIsImluY2x1ZGVzIiwidHlwZSIsImdldENyYXdsZXJQcm9kdWN0aW9uQm9udXMiLCJnZXRQcm9kdWN0aW9uQnJlYWtkb3ducyIsImVtcGlyZSIsImxpZmVmb3JtRXhwZXJpZW5jZSIsInZhbHVlcyIsImZpbHRlciIsImlzTW9vbiIsInBsYXNtYVRlY2hMZXZlbCIsInJlc2VhcmNoIiwicHJvZHVjdGlvblNlcnZlclNldHRpbmdzIiwicGxheWVyQ2xhc3NlcyIsImNvbGxlY3RvciIsInByb2R1Y3Rpb25GYWN0b3JCb251cyIsInByb2R1Y3Rpb25Cb29zdEZhY3RvclBlclVuaXQiLCJtYXhQcm9kdWN0aW9uRmFjdG9yIiwiZW1waXJlUHJvZHVjdGlvblBsYW5ldFN0YXRlcyIsIm1ldGFsIiwiY3J5c3RhbCIsImRldXRlcml1bSIsImxpZmVmb3JtWHBCb29zdCIsImxmIiwiYnVpbGRpbmdzIiwibGV2ZWxGdXNpb25SZWFjdG9yIiwic2hpcHMiLCJwcm9kdWN0aW9uU2V0dGluZ3MiLCJiYXNlUHJvZHVjdGlvbkNvbmZpZyIsImFjdGl2ZUxpZmVmb3JtIiwicHJvZHVjdGlvbkJ1aWxkaW5nRGVwZW5kZW5jaWVzIiwiY29vcmRpbmF0ZXMiLCJ0ZW1wZXJhdHVyZSIsIm1heFRlbXBlcmF0dXJlIiwiZWNvbm9teVNwZWVkIiwic3BlZWQiLCJlY29ub215IiwiY3J5c3RhbEJvb3N0IiwicmVzb3VyY2VQcm9kdWN0aW9uIiwibWV0YWxNaW5lIiwiY3J5c3RhbE1pbmUiLCJkZXV0ZXJpdW1TeW50aGVzaXplciIsImZ1c2lvblJlYWN0b3IiLCJlbXBpcmVQcm9kdWN0aW9uQnJlYWtkb3ducyIsImVuZXJneSIsImdldFBsYW5ldENvbGxlY3RvckNsYXNzQm9udXNGYWN0b3IiLCJnZXRDbGFzc0JvbnVzIiwiZ2V0UGxhbmV0TGlmZWZvcm1UZWNobm9sb2d5Qm9vc3QiLCJidWlsZGluZyIsImdldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzIiwibGlmZWZvcm1CdWlsZGluZ3MiLCJnZXRQbGFuZXRMaWZlZm9ybUJ1aWxkaW5nQm9udXNQcm9kdWN0aW9uRmFjdG9yIiwiZ2V0UHJvZHVjdGlvbkJvbnVzIiwiZ2V0UGxhbmV0TGlmZWZvcm1UZWNobm9sb2d5Qm9udXNQcm9kdWN0aW9uRmFjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==