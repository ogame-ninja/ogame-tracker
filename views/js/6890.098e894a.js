"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[6890],{5499:(e,s,t)=>{t.r(s),t.d(s,{default:()=>M});var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("lifeform-bonuses-breakdown",{attrs:{types:e.bonusTypes,technologies:e.techs,planets:e.planets,limits:e.limits}})},i=[],o=t(655),n=t(147),l=t(3418),a=t(4846),p=t(9751),u=t(8395),c=t(1786),f=t(4028),h=t(7385),d=t(5424),m=t(7848),b=t(7377);let g=class extends f.w3{bonusTypes=[{key:"resources",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.expeditionFinds.resources},{key:"ships",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.expeditionFinds.ships},{key:"darkMatter",label:this.$i18n.$t.ogame.premium.darkMatter},{key:"fleetLoss",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.expeditionFinds.fleetLoss}];technologies=[...a.f1,...a.uv];techs=this.technologies.map((e=>e.type));get limits(){const e=(0,m.K)({type:b.f.ExpeditionBonus,event:d.r.resources}),s=(0,m.K)({type:b.f.ExpeditionBonus,event:d.r.fleet}),t=(0,m.K)({type:b.f.ExpeditionBonus,event:d.r.darkMatter}),r=(0,m.K)({type:b.f.ExpeditionEventProbabilityBonus,event:d.r.lostFleet});return{resources:s=>null!=e?Math.min(s,e):s,ships:e=>null!=s?Math.min(e,s):e,darkMatter:e=>null!=t?Math.min(e,t):e,fleetLoss:e=>null!=r?Math.max(e,-r):e}}get planets(){return(0,p.r)(u.p.empire.planetOrder.map((e=>u.p.empire.planets[e])).filter((e=>!e.isMoon)),(e=>e.id),(e=>this.techs.map((s=>{const t=a.dy[s],r=this.getPlanetBonus(t,e);return{planet:e,technologyType:s,bonuses:(0,p.a)(["resources","ships","darkMatter","fleetLoss"],(e=>({base:r.base[e],buildings:r.buildings[e],level:r.level[e],total:r.total[e]})))}}))))}get experience(){return u.p.lifeformExperience}getPlanetBonus(e,s){const t={base:{resources:0,ships:0,darkMatter:0,fleetLoss:0},level:{resources:0,ships:0,darkMatter:0,fleetLoss:0},buildings:{resources:0,ships:0,darkMatter:0,fleetLoss:0},buildingsBoost:0,total:{resources:0,ships:0,darkMatter:0,fleetLoss:0}};if(s.activeLifeform==l.e5.none||!s.activeLifeformTechnologies.includes(e.type))return t;const r=Math.min((0,c.io)(s)[e.type],(0,m.K)({type:b.f.LifeformResearchBonusBoost})??Number.MAX_SAFE_INTEGER);t.buildingsBoost+=r;const i={resources:d.r.resources,ships:d.r.fleet,darkMatter:d.r.darkMatter,fleetLoss:d.r.lostFleet};return Object.entries(i).forEach((i=>{const[o,l]=i,a="getExpeditionBonus"in e?e.getExpeditionBonus(l,s.lifeformTechnologies[e.type]):e.getExpeditionEventProbabilityBonus(l,s.lifeformTechnologies[e.type]),p=a*(0,n.g1)(this.experience[s.activeLifeform]),u=a*r,c=a+p+u;t.base[o]+=a,t.level[o]+=p,t.buildings[o]+=u,t.total[o]+=c})),t}};g=(0,o.gn)([(0,f.wA)({components:{LifeformBonusesBreakdown:h.Z}})],g);const k=g,y=k;var x=t(1001),B=(0,x.Z)(y,r,i,!1,null,null,null);const M=B.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianMvNjg5MC4wOThlODk0YS5qcyIsIm1hcHBpbmdzIjoiOEpBQUEsSUFBSUEsRUFBUyxXQUFhLElBQUlDLEVBQUlDLEtBQVNDLEVBQUdGLEVBQUlHLGVBQW1CQyxFQUFHSixFQUFJSyxNQUFNRCxJQUFJRixFQUFHLE9BQU9FLEVBQUcsNkJBQTZCLENBQUNFLE1BQU0sQ0FBQyxNQUFRTixFQUFJTyxXQUFXLGFBQWVQLEVBQUlRLE1BQU0sUUFBVVIsRUFBSVMsUUFBUSxPQUFTVCxFQUFJVSxXQUN2TkMsRUFBa0IsRyxzSEN1Q3RCLHlCQUVBLFlBQ0EsQ0FDQSxnQkFDQSwwRkFFQSxDQUNBLFlBQ0Esc0ZBRUEsQ0FDQSxpQkFDQSw4Q0FFQSxDQUNBLGdCQUNBLDJGQUlBLCtCQUNBLHlDQUdBLGFBQ0EsZ0VBQ0Esc0RBQ0EsMkRBQ0EsMEVBRUEsT0FDQSxxQ0FDQSxpQ0FDQSxzQ0FDQSx1Q0FJQSxjQUNBLGNBQ0EsNEJBQ0EsMkJBQ0Esd0JBQ0EsVUFDQSx1QkFDQSxnQkFDQSwyQkFFQSxPQUNBLFNBQ0EsaUJBQ0EsZ0JBQ0EsZ0RBQ0EsS0FDQSxlQUNBLHlCQUNBLGlCQUNBLDJCQU9BLGlCQUNBLDhCQUdBLG9CQUNBLFNBQ0Esb0RBQ0EscURBQ0EseURBQ0EsaUJBQ0Esc0RBRUEsK0VBQ0EsU0FJQSxrQkFDQSxvQkFDQSx3RUFFQSxvQkFFQSxTQUNBLHdCQUNBLGdCQUNBLDBCQUNBLHlCQW1CQSxPQWpCQSwrQkFDQSxhQUVBLDJCQUNBLHVEQUNBLHVFQUNBLGdEQUNBLE1BRUEsUUFFQSxhQUNBLGNBQ0Esa0JBQ0EsaUJBR0EsSUEvR0EsYUFMQSxTQUNBLFlBQ0EsaUNBR0EsRyxVQ3hDMGQsSSxjQ090ZEMsR0FBWSxPQUNkLEVBQ0FiLEVBQ0FZLEdBQ0EsRUFDQSxLQUNBLEtBQ0EsTUFJRixRQUFlQyxFQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy9saWZlZm9ybXMvYm9udXMtYnJlYWtkb3duL0V4cGVkaXRpb24tRmluZHMudnVlPzIzNjEiLCJ3ZWJwYWNrOi8vL3NyYy92aWV3cy9zdGF0cy92aWV3cy9saWZlZm9ybXMvYm9udXMtYnJlYWtkb3duL0V4cGVkaXRpb24tRmluZHMudnVlPzhkZGUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL3ZpZXdzL2xpZmVmb3Jtcy9ib251cy1icmVha2Rvd24vRXhwZWRpdGlvbi1GaW5kcy52dWU/ZmIwNyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL2JvbnVzLWJyZWFrZG93bi9FeHBlZGl0aW9uLUZpbmRzLnZ1ZT9jMTMyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdsaWZlZm9ybS1ib251c2VzLWJyZWFrZG93bicse2F0dHJzOntcInR5cGVzXCI6X3ZtLmJvbnVzVHlwZXMsXCJ0ZWNobm9sb2dpZXNcIjpfdm0udGVjaHMsXCJwbGFuZXRzXCI6X3ZtLnBsYW5ldHMsXCJsaW1pdHNcIjpfdm0ubGltaXRzfX0pfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XHJcbiAgICA8bGlmZWZvcm0tYm9udXNlcy1icmVha2Rvd24gOnR5cGVzPVwiYm9udXNUeXBlc1wiIDp0ZWNobm9sb2dpZXM9XCJ0ZWNoc1wiIDpwbGFuZXRzPVwicGxhbmV0c1wiIDpsaW1pdHM9XCJsaW1pdHNcIiAvPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICAgIGltcG9ydCB7IFBsYW5ldERhdGEgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvZW1waXJlL1BsYW5ldERhdGEnO1xyXG4gICAgaW1wb3J0IHsgZ2V0TGlmZWZvcm1MZXZlbFRlY2hub2xvZ3lCb251cyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvZXhwZXJpZW5jZSc7XHJcbiAgICBpbXBvcnQgeyBMaWZlZm9ybVRlY2hub2xvZ3lUeXBlIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9MaWZlZm9ybVRlY2hub2xvZ3lUeXBlJztcclxuICAgIGltcG9ydCB7IExpZmVmb3JtVHlwZSwgVmFsaWRMaWZlZm9ybVR5cGUgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL0xpZmVmb3JtVHlwZSc7XHJcbiAgICBpbXBvcnQgeyBFeHBlZGl0aW9uQm9udXNMaWZlZm9ybVRlY2hub2xvZ3ksIEV4cGVkaXRpb25FdmVudFByb2JhYmlsaXR5Qm9udXNMaWZlZm9ybVRlY2hub2xvZ3kgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL3RlY2hub2xvZ2llcy9pbnRlcmZhY2VzJztcclxuICAgIGltcG9ydCB7IEV4cGVkaXRpb25Cb251c0xpZmVmb3JtVGVjaG5vbG9naWVzLCBFeHBlZGl0aW9uRXZlbnRQcm9iYWJpbGl0eUJvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXMsIExpZmVmb3JtVGVjaG5vbG9naWVzQnlUeXBlIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy90ZWNobm9sb2dpZXMvTGlmZWZvcm1UZWNobm9sb2dpZXMnO1xyXG4gICAgaW1wb3J0IHsgY3JlYXRlTWFwcGVkUmVjb3JkLCBjcmVhdGVSZWNvcmQgfSBmcm9tICdAL3NoYXJlZC91dGlscy9jcmVhdGVSZWNvcmQnO1xyXG4gICAgaW1wb3J0IHsgRW1waXJlRGF0YU1vZHVsZSB9IGZyb20gJ0Avdmlld3Mvc3RhdHMvZGF0YS9FbXBpcmVEYXRhTW9kdWxlJztcclxuICAgIGltcG9ydCB7IGdldFBsYW5ldExpZmVmb3JtVGVjaG5vbG9neUJvb3N0IH0gZnJvbSAnQC92aWV3cy9zdGF0cy9tb2RlbHMvbGlmZWZvcm1zJztcclxuICAgIGltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7XHJcbiAgICBpbXBvcnQgTGlmZWZvcm1Cb251c2VzQnJlYWtkb3duLCB7IExpZmVmb3JtQm9udXNlc0JyZWFrZG93blR5cGUsIExpZmVmb3JtQm9udXNlc1BsYW5ldEJyZWFrZG93biB9IGZyb20gJ0Avdmlld3Mvc3RhdHMvY29tcG9uZW50cy9saWZlZm9ybXMvTGlmZWZvcm1Cb251c2VzQnJlYWtkb3duLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBFeHBlZGl0aW9uRXZlbnRUeXBlIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL2V4cGVkaXRpb25zL0V4cGVkaXRpb25FdmVudFR5cGUnO1xyXG4gICAgaW1wb3J0IHsgZ2V0TGlmZWZvcm1Cb251c0xpbWl0IH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9MaWZlZm9ybUJvbnVzTGltaXRzJztcclxuICAgIGltcG9ydCB7IExpZmVmb3JtQm9udXNUeXBlSWQgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL0xpZmVmb3JtQm9udXNUeXBlJztcclxuXHJcbiAgICB0eXBlIEV4cGVkaXRpb25Cb251c2VzID0ge1xyXG4gICAgICAgIHJlc291cmNlczogbnVtYmVyO1xyXG4gICAgICAgIHNoaXBzOiBudW1iZXI7XHJcbiAgICAgICAgZGFya01hdHRlcjogbnVtYmVyO1xyXG4gICAgICAgIGZsZWV0TG9zczogbnVtYmVyO1xyXG4gICAgfTtcclxuXHJcbiAgICB0eXBlIEV4cGVkaXRpb25Cb251c0JyZWFrZG93biA9IHtcclxuICAgICAgICBiYXNlOiBFeHBlZGl0aW9uQm9udXNlcztcclxuICAgICAgICBsZXZlbDogRXhwZWRpdGlvbkJvbnVzZXM7XHJcbiAgICAgICAgYnVpbGRpbmdzOiBFeHBlZGl0aW9uQm9udXNlcztcclxuICAgICAgICBidWlsZGluZ3NCb29zdDogbnVtYmVyO1xyXG4gICAgICAgIHRvdGFsOiBFeHBlZGl0aW9uQm9udXNlcztcclxuICAgIH07XHJcblxyXG4gICAgQENvbXBvbmVudCh7XHJcbiAgICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICAgICBMaWZlZm9ybUJvbnVzZXNCcmVha2Rvd24sXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4cGVkaXRpb25GaW5kcyBleHRlbmRzIFZ1ZSB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgYm9udXNUeXBlczogTGlmZWZvcm1Cb251c2VzQnJlYWtkb3duVHlwZTxrZXlvZiBFeHBlZGl0aW9uQm9udXNlcz5bXSA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5OiAncmVzb3VyY2VzJyxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5lbXBpcmUubGlmZWZvcm1zLnJlc2VhcmNoQm9udXNlcy5leHBlZGl0aW9uRmluZHMucmVzb3VyY2VzLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBrZXk6ICdzaGlwcycsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uZW1waXJlLmxpZmVmb3Jtcy5yZXNlYXJjaEJvbnVzZXMuZXhwZWRpdGlvbkZpbmRzLnNoaXBzLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBrZXk6ICdkYXJrTWF0dGVyJyxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0Lm9nYW1lLnByZW1pdW0uZGFya01hdHRlcixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5OiAnZmxlZXRMb3NzJyxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5lbXBpcmUubGlmZWZvcm1zLnJlc2VhcmNoQm9udXNlcy5leHBlZGl0aW9uRmluZHMuZmxlZXRMb3NzLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgdGVjaG5vbG9naWVzID0gWy4uLkV4cGVkaXRpb25FdmVudFByb2JhYmlsaXR5Qm9udXNMaWZlZm9ybVRlY2hub2xvZ2llcywgLi4uRXhwZWRpdGlvbkJvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXNdO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgdGVjaHM6IExpZmVmb3JtVGVjaG5vbG9neVR5cGVbXSA9IHRoaXMudGVjaG5vbG9naWVzLm1hcCh0ID0+IHQudHlwZSk7XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBsaW1pdHMoKTogUmVjb3JkPGtleW9mIEV4cGVkaXRpb25Cb251c2VzLCAodmFsdWU6IG51bWJlcikgPT4gbnVtYmVyPiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlc0xpbWl0ID0gZ2V0TGlmZWZvcm1Cb251c0xpbWl0KHsgdHlwZTogTGlmZWZvcm1Cb251c1R5cGVJZC5FeHBlZGl0aW9uQm9udXMsIGV2ZW50OiBFeHBlZGl0aW9uRXZlbnRUeXBlLnJlc291cmNlcyB9KTtcclxuICAgICAgICAgICAgY29uc3Qgc2hpcHNMaW1pdCA9IGdldExpZmVmb3JtQm9udXNMaW1pdCh7IHR5cGU6IExpZmVmb3JtQm9udXNUeXBlSWQuRXhwZWRpdGlvbkJvbnVzLCBldmVudDogRXhwZWRpdGlvbkV2ZW50VHlwZS5mbGVldCB9KTtcclxuICAgICAgICAgICAgY29uc3QgZGFya01hdHRlckxpbWl0ID0gZ2V0TGlmZWZvcm1Cb251c0xpbWl0KHsgdHlwZTogTGlmZWZvcm1Cb251c1R5cGVJZC5FeHBlZGl0aW9uQm9udXMsIGV2ZW50OiBFeHBlZGl0aW9uRXZlbnRUeXBlLmRhcmtNYXR0ZXIgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZsZWV0TG9zc0xpbWl0ID0gZ2V0TGlmZWZvcm1Cb251c0xpbWl0KHsgdHlwZTogTGlmZWZvcm1Cb251c1R5cGVJZC5FeHBlZGl0aW9uRXZlbnRQcm9iYWJpbGl0eUJvbnVzLCBldmVudDogRXhwZWRpdGlvbkV2ZW50VHlwZS5sb3N0RmxlZXQgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VzOiB2YWx1ZSA9PiByZXNvdXJjZXNMaW1pdCAhPSBudWxsID8gTWF0aC5taW4odmFsdWUsIHJlc291cmNlc0xpbWl0KSA6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgc2hpcHM6IHZhbHVlID0+IHNoaXBzTGltaXQgIT0gbnVsbCA/IE1hdGgubWluKHZhbHVlLCBzaGlwc0xpbWl0KSA6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgZGFya01hdHRlcjogdmFsdWUgPT4gZGFya01hdHRlckxpbWl0ICE9IG51bGwgPyBNYXRoLm1pbih2YWx1ZSwgZGFya01hdHRlckxpbWl0KSA6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgZmxlZXRMb3NzOiB2YWx1ZSA9PiBmbGVldExvc3NMaW1pdCAhPSBudWxsID8gTWF0aC5tYXgodmFsdWUsIC1mbGVldExvc3NMaW1pdCkgOiB2YWx1ZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IHBsYW5ldHMoKTogUmVjb3JkPG51bWJlciwgTGlmZWZvcm1Cb251c2VzUGxhbmV0QnJlYWtkb3duPGtleW9mIEV4cGVkaXRpb25Cb251c2VzPltdPiB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVNYXBwZWRSZWNvcmQoXHJcbiAgICAgICAgICAgICAgICBFbXBpcmVEYXRhTW9kdWxlLmVtcGlyZS5wbGFuZXRPcmRlclxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoaWQgPT4gRW1waXJlRGF0YU1vZHVsZS5lbXBpcmUucGxhbmV0c1tpZF0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihwbGFuZXQgPT4gIXBsYW5ldC5pc01vb24pIGFzIFBsYW5ldERhdGFbXSxcclxuICAgICAgICAgICAgICAgIHBsYW5ldCA9PiBwbGFuZXQuaWQsXHJcbiAgICAgICAgICAgICAgICBwbGFuZXQgPT4gdGhpcy50ZWNocy5tYXA8TGlmZWZvcm1Cb251c2VzUGxhbmV0QnJlYWtkb3duPGtleW9mIEV4cGVkaXRpb25Cb251c2VzPj4odGVjaFR5cGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlY2ggPSBMaWZlZm9ybVRlY2hub2xvZ2llc0J5VHlwZVt0ZWNoVHlwZV0gYXMgRXhwZWRpdGlvbkJvbnVzTGlmZWZvcm1UZWNobm9sb2d5IHwgRXhwZWRpdGlvbkV2ZW50UHJvYmFiaWxpdHlCb251c0xpZmVmb3JtVGVjaG5vbG9neTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFuZXRCb251c2VzID0gdGhpcy5nZXRQbGFuZXRCb251cyh0ZWNoLCBwbGFuZXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFuZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlY2hub2xvZ3lUeXBlOiB0ZWNoVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9udXNlczogY3JlYXRlUmVjb3JkPGtleW9mIEV4cGVkaXRpb25Cb251c2VzLCBMaWZlZm9ybUJvbnVzZXNQbGFuZXRCcmVha2Rvd25bJ2JvbnVzZXMnXVtzdHJpbmddPihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsncmVzb3VyY2VzJywgJ3NoaXBzJywgJ2RhcmtNYXR0ZXInLCAnZmxlZXRMb3NzJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiBwbGFuZXRCb251c2VzLmJhc2Vba2V5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ3M6IHBsYW5ldEJvbnVzZXMuYnVpbGRpbmdzW2tleV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IHBsYW5ldEJvbnVzZXMubGV2ZWxba2V5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogcGxhbmV0Qm9udXNlcy50b3RhbFtrZXldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgZXhwZXJpZW5jZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEVtcGlyZURhdGFNb2R1bGUubGlmZWZvcm1FeHBlcmllbmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRQbGFuZXRCb251cyh0ZWNoOiBFeHBlZGl0aW9uQm9udXNMaWZlZm9ybVRlY2hub2xvZ3kgfCBFeHBlZGl0aW9uRXZlbnRQcm9iYWJpbGl0eUJvbnVzTGlmZWZvcm1UZWNobm9sb2d5LCBwbGFuZXQ6IFBsYW5ldERhdGEpOiBFeHBlZGl0aW9uQm9udXNCcmVha2Rvd24ge1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IEV4cGVkaXRpb25Cb251c0JyZWFrZG93biA9IHtcclxuICAgICAgICAgICAgICAgIGJhc2U6IHsgcmVzb3VyY2VzOiAwLCBzaGlwczogMCwgZGFya01hdHRlcjogMCwgZmxlZXRMb3NzOiAwIH0sXHJcbiAgICAgICAgICAgICAgICBsZXZlbDogeyByZXNvdXJjZXM6IDAsIHNoaXBzOiAwLCBkYXJrTWF0dGVyOiAwLCBmbGVldExvc3M6IDAgfSxcclxuICAgICAgICAgICAgICAgIGJ1aWxkaW5nczogeyByZXNvdXJjZXM6IDAsIHNoaXBzOiAwLCBkYXJrTWF0dGVyOiAwLCBmbGVldExvc3M6IDAgfSxcclxuICAgICAgICAgICAgICAgIGJ1aWxkaW5nc0Jvb3N0OiAwLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IHsgcmVzb3VyY2VzOiAwLCBzaGlwczogMCwgZGFya01hdHRlcjogMCwgZmxlZXRMb3NzOiAwIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChwbGFuZXQuYWN0aXZlTGlmZWZvcm0gPT0gTGlmZWZvcm1UeXBlLm5vbmUgfHwgIXBsYW5ldC5hY3RpdmVMaWZlZm9ybVRlY2hub2xvZ2llcy5pbmNsdWRlcyh0ZWNoLnR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdzQm9vc3QgPSBNYXRoLm1pbihcclxuICAgICAgICAgICAgICAgIGdldFBsYW5ldExpZmVmb3JtVGVjaG5vbG9neUJvb3N0KHBsYW5ldClbdGVjaC50eXBlXSxcclxuICAgICAgICAgICAgICAgIGdldExpZmVmb3JtQm9udXNMaW1pdCh7IHR5cGU6IExpZmVmb3JtQm9udXNUeXBlSWQuTGlmZWZvcm1SZXNlYXJjaEJvbnVzQm9vc3QgfSkgPz8gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5idWlsZGluZ3NCb29zdCArPSBidWlsZGluZ3NCb29zdDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1hcHBpbmc6IFJlY29yZDxrZXlvZiBFeHBlZGl0aW9uQm9udXNlcywgRXhwZWRpdGlvbkV2ZW50VHlwZT4gPSB7XHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZXM6IEV4cGVkaXRpb25FdmVudFR5cGUucmVzb3VyY2VzLFxyXG4gICAgICAgICAgICAgICAgc2hpcHM6IEV4cGVkaXRpb25FdmVudFR5cGUuZmxlZXQsXHJcbiAgICAgICAgICAgICAgICBkYXJrTWF0dGVyOiBFeHBlZGl0aW9uRXZlbnRUeXBlLmRhcmtNYXR0ZXIsXHJcbiAgICAgICAgICAgICAgICBmbGVldExvc3M6IEV4cGVkaXRpb25FdmVudFR5cGUubG9zdEZsZWV0LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAoT2JqZWN0LmVudHJpZXMobWFwcGluZykgYXMgW2tleW9mIEV4cGVkaXRpb25Cb251c2VzLCBFeHBlZGl0aW9uRXZlbnRUeXBlXVtdKS5mb3JFYWNoKHBhaXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgW2JvbnVzVHlwZSwgZXZlbnRUeXBlXSA9IHBhaXI7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZUJvbnVzID0gJ2dldEV4cGVkaXRpb25Cb251cycgaW4gdGVjaFxyXG4gICAgICAgICAgICAgICAgICAgID8gdGVjaC5nZXRFeHBlZGl0aW9uQm9udXMoZXZlbnRUeXBlLCBwbGFuZXQubGlmZWZvcm1UZWNobm9sb2dpZXNbdGVjaC50eXBlXSlcclxuICAgICAgICAgICAgICAgICAgICA6IHRlY2guZ2V0RXhwZWRpdGlvbkV2ZW50UHJvYmFiaWxpdHlCb251cyhldmVudFR5cGUsIHBsYW5ldC5saWZlZm9ybVRlY2hub2xvZ2llc1t0ZWNoLnR5cGVdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpZmVmb3JtTGV2ZWxCb251cyA9IGJhc2VCb251cyAqIGdldExpZmVmb3JtTGV2ZWxUZWNobm9sb2d5Qm9udXModGhpcy5leHBlcmllbmNlW3BsYW5ldC5hY3RpdmVMaWZlZm9ybSBhcyBWYWxpZExpZmVmb3JtVHlwZV0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGlmZWZvcm1CdWlsZGluZ0JvbnVzID0gYmFzZUJvbnVzICogYnVpbGRpbmdzQm9vc3Q7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSBiYXNlQm9udXMgKyBsaWZlZm9ybUxldmVsQm9udXMgKyBsaWZlZm9ybUJ1aWxkaW5nQm9udXM7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LmJhc2VbYm9udXNUeXBlXSArPSBiYXNlQm9udXM7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQubGV2ZWxbYm9udXNUeXBlXSArPSBsaWZlZm9ybUxldmVsQm9udXM7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQuYnVpbGRpbmdzW2JvbnVzVHlwZV0gKz0gbGlmZWZvcm1CdWlsZGluZ0JvbnVzO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnRvdGFsW2JvbnVzVHlwZV0gKz0gdG90YWw7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbjwvc2NyaXB0PiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9FeHBlZGl0aW9uLUZpbmRzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0V4cGVkaXRpb24tRmluZHMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9FeHBlZGl0aW9uLUZpbmRzLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03YTcwZDQ4ZCZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9FeHBlZGl0aW9uLUZpbmRzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vRXhwZWRpdGlvbi1GaW5kcy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyJdLCJuYW1lcyI6WyJyZW5kZXIiLCJfdm0iLCJ0aGlzIiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9jIiwiX3NlbGYiLCJhdHRycyIsImJvbnVzVHlwZXMiLCJ0ZWNocyIsInBsYW5ldHMiLCJsaW1pdHMiLCJzdGF0aWNSZW5kZXJGbnMiLCJjb21wb25lbnQiXSwic291cmNlUm9vdCI6IiJ9