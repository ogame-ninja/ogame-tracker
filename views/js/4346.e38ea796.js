"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[4346],{3420:(e,t,s)=>{s.d(t,{s:()=>n});class n{#e;#t;#s;constructor(e){this.#e=e.comparator,this.#t=e.maxSize,this.#s=[]}get values(){return[...this.#s]}add(e){if(0==this.#s.length)return void this.#s.push(e);const t=this.#s[0];if(this.#e(e,t)<0)return this.#s.unshift(e),void this.#n();const s=this.#s.findIndex((t=>this.#e(e,t)<0));-1==s?this.#s.push(e):this.#s.splice(s,0,e),this.#n()}#n(){this.#s.splice(this.#t)}}},8288:(e,t,s)=>{s.d(t,{B:()=>o});var n=s(7331),i=s(917);function o(e,t={}){const s={metal:0,crystal:0,deuterium:0,...e},o={metal:1,crystal:1,deuterium:1,...t};n.P.forEach((e=>s[e]*=o[e]));const{mode:a,msu:r,dsu:l}=i.V.settings.conversionRates;return"msu"==a?s.metal+s.crystal*r.crystal+s.deuterium*r.deuterium:s.deuterium+s.crystal/l.crystal+s.metal/l.metal}},2836:(e,t,s)=>{s.d(t,{Z:()=>h});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.size==e.ExpeditionEventSize.small?s("span",{staticClass:"mdi mdi-hexagon-slice-1",style:{color:e.colors.small}}):e.size==e.ExpeditionEventSize.medium?s("span",{staticClass:"mdi mdi-hexagon-slice-3",style:{color:e.colors.medium}}):e.size==e.ExpeditionEventSize.large?s("span",{staticClass:"mdi mdi-hexagon-slice-5",style:{color:e.colors.large}}):e._e()},i=[],o=s(655),a=s(776),r=s(4028),l=s(917);let d=class extends r.w3{size;ExpeditionEventSize=a.Mm;get colors(){return l.V.settings.colors.expeditions.sizes}};(0,o.gn)([(0,r.fI)({required:!0,type:String})],d.prototype,"size",void 0),d=(0,o.gn)([(0,r.wA)({})],d);const m=d,u=m;var c=s(1001),p=(0,c.Z)(u,n,i,!1,null,null,null);const h=p.exports},4346:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loading?s("loading-spinner"):s("div",[e._l(e.keys,(function(t){return s("div",{key:t,staticClass:"find-column"},[s("h3",{domProps:{textContent:e._s(e.$i18n.$t.extension.expeditions.topFinds.title(e.keyTranslations[t]))}}),s("grid-table",{style:"--color: "+e.colors[t],attrs:{inline:"",columns:e.columns,items:e.largestFinds[t].values},scopedSlots:e._u([{key:"cell-size",fn:function(e){var t=e.value;return[s("expedition-size-icon",{staticClass:"scaled-icon",attrs:{size:t}})]}},{key:"cell-amount",fn:function(t){var n=t.value;return[s("span",{domProps:{textContent:e._s(e.$i18n.$n(n))}})]}},{key:"cell-date",fn:function(t){var n=t.value;return[s("span",{domProps:{textContent:e._s(e.$i18n.$d(n,"date"))}})]}}],null,!0)})],1)})),s("div",{staticClass:"find-column",style:"--color: "+e.colors.shipUnitsConverted},[s("h3",{domProps:{textContent:e._s(e.$i18n.$t.extension.expeditions.topFinds.title(e.$i18n.$t.extension.expeditions.topFinds.shipAmount))}}),s("select",{directives:[{name:"model",rawName:"v-model.number",value:e.selectedShip,expression:"selectedShip",modifiers:{number:!0}}],staticStyle:{display:"block","margin-bottom":"4px"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var s="_value"in t?t._value:t.value;return e._n(s)}));e.selectedShip=t.target.multiple?s:s[0]}}},e._l(e.ShipTypes,(function(t){return s("option",{key:t,domProps:{value:t,textContent:e._s(e.$i18n.$t.ogame.ships[t])}})})),0),s("grid-table",{attrs:{inline:"",columns:e.shipColumns,items:e.largestFinds.shipAmounts[e.selectedShip].values},scopedSlots:e._u([{key:"cell-amount",fn:function(t){var n=t.value;return[s("span",{domProps:{textContent:e._s(e.$i18n.$n(n))}})]}},{key:"cell-date",fn:function(t){var n=t.value;return[s("span",{domProps:{textContent:e._s(e.$i18n.$d(n,"date"))}})]}}])})],1)],2)},i=[],o=s(655),a=s(5424),r=s(7331),l=s(4028),d=s(7090),m=s(2836),u=s(9563),c=s(917),p=s(7048),h=s(248),x=s(2057),g=s(3420),v=s(8288),y=s(9751);let $=class extends l.w3{loading=!0;ShipTypes=u.x;largestFinds={metal:new g.s({comparator:(e,t)=>t.amount-e.amount,maxSize:25}),crystal:new g.s({comparator:(e,t)=>t.amount-e.amount,maxSize:25}),deuterium:new g.s({comparator:(e,t)=>t.amount-e.amount,maxSize:25}),shipUnits:new g.s({comparator:(e,t)=>t.amount-e.amount,maxSize:25}),shipUnitsConverted:new g.s({comparator:(e,t)=>t.amount-e.amount,maxSize:25}),darkMatter:new g.s({comparator:(e,t)=>t.amount-e.amount,maxSize:25}),shipAmounts:(0,y.a)(u.x,(e=>new g.s({comparator:(e,t)=>t.amount-e.amount,maxSize:25})))};keys=["metal","crystal","deuterium","shipUnits","shipUnitsConverted","darkMatter"];selectedShip=x.g.espionageProbe;get keyTranslations(){return{metal:this.$i18n.$t.ogame.resources.metal,crystal:this.$i18n.$t.ogame.resources.crystal,deuterium:this.$i18n.$t.ogame.resources.deuterium,shipUnits:this.$i18n.$t.extension.expeditions.topFinds.shipUnits,shipUnitsConverted:this.$i18n.$t.extension.expeditions.topFinds.shipUnits+` (${"msu"==c.V.settings.conversionRates.mode?this.$i18n.$t.extension.common.msu:this.$i18n.$t.extension.common.dsu})`,darkMatter:this.$i18n.$t.ogame.premium.darkMatter}}get colors(){const e=c.V.settings.colors;return{metal:(0,p.U)(e.resources.metal),crystal:(0,p.U)(e.resources.crystal),deuterium:(0,p.U)(e.resources.deuterium),darkMatter:(0,p.U)(e.expeditions.events.darkMatter),shipUnits:(0,p.U)(e.expeditions.events.fleet),shipUnitsConverted:(0,p.U)(e.expeditions.events.fleet)}}get columns(){return[{key:"size",label:this.$i18n.$t.extension.expeditions.topFinds.size},{key:"amount",label:this.$i18n.$t.extension.expeditions.topFinds.amount},{key:"date",label:this.$i18n.$t.extension.expeditions.topFinds.date}]}get shipColumns(){return[{key:"amount",label:this.$i18n.$t.extension.expeditions.topFinds.amount},{key:"date",label:this.$i18n.$t.extension.expeditions.topFinds.date}]}async mounted(){const e=await d.m.getRawData();e.forEach((e=>{e.type==a.r.resources?this.addResourceExpo(e):e.type==a.r.fleet?this.addFleetExpo(e):e.type==a.r.darkMatter&&this.addDarkMatterExpo(e)})),this.loading=!1}addDarkMatterExpo(e){this.largestFinds.darkMatter.add({size:e.size,amount:e.darkMatter,date:e.date})}addFleetExpo(e){{const t=u.x.map((t=>{const s=e.fleet[t]??0,n=h.lp[t],i=n.cost;return(i.metal+i.crystal)*s})).reduce(((e,t)=>e+t),0);this.largestFinds.shipUnits.add({size:e.size,amount:t,date:e.date})}{const t=u.x.map((t=>{const s=e.fleet[t]??0,n=h.lp[t],i=n.cost;return(0,v.B)(i)*s})).reduce(((e,t)=>e+t),0);this.largestFinds.shipUnitsConverted.add({size:e.size,amount:t,date:e.date})}u.x.forEach((t=>{const s=e.fleet[t]??0;0!=s&&this.largestFinds.shipAmounts[t].add({date:e.date,amount:s})}))}addResourceExpo(e){const t=e.resources.metal>0?r._.metal:e.resources.crystal>0?r._.crystal:r._.deuterium;0!=e.resources[t]&&this.largestFinds[t].add({size:e.size,amount:e.resources[t],date:e.date})}};$=(0,o.gn)([(0,l.wA)({components:{ExpeditionSizeIcon:m.Z}})],$);const f=$,z=f;var k=s(1001),S=(0,k.Z)(z,n,i,!1,null,"47c4aff4",null);const _=S.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJBQ0Esb0NBQ0EsYUFFQSxtQkFDQSxvQ0FDQSxhQUVBLG1CQUNBLG9DQUNBLGFBRUEsNEJBQ0Esb0NBQ0EsYUFFQSxvQkFDQSxvQ0FDQSxhQUVBLHFDQUNBLG9DQUNBLGdCQUlBLG1GQUVBLGdDQUVBLHNCQUNBLE9BQ0EsMENBQ0EsOENBQ0Esa0RBQ0EsaUVBQ0EsK0VBQ0EseUNBQ0EsbUNBQ0Esc0NBRUEsbURBSUEsYUFDQSw0QkFFQSxPQUNBLGlDQUNBLHFDQUNBLHlDQUNBLG9EQUNBLDhDQUNBLHdEQUlBLGNBQ0EsT0FDQSxDQUNBLFdBQ0EseURBRUEsQ0FDQSxhQUNBLDJEQUVBLENBQ0EsV0FDQSwwREFLQSxrQkFDQSxPQUNBLENBQ0EsYUFDQSwyREFFQSxDQUNBLFdBQ0EsMERBS0EsZ0JBQ0EsK0JBRUEsZUFDQSxzQkFDQSx3QkFFQSxrQkFDQSxxQkFFQSx3QkFDQSw2QkFJQSxnQkFHQSxxQkFDQSxrQ0FDQSxZQUNBLG9CQUNBLGNBSUEsZ0JBRUEsQ0FDQSxxQkFDQSxzQkFDQSxVQUVBLFNBQ0EsK0JBQ0EsdUJBRUEsaUNBQ0EsWUFDQSxTQUNBLGNBSUEsQ0FDQSxxQkFDQSxzQkFDQSxVQUVBLFNBQ0Esc0JBQ0EsdUJBRUEsMENBQ0EsWUFDQSxTQUNBLGNBS0EsaUJBQ0Esc0JBQ0EsTUFJQSxzQ0FDQSxZQUNBLGNBS0EsbUJBQ0EsNEJBQ0EsVUFDQSxzQkFDQSxZQUNBLGNBRUEsbUJBSUEsMEJBQ0EsWUFDQSxzQkFDQSxnQkExTEEsYUFMQSxTQUNBLFlBQ0EsMkJBR0EsRyxVQy9FdWQsSSxjQ1FuZEMsR0FBWSxPQUNkLEVBQ0FqQixFQUNBZ0IsR0FDQSxFQUNBLEtBQ0EsV0FDQSxNQUlGLFFBQWVDLEVBQWlCIiwic291cmNlcyI6WyJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL21vZGVscy9Ub3BMaXN0LnRzIiwib2dhbWUtdHJhY2tlcjovLy8uL3NyYy92aWV3cy9zdGF0cy9tb2RlbHMvc2V0dGluZ3MvZ2V0TXN1T3JEc3UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvZXhwZWRpdGlvbnMvRXhwZWRpdGlvblNpemVJY29uLnZ1ZT9hYTYyIiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy9leHBlZGl0aW9ucy9FeHBlZGl0aW9uU2l6ZUljb24udnVlP2UwY2UiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvZXhwZWRpdGlvbnMvRXhwZWRpdGlvblNpemVJY29uLnZ1ZT8yNmMzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL2V4cGVkaXRpb25zL0V4cGVkaXRpb25TaXplSWNvbi52dWU/MmNmNiIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvZXhwZWRpdGlvbnMvaW5mby9MYXJnZXN0LUZpbmRzLnZ1ZT84OTAzIiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvdmlld3MvZXhwZWRpdGlvbnMvaW5mby9MYXJnZXN0LUZpbmRzLnZ1ZT9hZTRiIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy9leHBlZGl0aW9ucy9pbmZvL0xhcmdlc3QtRmluZHMudnVlP2E3M2MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL3ZpZXdzL2V4cGVkaXRpb25zL2luZm8vTGFyZ2VzdC1GaW5kcy52dWU/MmQ5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVG9wTGlzdDxUPiB7XHJcbiAgICByZWFkb25seSAjY29tcGFyYXRvcjogKGE6IFQsIGI6IFQpID0+IG51bWJlcjtcclxuICAgIHJlYWRvbmx5ICNtYXhTaXplOiBudW1iZXI7XHJcbiAgICByZWFkb25seSAjZWxlbWVudHM6IFRbXTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob3B0aW9uczoge1xyXG4gICAgICAgIGNvbXBhcmF0b3I6IChhOiBULCBiOiBUKSA9PiBudW1iZXI7XHJcbiAgICAgICAgbWF4U2l6ZTogbnVtYmVyO1xyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMuI2NvbXBhcmF0b3IgPSBvcHRpb25zLmNvbXBhcmF0b3I7XHJcbiAgICAgICAgdGhpcy4jbWF4U2l6ZSA9IG9wdGlvbnMubWF4U2l6ZTtcclxuXHJcbiAgICAgICAgdGhpcy4jZWxlbWVudHMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHZhbHVlcygpOiBUW10ge1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy4jZWxlbWVudHNdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGQoZWxlbWVudDogVCkge1xyXG4gICAgICAgIGlmICh0aGlzLiNlbGVtZW50cy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLiNlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmaXJzdCA9IHRoaXMuI2VsZW1lbnRzWzBdO1xyXG4gICAgICAgIGlmICh0aGlzLiNjb21wYXJhdG9yKGVsZW1lbnQsIGZpcnN0KSA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy4jZWxlbWVudHMudW5zaGlmdChlbGVtZW50KTtcclxuICAgICAgICAgICAgdGhpcy4jdHJpbVNpemUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLiNlbGVtZW50cy5maW5kSW5kZXgoZSA9PiB0aGlzLiNjb21wYXJhdG9yKGVsZW1lbnQsIGUpIDwgMCk7XHJcbiAgICAgICAgLy8gYGVsZW1lbnRgIGlzIHRoZSB3b3JzdFxyXG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLiNlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuI2VsZW1lbnRzLnNwbGljZShpbmRleCwgMCwgZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuI3RyaW1TaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgI3RyaW1TaXplKCkge1xyXG4gICAgICAgIHRoaXMuI2VsZW1lbnRzLnNwbGljZSh0aGlzLiNtYXhTaXplKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlc291cmNlVHlwZSwgUmVzb3VyY2VUeXBlcyB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvb2dhbWUvcmVzb3VyY2VzL1Jlc291cmNlVHlwZVwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc0RhdGFNb2R1bGUgfSBmcm9tIFwiLi4vLi4vZGF0YS9TZXR0aW5nc0RhdGFNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNc3VPckRzdShyZXNvdXJjZXM6IFBhcnRpYWw8UmVjb3JkPFJlc291cmNlVHlwZSwgbnVtYmVyPj4sIGZhY3RvcnM6IFBhcnRpYWw8UmVjb3JkPFJlc291cmNlVHlwZSwgbnVtYmVyPj4gPSB7fSk6IG51bWJlciB7XHJcbiAgICBjb25zdCBjb3N0OiBSZWNvcmQ8UmVzb3VyY2VUeXBlLCBudW1iZXI+ID0ge1xyXG4gICAgICAgIG1ldGFsOiAwLFxyXG4gICAgICAgIGNyeXN0YWw6IDAsXHJcbiAgICAgICAgZGV1dGVyaXVtOiAwLFxyXG4gICAgICAgIC4uLnJlc291cmNlcyxcclxuICAgIH07XHJcbiAgICBjb25zdCBjb3N0RmFjdG9yczogUmVjb3JkPFJlc291cmNlVHlwZSwgbnVtYmVyPiA9IHtcclxuICAgICAgICBtZXRhbDogMSxcclxuICAgICAgICBjcnlzdGFsOiAxLFxyXG4gICAgICAgIGRldXRlcml1bTogMSxcclxuICAgICAgICAuLi5mYWN0b3JzLFxyXG4gICAgfTtcclxuICAgIFJlc291cmNlVHlwZXMuZm9yRWFjaChyZXNvdXJjZSA9PiBjb3N0W3Jlc291cmNlXSAqPSBjb3N0RmFjdG9yc1tyZXNvdXJjZV0pO1xyXG5cclxuICAgIGNvbnN0IHsgbW9kZSwgbXN1LCBkc3UgfSA9IFNldHRpbmdzRGF0YU1vZHVsZS5zZXR0aW5ncy5jb252ZXJzaW9uUmF0ZXM7XHJcbiAgICBpZiAobW9kZSA9PSAnbXN1Jykge1xyXG4gICAgICAgIHJldHVybiBjb3N0Lm1ldGFsICsgY29zdC5jcnlzdGFsICogbXN1LmNyeXN0YWwgKyBjb3N0LmRldXRlcml1bSAqIG1zdS5kZXV0ZXJpdW07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvc3QuZGV1dGVyaXVtICsgY29zdC5jcnlzdGFsIC8gZHN1LmNyeXN0YWwgKyBjb3N0Lm1ldGFsIC8gZHN1Lm1ldGFsO1xyXG59IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gKF92bS5zaXplID09IF92bS5FeHBlZGl0aW9uRXZlbnRTaXplLnNtYWxsKT9fYygnc3Bhbicse3N0YXRpY0NsYXNzOlwibWRpIG1kaS1oZXhhZ29uLXNsaWNlLTFcIixzdHlsZTooeyBjb2xvcjogX3ZtLmNvbG9ycy5zbWFsbCB9KX0pOihfdm0uc2l6ZSA9PSBfdm0uRXhwZWRpdGlvbkV2ZW50U2l6ZS5tZWRpdW0pP19jKCdzcGFuJyx7c3RhdGljQ2xhc3M6XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtM1wiLHN0eWxlOih7IGNvbG9yOiBfdm0uY29sb3JzLm1lZGl1bSB9KX0pOihfdm0uc2l6ZSA9PSBfdm0uRXhwZWRpdGlvbkV2ZW50U2l6ZS5sYXJnZSk/X2MoJ3NwYW4nLHtzdGF0aWNDbGFzczpcIm1kaSBtZGktaGV4YWdvbi1zbGljZS01XCIsc3R5bGU6KHsgY29sb3I6IF92bS5jb2xvcnMubGFyZ2UgfSl9KTpfdm0uX2UoKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxyXG4gICAgPHNwYW4gdi1pZj1cInNpemUgPT0gRXhwZWRpdGlvbkV2ZW50U2l6ZS5zbWFsbFwiIGNsYXNzPVwibWRpIG1kaS1oZXhhZ29uLXNsaWNlLTFcIiA6c3R5bGU9XCJ7IGNvbG9yOiBjb2xvcnMuc21hbGwgfVwiIC8+XHJcbiAgICA8c3BhbiB2LWVsc2UtaWY9XCJzaXplID09IEV4cGVkaXRpb25FdmVudFNpemUubWVkaXVtXCIgY2xhc3M9XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtM1wiIDpzdHlsZT1cInsgY29sb3I6IGNvbG9ycy5tZWRpdW0gfVwiIC8+XHJcbiAgICA8c3BhbiB2LWVsc2UtaWY9XCJzaXplID09IEV4cGVkaXRpb25FdmVudFNpemUubGFyZ2VcIiBjbGFzcz1cIm1kaSBtZGktaGV4YWdvbi1zbGljZS01XCIgOnN0eWxlPVwieyBjb2xvcjogY29sb3JzLmxhcmdlIH1cIiAvPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICAgIGltcG9ydCB7IEV4cGVkaXRpb25FdmVudFNpemUgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvZXhwZWRpdGlvbnMvRXhwZWRpdGlvbkV2ZW50U2l6ZSc7XHJcbiAgICBpbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG4gICAgaW1wb3J0IHsgUHJvcFR5cGUgfSBmcm9tICd2dWUnO1xyXG4gICAgaW1wb3J0IHsgU2V0dGluZ3NEYXRhTW9kdWxlIH0gZnJvbSAnLi4vLi4vZGF0YS9TZXR0aW5nc0RhdGFNb2R1bGUnO1xyXG5cclxuICAgIEBDb21wb25lbnQoe30pXHJcbiAgICBleHBvcnQgZGVmYXVsdCBjbGFzcyBFeHBlZGl0aW9uU2l6ZUljb24gZXh0ZW5kcyBWdWUge1xyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHR5cGU6IFN0cmluZyBhcyBQcm9wVHlwZTxFeHBlZGl0aW9uRXZlbnRTaXplPiB9KVxyXG4gICAgICAgIHByaXZhdGUgc2l6ZSE6IEV4cGVkaXRpb25FdmVudFNpemU7XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgRXhwZWRpdGlvbkV2ZW50U2l6ZSA9IEV4cGVkaXRpb25FdmVudFNpemU7XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGNvbG9ycygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFNldHRpbmdzRGF0YU1vZHVsZS5zZXR0aW5ncy5jb2xvcnMuZXhwZWRpdGlvbnMuc2l6ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG48L3NjcmlwdD4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vRXhwZWRpdGlvblNpemVJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0V4cGVkaXRpb25TaXplSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0V4cGVkaXRpb25TaXplSWNvbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWQ2NmFmY2ImXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vRXhwZWRpdGlvblNpemVJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vRXhwZWRpdGlvblNpemVJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gKF92bS5sb2FkaW5nKT9fYygnbG9hZGluZy1zcGlubmVyJyk6X2MoJ2RpdicsW192bS5fbCgoX3ZtLmtleXMpLGZ1bmN0aW9uKGtleSl7cmV0dXJuIF9jKCdkaXYnLHtrZXk6a2V5LHN0YXRpY0NsYXNzOlwiZmluZC1jb2x1bW5cIn0sW19jKCdoMycse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKF92bS4kaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMudG9wRmluZHMudGl0bGUoX3ZtLmtleVRyYW5zbGF0aW9uc1trZXldKSl9fSksX2MoJ2dyaWQtdGFibGUnLHtzdHlsZTooKFwiLS1jb2xvcjogXCIgKyAoX3ZtLmNvbG9yc1trZXldKSkpLGF0dHJzOntcImlubGluZVwiOlwiXCIsXCJjb2x1bW5zXCI6X3ZtLmNvbHVtbnMsXCJpdGVtc1wiOl92bS5sYXJnZXN0RmluZHNba2V5XS52YWx1ZXN9LHNjb3BlZFNsb3RzOl92bS5fdShbe2tleTpcImNlbGwtc2l6ZVwiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgdmFsdWUgPSByZWYudmFsdWU7XG5yZXR1cm4gW19jKCdleHBlZGl0aW9uLXNpemUtaWNvbicse3N0YXRpY0NsYXNzOlwic2NhbGVkLWljb25cIixhdHRyczp7XCJzaXplXCI6dmFsdWV9fSldfX0se2tleTpcImNlbGwtYW1vdW50XCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnJldHVybiBbX2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJG4odmFsdWUpKX19KV19fSx7a2V5OlwiY2VsbC1kYXRlXCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnJldHVybiBbX2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJGQodmFsdWUsICdkYXRlJykpfX0pXX19XSxudWxsLHRydWUpfSldLDEpfSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiZmluZC1jb2x1bW5cIixzdHlsZTooKFwiLS1jb2xvcjogXCIgKyAoX3ZtLmNvbG9ycy5zaGlwVW5pdHNDb252ZXJ0ZWQpKSl9LFtfYygnaDMnLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnRvcEZpbmRzLnRpdGxlKF92bS4kaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMudG9wRmluZHMuc2hpcEFtb3VudCkpfX0pLF9jKCdzZWxlY3QnLHtkaXJlY3RpdmVzOlt7bmFtZTpcIm1vZGVsXCIscmF3TmFtZTpcInYtbW9kZWwubnVtYmVyXCIsdmFsdWU6KF92bS5zZWxlY3RlZFNoaXApLGV4cHJlc3Npb246XCJzZWxlY3RlZFNoaXBcIixtb2RpZmllcnM6e1wibnVtYmVyXCI6dHJ1ZX19XSxzdGF0aWNTdHlsZTp7XCJkaXNwbGF5XCI6XCJibG9ja1wiLFwibWFyZ2luLWJvdHRvbVwiOlwiNHB4XCJ9LG9uOntcImNoYW5nZVwiOmZ1bmN0aW9uKCRldmVudCl7dmFyICQkc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoJGV2ZW50LnRhcmdldC5vcHRpb25zLGZ1bmN0aW9uKG8pe3JldHVybiBvLnNlbGVjdGVkfSkubWFwKGZ1bmN0aW9uKG8pe3ZhciB2YWwgPSBcIl92YWx1ZVwiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWU7cmV0dXJuIF92bS5fbih2YWwpfSk7IF92bS5zZWxlY3RlZFNoaXA9JGV2ZW50LnRhcmdldC5tdWx0aXBsZSA/ICQkc2VsZWN0ZWRWYWwgOiAkJHNlbGVjdGVkVmFsWzBdfX19LF92bS5fbCgoX3ZtLlNoaXBUeXBlcyksZnVuY3Rpb24oc2hpcCl7cmV0dXJuIF9jKCdvcHRpb24nLHtrZXk6c2hpcCxkb21Qcm9wczp7XCJ2YWx1ZVwiOnNoaXAsXCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJHQub2dhbWUuc2hpcHNbc2hpcF0pfX0pfSksMCksX2MoJ2dyaWQtdGFibGUnLHthdHRyczp7XCJpbmxpbmVcIjpcIlwiLFwiY29sdW1uc1wiOl92bS5zaGlwQ29sdW1ucyxcIml0ZW1zXCI6X3ZtLmxhcmdlc3RGaW5kcy5zaGlwQW1vdW50c1tfdm0uc2VsZWN0ZWRTaGlwXS52YWx1ZXN9LHNjb3BlZFNsb3RzOl92bS5fdShbe2tleTpcImNlbGwtYW1vdW50XCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnJldHVybiBbX2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJG4odmFsdWUpKX19KV19fSx7a2V5OlwiY2VsbC1kYXRlXCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnJldHVybiBbX2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJGQodmFsdWUsICdkYXRlJykpfX0pXX19XSl9KV0sMSldLDIpfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XHJcbiAgICA8bG9hZGluZy1zcGlubmVyIHYtaWY9XCJsb2FkaW5nXCIgLz5cclxuICAgIDxkaXYgdi1lbHNlPlxyXG4gICAgICAgIDxkaXYgdi1mb3I9XCJrZXkgaW4ga2V5c1wiIDprZXk9XCJrZXlcIiBjbGFzcz1cImZpbmQtY29sdW1uXCI+XHJcbiAgICAgICAgICAgIDxoMyB2LXRleHQ9XCIkaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMudG9wRmluZHMudGl0bGUoa2V5VHJhbnNsYXRpb25zW2tleV0pXCIgLz5cclxuXHJcbiAgICAgICAgICAgIDxncmlkLXRhYmxlIGlubGluZSA6Y29sdW1ucz1cImNvbHVtbnNcIiA6aXRlbXM9XCJsYXJnZXN0RmluZHNba2V5XS52YWx1ZXNcIiA6c3R5bGU9XCJgLS1jb2xvcjogJHtjb2xvcnNba2V5XX1gXCI+XHJcbiAgICAgICAgICAgICAgICA8dGVtcGxhdGUgI2NlbGwtc2l6ZT1cInsgdmFsdWUgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxleHBlZGl0aW9uLXNpemUtaWNvbiA6c2l6ZT1cInZhbHVlXCIgY2xhc3M9XCJzY2FsZWQtaWNvblwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlICNjZWxsLWFtb3VudD1cInsgdmFsdWUgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtdGV4dD1cIiRpMThuLiRuKHZhbHVlKVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlICNjZWxsLWRhdGU9XCJ7IHZhbHVlIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LXRleHQ9XCIkaTE4bi4kZCh2YWx1ZSwgJ2RhdGUnKVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L2dyaWQtdGFibGU+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaW5kLWNvbHVtblwiIDpzdHlsZT1cImAtLWNvbG9yOiAke2NvbG9ycy5zaGlwVW5pdHNDb252ZXJ0ZWR9YFwiPlxyXG4gICAgICAgICAgICA8aDMgdi10ZXh0PVwiJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnRvcEZpbmRzLnRpdGxlKCRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy50b3BGaW5kcy5zaGlwQW1vdW50KVwiIC8+XHJcbiAgICAgICAgICAgIDxzZWxlY3Qgdi1tb2RlbC5udW1iZXI9XCJzZWxlY3RlZFNoaXBcIiBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tYm90dG9tOiA0cHhcIj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdi1mb3I9XCJzaGlwIGluIFNoaXBUeXBlc1wiIDprZXk9XCJzaGlwXCIgOnZhbHVlPVwic2hpcFwiIHYtdGV4dD1cIiRpMThuLiR0Lm9nYW1lLnNoaXBzW3NoaXBdXCIgLz5cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcblxyXG4gICAgICAgICAgICA8Z3JpZC10YWJsZSBpbmxpbmUgOmNvbHVtbnM9XCJzaGlwQ29sdW1uc1wiIDppdGVtcz1cImxhcmdlc3RGaW5kcy5zaGlwQW1vdW50c1tzZWxlY3RlZFNoaXBdLnZhbHVlc1wiPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlICNjZWxsLWFtb3VudD1cInsgdmFsdWUgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtdGV4dD1cIiRpMThuLiRuKHZhbHVlKVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlICNjZWxsLWRhdGU9XCJ7IHZhbHVlIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LXRleHQ9XCIkaTE4bi4kZCh2YWx1ZSwgJ2RhdGUnKVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L2dyaWQtdGFibGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgeyBFeHBlZGl0aW9uRXZlbnRTaXplIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL2V4cGVkaXRpb25zL0V4cGVkaXRpb25FdmVudFNpemUnO1xyXG4gICAgaW1wb3J0IHsgRXhwZWRpdGlvbkV2ZW50VHlwZSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9leHBlZGl0aW9ucy9FeHBlZGl0aW9uRXZlbnRUeXBlJztcclxuICAgIGltcG9ydCB7IFJlc291cmNlVHlwZSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9yZXNvdXJjZXMvUmVzb3VyY2VUeXBlJztcclxuICAgIGltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7XHJcbiAgICBpbXBvcnQgeyBFeHBlZGl0aW9uRGF0YU1vZHVsZSB9IGZyb20gJy4uLy4uLy4uL2RhdGEvRXhwZWRpdGlvbkRhdGFNb2R1bGUnO1xyXG4gICAgaW1wb3J0IEV4cGVkaXRpb25TaXplSWNvbiBmcm9tICdAL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvZXhwZWRpdGlvbnMvRXhwZWRpdGlvblNpemVJY29uLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBFeHBlZGl0aW9uRXZlbnREYXJrTWF0dGVyLCBFeHBlZGl0aW9uRXZlbnRGbGVldCwgRXhwZWRpdGlvbkV2ZW50UmVzb3VyY2VzLCBFeHBlZGl0aW9uRmluZGFibGVTaGlwVHlwZXMsIEV4cGVkaXRpb25GaW5kYWJsZVNoaXBUeXBlIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL2V4cGVkaXRpb25zL0V4cGVkaXRpb25FdmVudHMnO1xyXG4gICAgaW1wb3J0IHsgR3JpZFRhYmxlQ29sdW1uIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jb21tb24vR3JpZFRhYmxlLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBTZXR0aW5nc0RhdGFNb2R1bGUgfSBmcm9tICcuLi8uLi8uLi9kYXRhL1NldHRpbmdzRGF0YU1vZHVsZSc7XHJcbiAgICBpbXBvcnQgeyBnZXRSR0JTdHJpbmcgfSBmcm9tICcuLi8uLi8uLi91dGlscy9nZXRSR0JTdHJpbmcnO1xyXG4gICAgaW1wb3J0IHsgU2hpcEJ5VHlwZXMgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvc2hpcHMvU2hpcFR5cGVzJztcclxuICAgIGltcG9ydCB7IFNoaXBUeXBlIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL3NoaXBzL1NoaXBUeXBlJztcclxuICAgIGltcG9ydCB7IFRvcExpc3QgfSBmcm9tICdAL3ZpZXdzL3N0YXRzL21vZGVscy9Ub3BMaXN0JztcclxuICAgIGltcG9ydCB7IGdldE1zdU9yRHN1IH0gZnJvbSAnQC92aWV3cy9zdGF0cy9tb2RlbHMvc2V0dGluZ3MvZ2V0TXN1T3JEc3UnO1xyXG4gICAgaW1wb3J0IHsgY3JlYXRlUmVjb3JkIH0gZnJvbSBcIkAvc2hhcmVkL3V0aWxzL2NyZWF0ZVJlY29yZFwiO1xyXG5cclxuICAgIHR5cGUgRmluZCA9IHtcclxuICAgICAgICBzaXplOiBFeHBlZGl0aW9uRXZlbnRTaXplO1xyXG4gICAgICAgIGFtb3VudDogbnVtYmVyO1xyXG4gICAgICAgIGRhdGU6IG51bWJlcjtcclxuICAgIH1cclxuICAgIHR5cGUgU2hpcEFtb3VudEZpbmQgPSB7XHJcbiAgICAgICAgYW1vdW50OiBudW1iZXI7XHJcbiAgICAgICAgZGF0ZTogbnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHR5cGUgRmluZHMgPSB7XHJcbiAgICAgICAgbWV0YWw6IFRvcExpc3Q8RmluZD47XHJcbiAgICAgICAgY3J5c3RhbDogVG9wTGlzdDxGaW5kPjtcclxuICAgICAgICBkZXV0ZXJpdW06IFRvcExpc3Q8RmluZD47XHJcbiAgICAgICAgc2hpcFVuaXRzOiBUb3BMaXN0PEZpbmQ+O1xyXG4gICAgICAgIHNoaXBVbml0c0NvbnZlcnRlZDogVG9wTGlzdDxGaW5kPjtcclxuICAgICAgICBkYXJrTWF0dGVyOiBUb3BMaXN0PEZpbmQ+O1xyXG4gICAgICAgIHNoaXBBbW91bnRzOiBSZWNvcmQ8RXhwZWRpdGlvbkZpbmRhYmxlU2hpcFR5cGUsIFRvcExpc3Q8U2hpcEFtb3VudEZpbmQ+PjtcclxuICAgIH1cclxuXHJcbiAgICBAQ29tcG9uZW50KHtcclxuICAgICAgICBjb21wb25lbnRzOiB7XHJcbiAgICAgICAgICAgIEV4cGVkaXRpb25TaXplSWNvbixcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFyZ2VzdEZpbmRzIGV4dGVuZHMgVnVlIHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IFNoaXBUeXBlcyA9IEV4cGVkaXRpb25GaW5kYWJsZVNoaXBUeXBlcztcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBsYXJnZXN0RmluZHM6IEZpbmRzID0ge1xyXG4gICAgICAgICAgICBtZXRhbDogbmV3IFRvcExpc3Q8RmluZD4oe1xyXG4gICAgICAgICAgICAgICAgY29tcGFyYXRvcjogKGEsIGIpID0+IGIuYW1vdW50IC0gYS5hbW91bnQsXHJcbiAgICAgICAgICAgICAgICBtYXhTaXplOiAyNSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIGNyeXN0YWw6IG5ldyBUb3BMaXN0PEZpbmQ+KHtcclxuICAgICAgICAgICAgICAgIGNvbXBhcmF0b3I6IChhLCBiKSA9PiBiLmFtb3VudCAtIGEuYW1vdW50LFxyXG4gICAgICAgICAgICAgICAgbWF4U2l6ZTogMjUsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBkZXV0ZXJpdW06IG5ldyBUb3BMaXN0PEZpbmQ+KHtcclxuICAgICAgICAgICAgICAgIGNvbXBhcmF0b3I6IChhLCBiKSA9PiBiLmFtb3VudCAtIGEuYW1vdW50LFxyXG4gICAgICAgICAgICAgICAgbWF4U2l6ZTogMjUsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBzaGlwVW5pdHM6IG5ldyBUb3BMaXN0PEZpbmQ+KHtcclxuICAgICAgICAgICAgICAgIGNvbXBhcmF0b3I6IChhLCBiKSA9PiBiLmFtb3VudCAtIGEuYW1vdW50LFxyXG4gICAgICAgICAgICAgICAgbWF4U2l6ZTogMjUsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBzaGlwVW5pdHNDb252ZXJ0ZWQ6IG5ldyBUb3BMaXN0PEZpbmQ+KHtcclxuICAgICAgICAgICAgICAgIGNvbXBhcmF0b3I6IChhLCBiKSA9PiBiLmFtb3VudCAtIGEuYW1vdW50LFxyXG4gICAgICAgICAgICAgICAgbWF4U2l6ZTogMjUsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBkYXJrTWF0dGVyOiBuZXcgVG9wTGlzdDxGaW5kPih7XHJcbiAgICAgICAgICAgICAgICBjb21wYXJhdG9yOiAoYSwgYikgPT4gYi5hbW91bnQgLSBhLmFtb3VudCxcclxuICAgICAgICAgICAgICAgIG1heFNpemU6IDI1LFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgc2hpcEFtb3VudHM6IGNyZWF0ZVJlY29yZChFeHBlZGl0aW9uRmluZGFibGVTaGlwVHlwZXMsIHNoaXAgPT4gbmV3IFRvcExpc3Q8U2hpcEFtb3VudEZpbmQ+KHtcclxuICAgICAgICAgICAgICAgIGNvbXBhcmF0b3I6IChhLCBiKSA9PiBiLmFtb3VudCAtIGEuYW1vdW50LFxyXG4gICAgICAgICAgICAgICAgbWF4U2l6ZTogMjUsXHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGtleXM6IChrZXlvZiBGaW5kcylbXSA9IFsnbWV0YWwnLCAnY3J5c3RhbCcsICdkZXV0ZXJpdW0nLCAnc2hpcFVuaXRzJywgJ3NoaXBVbml0c0NvbnZlcnRlZCcsICdkYXJrTWF0dGVyJ107XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2VsZWN0ZWRTaGlwOiBFeHBlZGl0aW9uRmluZGFibGVTaGlwVHlwZSA9IFNoaXBUeXBlLmVzcGlvbmFnZVByb2JlO1xyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBrZXlUcmFuc2xhdGlvbnMoKTogUmVjb3JkPGtleW9mIEZpbmRzLCBzdHJpbmc+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG1ldGFsOiB0aGlzLiRpMThuLiR0Lm9nYW1lLnJlc291cmNlcy5tZXRhbCxcclxuICAgICAgICAgICAgICAgIGNyeXN0YWw6IHRoaXMuJGkxOG4uJHQub2dhbWUucmVzb3VyY2VzLmNyeXN0YWwsXHJcbiAgICAgICAgICAgICAgICBkZXV0ZXJpdW06IHRoaXMuJGkxOG4uJHQub2dhbWUucmVzb3VyY2VzLmRldXRlcml1bSxcclxuICAgICAgICAgICAgICAgIHNoaXBVbml0czogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMudG9wRmluZHMuc2hpcFVuaXRzLFxyXG4gICAgICAgICAgICAgICAgc2hpcFVuaXRzQ29udmVydGVkOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy50b3BGaW5kcy5zaGlwVW5pdHMgKyBgICgke1xyXG4gICAgICAgICAgICAgICAgICAgIFNldHRpbmdzRGF0YU1vZHVsZS5zZXR0aW5ncy5jb252ZXJzaW9uUmF0ZXMubW9kZSA9PSAnbXN1J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmNvbW1vbi5tc3VcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5jb21tb24uZHN1XHJcbiAgICAgICAgICAgICAgICB9KWAsXHJcbiAgICAgICAgICAgICAgICBkYXJrTWF0dGVyOiB0aGlzLiRpMThuLiR0Lm9nYW1lLnByZW1pdW0uZGFya01hdHRlcixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGNvbG9ycygpOiBSZWNvcmQ8a2V5b2YgRmluZHMsIHN0cmluZz4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb2xvcnMgPSBTZXR0aW5nc0RhdGFNb2R1bGUuc2V0dGluZ3MuY29sb3JzO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG1ldGFsOiBnZXRSR0JTdHJpbmcoY29sb3JzLnJlc291cmNlcy5tZXRhbCkhLFxyXG4gICAgICAgICAgICAgICAgY3J5c3RhbDogZ2V0UkdCU3RyaW5nKGNvbG9ycy5yZXNvdXJjZXMuY3J5c3RhbCkhLFxyXG4gICAgICAgICAgICAgICAgZGV1dGVyaXVtOiBnZXRSR0JTdHJpbmcoY29sb3JzLnJlc291cmNlcy5kZXV0ZXJpdW0pISxcclxuICAgICAgICAgICAgICAgIGRhcmtNYXR0ZXI6IGdldFJHQlN0cmluZyhjb2xvcnMuZXhwZWRpdGlvbnMuZXZlbnRzLmRhcmtNYXR0ZXIpISxcclxuICAgICAgICAgICAgICAgIHNoaXBVbml0czogZ2V0UkdCU3RyaW5nKGNvbG9ycy5leHBlZGl0aW9ucy5ldmVudHMuZmxlZXQpISxcclxuICAgICAgICAgICAgICAgIHNoaXBVbml0c0NvbnZlcnRlZDogZ2V0UkdCU3RyaW5nKGNvbG9ycy5leHBlZGl0aW9ucy5ldmVudHMuZmxlZXQpISxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGNvbHVtbnMoKTogR3JpZFRhYmxlQ29sdW1uPGtleW9mIEZpbmQ+W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3NpemUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy50b3BGaW5kcy5zaXplLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdhbW91bnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy50b3BGaW5kcy5hbW91bnQsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2RhdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy50b3BGaW5kcy5kYXRlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IHNoaXBDb2x1bW5zKCk6IEdyaWRUYWJsZUNvbHVtbjxrZXlvZiBTaGlwQW1vdW50RmluZD5bXSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnYW1vdW50JyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMudG9wRmluZHMuYW1vdW50LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdkYXRlJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMudG9wRmluZHMuZGF0ZSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhc3luYyBtb3VudGVkKCkge1xyXG4gICAgICAgICAgICBjb25zdCBleHBlZGl0aW9ucyA9IGF3YWl0IEV4cGVkaXRpb25EYXRhTW9kdWxlLmdldFJhd0RhdGEoKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVkaXRpb25zLmZvckVhY2goZXhwbyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhwby50eXBlID09IEV4cGVkaXRpb25FdmVudFR5cGUucmVzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUV4cG8oZXhwbyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChleHBvLnR5cGUgPT0gRXhwZWRpdGlvbkV2ZW50VHlwZS5mbGVldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmxlZXRFeHBvKGV4cG8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXhwby50eXBlID09IEV4cGVkaXRpb25FdmVudFR5cGUuZGFya01hdHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRGFya01hdHRlckV4cG8oZXhwbyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGFkZERhcmtNYXR0ZXJFeHBvKGV4cG86IEV4cGVkaXRpb25FdmVudERhcmtNYXR0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXJnZXN0RmluZHMuZGFya01hdHRlci5hZGQoe1xyXG4gICAgICAgICAgICAgICAgc2l6ZTogZXhwby5zaXplLFxyXG4gICAgICAgICAgICAgICAgYW1vdW50OiBleHBvLmRhcmtNYXR0ZXIsXHJcbiAgICAgICAgICAgICAgICBkYXRlOiBleHBvLmRhdGUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhZGRGbGVldEV4cG8oZXhwbzogRXhwZWRpdGlvbkV2ZW50RmxlZXQpIHtcclxuICAgICAgICAgICAgLy8gc2hpcCB1bml0cyAobWV0YWwgKyBjcnlzdGFsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1bml0cyA9IEV4cGVkaXRpb25GaW5kYWJsZVNoaXBUeXBlcy5tYXAoc2hpcFR5cGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gZXhwby5mbGVldFtzaGlwVHlwZV0gPz8gMDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGlwID0gU2hpcEJ5VHlwZXNbc2hpcFR5cGVdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3N0ID0gc2hpcC5jb3N0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoY29zdC5tZXRhbCArIGNvc3QuY3J5c3RhbCkgKiBjb3VudDtcclxuICAgICAgICAgICAgICAgIH0pLnJlZHVjZSgodG90YWwsIGN1cikgPT4gdG90YWwgKyBjdXIsIDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubGFyZ2VzdEZpbmRzLnNoaXBVbml0cy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IGV4cG8uc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IHVuaXRzLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IGV4cG8uZGF0ZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHNoaXAgdW5pdHMgKE1TVSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdW5pdHNNc3UgPSBFeHBlZGl0aW9uRmluZGFibGVTaGlwVHlwZXMubWFwKHNoaXBUeXBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IGV4cG8uZmxlZXRbc2hpcFR5cGVdID8/IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hpcCA9IFNoaXBCeVR5cGVzW3NoaXBUeXBlXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29zdCA9IHNoaXAuY29zdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TXN1T3JEc3UoY29zdCkgKiBjb3VudDtcclxuICAgICAgICAgICAgICAgIH0pLnJlZHVjZSgodG90YWwsIGN1cikgPT4gdG90YWwgKyBjdXIsIDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubGFyZ2VzdEZpbmRzLnNoaXBVbml0c0NvbnZlcnRlZC5hZGQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IGV4cG8uc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IHVuaXRzTXN1LFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IGV4cG8uZGF0ZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBwZXIgc2hpcCB0eXBlXHJcbiAgICAgICAgICAgIEV4cGVkaXRpb25GaW5kYWJsZVNoaXBUeXBlcy5mb3JFYWNoKHNoaXAgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gZXhwby5mbGVldFtzaGlwXSA/PyAwO1xyXG4gICAgICAgICAgICAgICAgaWYoYW1vdW50ID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXJnZXN0RmluZHMuc2hpcEFtb3VudHNbc2hpcF0uYWRkKHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlOiBleHBvLmRhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhZGRSZXNvdXJjZUV4cG8oZXhwbzogRXhwZWRpdGlvbkV2ZW50UmVzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlID0gZXhwby5yZXNvdXJjZXMubWV0YWwgPiAwXHJcbiAgICAgICAgICAgICAgICA/IFJlc291cmNlVHlwZS5tZXRhbFxyXG4gICAgICAgICAgICAgICAgOiBleHBvLnJlc291cmNlcy5jcnlzdGFsID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gUmVzb3VyY2VUeXBlLmNyeXN0YWxcclxuICAgICAgICAgICAgICAgICAgICA6IFJlc291cmNlVHlwZS5kZXV0ZXJpdW07XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKGV4cG8ucmVzb3VyY2VzW3Jlc291cmNlXSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMubGFyZ2VzdEZpbmRzW3Jlc291cmNlXS5hZGQoe1xyXG4gICAgICAgICAgICAgICAgc2l6ZTogZXhwby5zaXplLFxyXG4gICAgICAgICAgICAgICAgYW1vdW50OiBleHBvLnJlc291cmNlc1tyZXNvdXJjZV0sXHJcbiAgICAgICAgICAgICAgICBkYXRlOiBleHBvLmRhdGUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuPC9zY3JpcHQ+XHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cclxuICAgIC5zY2FsZWQtaWNvbiB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjYpO1xyXG4gICAgfVxyXG5cclxuICAgIC5maW5kLWNvbHVtbiB7XHJcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XHJcbiAgICB9XHJcbjwvc3R5bGU+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0xhcmdlc3QtRmluZHMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vTGFyZ2VzdC1GaW5kcy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0xhcmdlc3QtRmluZHMudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTQ3YzRhZmY0JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL0xhcmdlc3QtRmluZHMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9MYXJnZXN0LUZpbmRzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9MYXJnZXN0LUZpbmRzLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTQ3YzRhZmY0Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiNDdjNGFmZjRcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwibmFtZXMiOlsiVG9wTGlzdCIsIm9wdGlvbnMiLCJ0aGlzIiwiY29tcGFyYXRvciIsIm1heFNpemUiLCJ2YWx1ZXMiLCJhZGQiLCJlbGVtZW50IiwibGVuZ3RoIiwicHVzaCIsImZpcnN0IiwidW5zaGlmdCIsImluZGV4IiwiZmluZEluZGV4IiwiZSIsInNwbGljZSIsImdldE1zdU9yRHN1IiwicmVzb3VyY2VzIiwiZmFjdG9ycyIsImNvc3QiLCJtZXRhbCIsImNyeXN0YWwiLCJkZXV0ZXJpdW0iLCJjb3N0RmFjdG9ycyIsInJlc291cmNlIiwibW9kZSIsIm1zdSIsImRzdSIsInJlbmRlciIsIl92bSIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwic2l6ZSIsIkV4cGVkaXRpb25FdmVudFNpemUiLCJzbWFsbCIsInN0YXRpY0NsYXNzIiwic3R5bGUiLCJjb2xvciIsImNvbG9ycyIsIm1lZGl1bSIsImxhcmdlIiwiX2UiLCJzdGF0aWNSZW5kZXJGbnMiLCJjb21wb25lbnQiLCJfbCIsImtleSIsImRvbVByb3BzIiwiX3MiLCIkaTE4biIsIiR0IiwiZXh0ZW5zaW9uIiwiZXhwZWRpdGlvbnMiLCJ0b3BGaW5kcyIsInRpdGxlIiwia2V5VHJhbnNsYXRpb25zIiwiYXR0cnMiLCJjb2x1bW5zIiwibGFyZ2VzdEZpbmRzIiwic2NvcGVkU2xvdHMiLCJfdSIsImZuIiwicmVmIiwidmFsdWUiLCIkbiIsIiRkIiwic2hpcEFtb3VudCIsImRpcmVjdGl2ZXMiLCJuYW1lIiwicmF3TmFtZSIsImV4cHJlc3Npb24iLCJtb2RpZmllcnMiLCJzdGF0aWNTdHlsZSIsIm9uIiwiJGV2ZW50IiwiJCRzZWxlY3RlZFZhbCIsIkFycmF5IiwicHJvdG90eXBlIiwiZmlsdGVyIiwiY2FsbCIsInRhcmdldCIsIm8iLCJzZWxlY3RlZCIsIm1hcCIsInZhbCIsIl92YWx1ZSIsIl9uIiwic2VsZWN0ZWRTaGlwIiwibXVsdGlwbGUiLCJzaGlwIiwib2dhbWUiLCJzaGlwcyIsInNoaXBDb2x1bW5zIiwic2hpcEFtb3VudHMiXSwic291cmNlUm9vdCI6IiJ9