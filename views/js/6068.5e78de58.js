"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[6068],{3445:(e,t,n)=>{function a(e,t){const n=["galaxy","system","position","type"];for(const a of n){const n=e[a]-t[a];if(0!=n)return n}return 0}function s(e,t){return 0==a(e,t)}n.d(t,{e:()=>a,a:()=>s})},8878:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.historyTrackingEnabled?n("div",{staticClass:"history"},[e.dataModuleLoading?n("loading-spinner"):[n("grid-table",{staticClass:"player-selection-table",attrs:{columns:e.tableColumns,items:e.tableItems},scopedSlots:e._u([{key:"cell-player",fn:function(t){var a=t.value;return[null==a?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPlayerName,expression:"selectedPlayerName"}],staticStyle:{width:"100%"},attrs:{type:"text",placeholder:e.$i18n.$t.extension.universeHistory.playerSelection.search,list:"player-list"},domProps:{value:e.selectedPlayerName},on:{change:function(t){return e.onPlayerSelected(t.target.value)},input:function(t){t.target.composing||(e.selectedPlayerName=t.target.value)}}}),n("datalist",{attrs:{id:"player-list"}},e._l(e.playerNames,(function(t,a){return n("option",{key:a},[e._v(" "+e._s(t)+" ")])})),0)]:n("div",{staticClass:"list-item"},[n("span",{domProps:{textContent:e._s(a.name)}})])]}}],null,!1,3254085903)}),n("tabs",{attrs:{tabs:e.tabs},scopedSlots:e._u([{key:"tab-content-status",fn:function(){return[null!=e.playerId?n("status-history-chart",{attrs:{playerId:e.playerId}}):e._e()]},proxy:!0},{key:"tab-content-nickname",fn:function(){return[null!=e.playerId?n("player-name-history-table",{attrs:{playerId:e.playerId}}):e._e()]},proxy:!0},{key:"tab-content-alliance",fn:function(){return[null!=e.playerId?n("player-alliance-history-table",{attrs:{playerId:e.playerId}}):e._e()]},proxy:!0},{key:"tab-content-planet-moons",fn:function(){return[null!=e.playerId?n("player-planets-and-moons-history",{attrs:{playerId:e.playerId}}):e._e()]},proxy:!0}],null,!1,3284828876)})]],2):n("universe-history-tracking-settings")},s=[],i=n(655),o=n(7545),r=n(8717),l=n(917),d=n(5038),c=n(4028),u=n(8364),y=n(5606),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("loading-spinner"):n("grid-table",{attrs:{columns:e.nameHistoryColumns,items:e.nameHistoryItems,inline:""},scopedSlots:e._u([{key:"cell-start",fn:function(t){var a=t.value;return[n("span",null!=a?{domProps:{textContent:e._s(e.$i18n.$d(a,"date"))}}:{domProps:{textContent:e._s("?")}})]}},{key:"cell--",fn:function(){return[e._v("-")]},proxy:!0},{key:"cell-end",fn:function(t){var a=t.value;return[n("span",null!=a?{domProps:{textContent:e._s(e.$i18n.$d(a,"date"))}}:{domProps:{textContent:e._s(e.$i18n.$t.extension.universeHistory.today)}})]}}])})},m=[];let p=class extends c.w3{playerId;history=[];loading=!0;async onPlayerIdChanged(){this.history=await d.z.getPlayerNameHistory(this.playerId),this.loading=!1}get nameHistoryColumns(){return[{key:"name",label:this.$i18n.$t.extension.universeHistory.name},{key:"start",label:this.$i18n.$t.extension.universeHistory.from},{key:"-"},{key:"end",label:this.$i18n.$t.extension.universeHistory.until}]}get nameHistoryItems(){return this.history.map(((e,t,n)=>{const a=0==t?null:e.date,s=n[t+1]?.date??null;return{name:e.name,start:a,end:s}})).reverse()}};(0,i.gn)([(0,c.fI)({required:!0,type:Number})],p.prototype,"playerId",void 0),(0,i.gn)([(0,c.RL)("playerId",{immediate:!0})],p.prototype,"onPlayerIdChanged",null),p=(0,i.gn)([(0,c.wA)({})],p);const g=p,v=g;var f=n(1001),C=(0,f.Z)(v,h,m,!1,null,null,null);const b=C.exports;var x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("loading-spinner"):n("grid-table",{attrs:{columns:e.allianceHistoryColumns,items:e.allianceHistoryItems,inline:""},scopedSlots:e._u([{key:"cell-alliance",fn:function(t){var a=t.value;return[null!=a?n("span",{domProps:{textContent:e._s("["+a.tag+"] "+a.name)}}):n("i",{domProps:{textContent:e._s(e.$i18n.$t.extension.universeHistory.noAlliance)}})]}},{key:"cell-start",fn:function(t){var a=t.value;return[n("span",null!=a?{domProps:{textContent:e._s(e.$i18n.$d(a,"date"))}}:{domProps:{textContent:e._s("?")}})]}},{key:"cell--",fn:function(){return[e._v("-")]},proxy:!0},{key:"cell-end",fn:function(t){var a=t.value;return[n("span",null!=a?{domProps:{textContent:e._s(e.$i18n.$d(a,"date"))}}:{domProps:{textContent:e._s(e.$i18n.$t.extension.universeHistory.today)}})]}}])})},$=[];let k=class extends c.w3{playerId;history=[];loading=!0;async onPlayerIdChanged(){this.history=await d.z.getPlayerAllianceHistory(this.playerId),this.loading=!1}get allianceHistoryColumns(){return[{key:"alliance",label:this.$i18n.$t.extension.universeHistory.alliance},{key:"start",label:this.$i18n.$t.extension.universeHistory.from},{key:"-"},{key:"end",label:this.$i18n.$t.extension.universeHistory.until}]}get allianceHistoryItems(){return this.history.map(((e,t,n)=>{const a=0==t?null:e.date,s=n[t+1]?.date??null;return{alliance:d.z.alliances.find((t=>t.id==e.allianceId))??null,start:a,end:s}})).reverse()}};(0,i.gn)([(0,c.fI)({required:!0,type:Number})],k.prototype,"playerId",void 0),(0,i.gn)([(0,c.RL)("playerId",{immediate:!0})],k.prototype,"onPlayerIdChanged",null),k=(0,i.gn)([(0,c.wA)({})],k);const I=k,H=I;var P=(0,f.Z)(H,x,$,!1,null,null,null);const _=P.exports;var w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("loading-spinner"):n("div",{style:"--planets: "+e.history.length+"; --offset: "+e.clientHeight},[n("div",{ref:"container",staticClass:"planets-moons-history"},e._l(e.items,(function(t){return n("div",{key:t.date,staticClass:"row"},[n("div",{staticClass:"date-column",domProps:{textContent:e._s(e.$i18n.$d(t.date,"date"))}}),e._l(t.items,(function(t){return n("div",{key:"planet-"+t.id,staticClass:"planet",class:{new:t.state.hasChange&&"new"==t.state.value}},[n("span",{staticClass:"ogti ogti-planet"}),n("div",{class:{change:t.name.hasChange},domProps:{textContent:e._s(t.name.value)}}),n("div",{class:{change:t.coordinates.hasChange},domProps:{textContent:e._s(e.formatCoords(t.coordinates.value))}}),null!=t.moon?n("div",{staticClass:"moon",class:{new:t.moon.hasChange&&"new"==t.moon.value}},[n("span",{staticClass:"ogti ogti-moon"}),n("div",{class:{change:t.moon.name.hasChange},domProps:{textContent:e._s(t.moon.name.value)}}),n("div",{domProps:{textContent:e._s(e.$i18n.$n(t.moon.size)+" km")}})]):e._e()])})),n("div",{staticClass:"planet--empty",style:"--start: "+(t.items.length+2)+";"})],2)})),0),n("div",{staticClass:"scroller"})])},z=[],S=n(3445);let E=class extends c.w3{playerId;container;get parentContainer(){return this.container.closest("main")}history=[];moonSizes={};loading=!0;clientHeight=0;observer=new ResizeObserver((e=>this.updateClientHeight()));updateClientHeight(){if(0==this.items.length)return void(this.clientHeight=0);const e=this.container.clientHeight,t=this.parentContainer.clientHeight,n=this.container.querySelector(`.row:nth-of-type(${this.items.length}) > .date-column`).clientHeight,a=Math.max(t,e)-n-24;this.clientHeight=a}items=[];async onPlayerIdChanged(){this.history=await d.z.getPlayerPlanetsAndMoonsHistory(this.playerId),this.history.sort(((e,t)=>e.id-t.id)),this.getKnownMoons(this.history).forEach((e=>this.moonSizes[e.id]=e.size)),this.prepareData(),this.loading=!1,this.observer.disconnect(),await this.$nextTick(),this.observer.observe(this.container),this.observer.observe(this.parentContainer),await this.$nextTick(),this.parentContainer.scrollTop=this.parentContainer.scrollHeight}style=null;mounted(){const e=document.createElement("style");e.textContent="\n                .tabs > main {\n                    background: black linear-gradient(0deg, rgba(var(--color), 0.1), rgba(var(--color), 0.1)) !important;\n                }\n            ",document.head.append(e),this.style=e}destroyed(){this.observer.disconnect(),this.style?.remove()}getKnownMoons(e){const t=e.flatMap((e=>e.moons)).map((e=>({id:e.id,size:e.size})));return t.filter(((e,n)=>t.findIndex((t=>t.id==e.id))==n))}prepareData(){const e=this.getChangesByDate(),t=Object.keys(e).map((e=>(0,o.Y)(e,10))).sort(((e,t)=>e-t));this.items=this.getItems(e,t)}getItems(e,t){const n={},a=(e,t)=>void 0===e?"new":null,s=(e,t)=>{const n=t.find((e=>"deleted"!=e.state));return null!=n?{id:n.id,size:this.moonSizes[n.id],name:e?.name??n?.name??null,state:a(e?.state,n?.state)}:t.length>0||null==e?null:{...e,state:null}},i=(e,t,n)=>({id:e,name:n.name??t?.name??null,state:a(t?.state,n.state),coordinates:n.coordinates??t?.coordinates??null,moon:s(t?.moon,Object.values(n.moons))}),r=[];return t.forEach((t=>{const a={date:t,items:[]},s=e[t],l=Object.keys(s).map((e=>(0,o.Y)(e,10)));l.forEach((e=>{const t=n[e],o=s[e];if("deleted"==o.state)return void delete n[e];const r=i(e,t,o),l={id:e,name:{value:r.name,hasChange:void 0!==o.name},state:{value:r.state,hasChange:void 0!==o.state},coordinates:{value:r.coordinates,hasChange:void 0!==o.coordinates},moon:null==r.moon?null:{id:r.moon.id,size:r.moon.size,name:{value:r.moon.name,hasChange:Object.values(o.moons).some((e=>void 0!==e.name))},state:{value:r.state,hasChange:Object.values(o.moons).some((e=>void 0!==e.state))}}};a.items.push(l),n[e]=r}));const d=e=>null==e?null:{id:e.id,size:e.size,name:{value:e.name,hasChange:!1},state:{value:e.state,hasChange:!1}};Object.keys(n).map((e=>(0,o.Y)(e,10))).filter((e=>!l.includes(e))).forEach((e=>{const t=n[e],s={id:e,name:{value:t.name,hasChange:!1},state:{value:t.state,hasChange:!1},coordinates:{value:t.coordinates,hasChange:!1},moon:d(t.moon)};a.items.push(s)})),a.items.sort(((e,t)=>null==e.coordinates.value?null==t.coordinates.value?-1:1:null==t.coordinates.value?-1:(0,S.e)(e.coordinates.value,t.coordinates.value))),r.push(a)})),r}getChangesByDate(){const e={},t=(t,n)=>(e[t]??={},e[t][n]??={id:n,moons:[]}),n=(e,n,a)=>t(e,n).moons[a]??={id:a};return this.history.forEach((e=>{e.names.forEach((n=>t(n.date,e.id).name=n.name)),e.states.forEach((n=>t(n.date,e.id).state=n.state)),e.coordinates.forEach((n=>t(n.date,e.id).coordinates=n.coordinates)),e.moons.forEach((t=>{t.names.forEach((a=>n(a.date,e.id,t.id).name=a.name)),t.states.forEach((a=>n(a.date,e.id,t.id).state=a.state))}))})),e}formatCoords(e){return null==e?"":`[${e.galaxy}:${e.system}:${e.position}]`}};(0,i.gn)([(0,c.fI)({required:!0,type:Number})],E.prototype,"playerId",void 0),(0,i.gn)([(0,c.Rl)()],E.prototype,"container",void 0),(0,i.gn)([(0,c.RL)("playerId",{immediate:!0})],E.prototype,"onPlayerIdChanged",null),E=(0,i.gn)([(0,c.wA)({})],E);const T=E,N=T;var D=(0,f.Z)(N,w,z,!1,null,"ae0d7952",null);const M=D.exports;var A=n(5593);let L=class extends c.w3{get historyTrackingEnabled(){return l.V.settings.universeHistory.trackHistory}get tableColumns(){return[{key:"player",label:this.$i18n.$t.extension.universeHistory.playerSelection.header,headerClass:"player-selection-table-cell",class:"player-selection-table-cell"}]}get tableItems(){return[{player:null},{player:this.selectedPlayer}].filter(((e,t,n)=>n.findIndex((t=>t.player==e.player))==t))}get tabs(){return[{key:"status",label:this.$i18n.$t.extension.universeHistory.historyTabs.status},{key:"nickname",label:this.$i18n.$t.extension.universeHistory.historyTabs.nicknames},{key:"alliance",label:this.$i18n.$t.extension.universeHistory.historyTabs.alliances},{key:"planet-moons",label:this.$i18n.$t.extension.universeHistory.historyTabs.planetAndMoons}]}get selectedPlayer(){return d.z.players.find((e=>e.id==this.playerId))??null}get playerId(){try{const e=(0,o.Y)(this.$route.query.player??"",10);return e}catch{return null}}dataModuleLoading=!0;selectedPlayerName="";async mounted(){await A.D.ready,await this.redirectToDefault(),this.dataModuleLoading=!0,await d.z.ready,this.dataModuleLoading=!1}async redirectToDefault(){if(null!=this.playerId)return;const e=A.D.settings.universeHistory.players.history??r.l.playerId;await this.updatePlayerIdRoute(e)}updateSettings(e){const t=A.D.settings;A.D.updateSettings({...t,universeHistory:{...t.universeHistory,players:{...t.universeHistory.players,history:e}}})}async updatePlayerIdRoute(e){this.updateSettings(e),await this.$router.replace({query:{player:e.toString()}}),await this.redirectToDefault()}get playerNames(){return d.z.players.map((e=>e.name)).sort()}async onPlayerSelected(e){const t=d.z.players.find((t=>t.name.toLowerCase()==e.toLowerCase()));null!=t&&(await this.$nextTick(),this.selectedPlayerName="",await this.updatePlayerIdRoute(t.id))}};L=(0,i.gn)([(0,c.wA)({components:{UniverseHistoryTrackingSettings:u.Z,StatusHistoryChart:y.Z,PlayerNameHistoryTable:b,PlayerAllianceHistoryTable:_,PlayerPlanetsAndMoonsHistory:M}})],L);const R=L,O=R;var j=(0,f.Z)(O,a,s,!1,null,"268133e8",null);const q=j.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2VzIjpbIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvc2hhcmVkL21vZGVscy9vZ2FtZS9jb21tb24vQ29vcmRpbmF0ZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL3ZpZXdzL3VuaXZlcnNlLWhpc3RvcnkvcGxheWVycy9IaXN0b3J5LnZ1ZT8zNjkxIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3VuaXZlcnNlLWhpc3RvcnkvUGxheWVyTmFtZUhpc3RvcnlUYWJsZS52dWU/NGNmNSIsIndlYnBhY2s6Ly8vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9QbGF5ZXJOYW1lSGlzdG9yeVRhYmxlLnZ1ZT8wMmNlIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3VuaXZlcnNlLWhpc3RvcnkvUGxheWVyTmFtZUhpc3RvcnlUYWJsZS52dWU/MTI3YSIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy91bml2ZXJzZS1oaXN0b3J5L1BsYXllck5hbWVIaXN0b3J5VGFibGUudnVlPzZiMDIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9QbGF5ZXJBbGxpYW5jZUhpc3RvcnlUYWJsZS52dWU/NmE4OCIsIndlYnBhY2s6Ly8vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9QbGF5ZXJBbGxpYW5jZUhpc3RvcnlUYWJsZS52dWU/ZDEwMiIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy91bml2ZXJzZS1oaXN0b3J5L1BsYXllckFsbGlhbmNlSGlzdG9yeVRhYmxlLnZ1ZT9hY2M2Iiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3VuaXZlcnNlLWhpc3RvcnkvUGxheWVyQWxsaWFuY2VIaXN0b3J5VGFibGUudnVlPzExZmIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9QbGF5ZXJQbGFuZXRzQW5kTW9vbnNIaXN0b3J5LnZ1ZT84YTA5Iiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy91bml2ZXJzZS1oaXN0b3J5L1BsYXllclBsYW5ldHNBbmRNb29uc0hpc3RvcnkudnVlP2IxMGIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9QbGF5ZXJQbGFuZXRzQW5kTW9vbnNIaXN0b3J5LnZ1ZT8xYTZiIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3VuaXZlcnNlLWhpc3RvcnkvUGxheWVyUGxhbmV0c0FuZE1vb25zSGlzdG9yeS52dWU/MDViZSIsIndlYnBhY2s6Ly8vc3JjL3ZpZXdzL3N0YXRzL3ZpZXdzL3VuaXZlcnNlLWhpc3RvcnkvcGxheWVycy9IaXN0b3J5LnZ1ZT85NTBmIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy91bml2ZXJzZS1oaXN0b3J5L3BsYXllcnMvSGlzdG9yeS52dWU/ZjgwYyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvdW5pdmVyc2UtaGlzdG9yeS9wbGF5ZXJzL0hpc3RvcnkudnVlPzUyYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGxhbmV0VHlwZSB9IGZyb20gJy4vUGxhbmV0VHlwZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvb3JkaW5hdGVzIHtcclxuICAgIGdhbGF4eTogbnVtYmVyO1xyXG4gICAgc3lzdGVtOiBudW1iZXI7XHJcbiAgICBwb3NpdGlvbjogbnVtYmVyO1xyXG4gICAgdHlwZTogUGxhbmV0VHlwZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVDb29yZGluYXRlcyhhOiBDb29yZGluYXRlcywgYjogQ29vcmRpbmF0ZXMpOiBudW1iZXIge1xyXG4gICAgY29uc3Qga2V5czogKGtleW9mIENvb3JkaW5hdGVzKVtdID0gW1xyXG4gICAgICAgICdnYWxheHknLFxyXG4gICAgICAgICdzeXN0ZW0nLFxyXG4gICAgICAgICdwb3NpdGlvbicsXHJcbiAgICAgICAgJ3R5cGUnLFxyXG4gICAgXTtcclxuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcclxuICAgICAgICBjb25zdCBkaWZmID0gYVtrZXldIC0gYltrZXldO1xyXG4gICAgICAgIGlmIChkaWZmICE9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRpZmY7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb29yZGluYXRlc0VxdWFsKGE6IENvb3JkaW5hdGVzLCBiOiBDb29yZGluYXRlcyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGNvbXBhcmVDb29yZGluYXRlcyhhLCBiKSA9PSAwO1xyXG59IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gKF92bS5oaXN0b3J5VHJhY2tpbmdFbmFibGVkKT9fYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJoaXN0b3J5XCJ9LFsoX3ZtLmRhdGFNb2R1bGVMb2FkaW5nKT9fYygnbG9hZGluZy1zcGlubmVyJyk6W19jKCdncmlkLXRhYmxlJyx7c3RhdGljQ2xhc3M6XCJwbGF5ZXItc2VsZWN0aW9uLXRhYmxlXCIsYXR0cnM6e1wiY29sdW1uc1wiOl92bS50YWJsZUNvbHVtbnMsXCJpdGVtc1wiOl92bS50YWJsZUl0ZW1zfSxzY29wZWRTbG90czpfdm0uX3UoW3trZXk6XCJjZWxsLXBsYXllclwiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgcGxheWVyID0gcmVmLnZhbHVlO1xucmV0dXJuIFsocGxheWVyID09IG51bGwpP1tfYygnaW5wdXQnLHtkaXJlY3RpdmVzOlt7bmFtZTpcIm1vZGVsXCIscmF3TmFtZTpcInYtbW9kZWxcIix2YWx1ZTooX3ZtLnNlbGVjdGVkUGxheWVyTmFtZSksZXhwcmVzc2lvbjpcInNlbGVjdGVkUGxheWVyTmFtZVwifV0sc3RhdGljU3R5bGU6e1wid2lkdGhcIjpcIjEwMCVcIn0sYXR0cnM6e1widHlwZVwiOlwidGV4dFwiLFwicGxhY2Vob2xkZXJcIjpfdm0uJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS5wbGF5ZXJTZWxlY3Rpb24uc2VhcmNoLFwibGlzdFwiOlwicGxheWVyLWxpc3RcIn0sZG9tUHJvcHM6e1widmFsdWVcIjooX3ZtLnNlbGVjdGVkUGxheWVyTmFtZSl9LG9uOntcImNoYW5nZVwiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5vblBsYXllclNlbGVjdGVkKCRldmVudC50YXJnZXQudmFsdWUpfSxcImlucHV0XCI6ZnVuY3Rpb24oJGV2ZW50KXtpZigkZXZlbnQudGFyZ2V0LmNvbXBvc2luZyl7IHJldHVybjsgfV92bS5zZWxlY3RlZFBsYXllck5hbWU9JGV2ZW50LnRhcmdldC52YWx1ZX19fSksX2MoJ2RhdGFsaXN0Jyx7YXR0cnM6e1wiaWRcIjpcInBsYXllci1saXN0XCJ9fSxfdm0uX2woKF92bS5wbGF5ZXJOYW1lcyksZnVuY3Rpb24obmFtZSxpKXtyZXR1cm4gX2MoJ29wdGlvbicse2tleTppfSxbX3ZtLl92KFwiIFwiK192bS5fcyhuYW1lKStcIiBcIildKX0pLDApXTpfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJsaXN0LWl0ZW1cIn0sW19jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MocGxheWVyLm5hbWUpfX0pXSldfX1dLG51bGwsZmFsc2UsMzI1NDA4NTkwMyl9KSxfYygndGFicycse2F0dHJzOntcInRhYnNcIjpfdm0udGFic30sc2NvcGVkU2xvdHM6X3ZtLl91KFt7a2V5OlwidGFiLWNvbnRlbnQtc3RhdHVzXCIsZm46ZnVuY3Rpb24oKXtyZXR1cm4gWyhfdm0ucGxheWVySWQgIT0gbnVsbCk/X2MoJ3N0YXR1cy1oaXN0b3J5LWNoYXJ0Jyx7YXR0cnM6e1wicGxheWVySWRcIjpfdm0ucGxheWVySWR9fSk6X3ZtLl9lKCldfSxwcm94eTp0cnVlfSx7a2V5OlwidGFiLWNvbnRlbnQtbmlja25hbWVcIixmbjpmdW5jdGlvbigpe3JldHVybiBbKF92bS5wbGF5ZXJJZCAhPSBudWxsKT9fYygncGxheWVyLW5hbWUtaGlzdG9yeS10YWJsZScse2F0dHJzOntcInBsYXllcklkXCI6X3ZtLnBsYXllcklkfX0pOl92bS5fZSgpXX0scHJveHk6dHJ1ZX0se2tleTpcInRhYi1jb250ZW50LWFsbGlhbmNlXCIsZm46ZnVuY3Rpb24oKXtyZXR1cm4gWyhfdm0ucGxheWVySWQgIT0gbnVsbCk/X2MoJ3BsYXllci1hbGxpYW5jZS1oaXN0b3J5LXRhYmxlJyx7YXR0cnM6e1wicGxheWVySWRcIjpfdm0ucGxheWVySWR9fSk6X3ZtLl9lKCldfSxwcm94eTp0cnVlfSx7a2V5OlwidGFiLWNvbnRlbnQtcGxhbmV0LW1vb25zXCIsZm46ZnVuY3Rpb24oKXtyZXR1cm4gWyhfdm0ucGxheWVySWQgIT0gbnVsbCk/X2MoJ3BsYXllci1wbGFuZXRzLWFuZC1tb29ucy1oaXN0b3J5Jyx7YXR0cnM6e1wicGxheWVySWRcIjpfdm0ucGxheWVySWR9fSk6X3ZtLl9lKCldfSxwcm94eTp0cnVlfV0sbnVsbCxmYWxzZSwzMjg0ODI4ODc2KX0pXV0sMik6X2MoJ3VuaXZlcnNlLWhpc3RvcnktdHJhY2tpbmctc2V0dGluZ3MnKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gKF92bS5sb2FkaW5nKT9fYygnbG9hZGluZy1zcGlubmVyJyk6X2MoJ2dyaWQtdGFibGUnLHthdHRyczp7XCJjb2x1bW5zXCI6X3ZtLm5hbWVIaXN0b3J5Q29sdW1ucyxcIml0ZW1zXCI6X3ZtLm5hbWVIaXN0b3J5SXRlbXMsXCJpbmxpbmVcIjpcIlwifSxzY29wZWRTbG90czpfdm0uX3UoW3trZXk6XCJjZWxsLXN0YXJ0XCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnJldHVybiBbKHZhbHVlICE9IG51bGwpP19jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiRkKHZhbHVlLCAnZGF0ZScpKX19KTpfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKCc/Jyl9fSldfX0se2tleTpcImNlbGwtLVwiLGZuOmZ1bmN0aW9uKCl7cmV0dXJuIFtfdm0uX3YoXCItXCIpXX0scHJveHk6dHJ1ZX0se2tleTpcImNlbGwtZW5kXCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnJldHVybiBbKHZhbHVlICE9IG51bGwpP19jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiRkKHZhbHVlLCAnZGF0ZScpKX19KTpfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKF92bS4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LnRvZGF5KX19KV19fV0pfSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cclxuICAgIDxsb2FkaW5nLXNwaW5uZXIgdi1pZj1cImxvYWRpbmdcIiAvPlxyXG4gICAgPGdyaWQtdGFibGUgdi1lbHNlIDpjb2x1bW5zPVwibmFtZUhpc3RvcnlDb2x1bW5zXCIgOml0ZW1zPVwibmFtZUhpc3RvcnlJdGVtc1wiIGlubGluZT5cclxuICAgICAgICA8dGVtcGxhdGUgI2NlbGwtc3RhcnQ9XCJ7IHZhbHVlIH1cIj5cclxuICAgICAgICAgICAgPHNwYW4gdi1pZj1cInZhbHVlICE9IG51bGxcIiB2LXRleHQ9XCIkaTE4bi4kZCh2YWx1ZSwgJ2RhdGUnKVwiIC8+XHJcbiAgICAgICAgICAgIDxzcGFuIHYtZWxzZSB2LXRleHQ9XCInPydcIiAvPlxyXG4gICAgICAgIDwvdGVtcGxhdGU+XHJcblxyXG4gICAgICAgIDx0ZW1wbGF0ZSAjY2VsbC0tPi08L3RlbXBsYXRlPlxyXG5cclxuICAgICAgICA8dGVtcGxhdGUgI2NlbGwtZW5kPVwieyB2YWx1ZSB9XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJ2YWx1ZSAhPSBudWxsXCIgdi10ZXh0PVwiJGkxOG4uJGQodmFsdWUsICdkYXRlJylcIiAvPlxyXG4gICAgICAgICAgICA8c3BhbiB2LWVsc2Ugdi10ZXh0PVwiJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS50b2RheVwiIC8+XHJcbiAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgIDwvZ3JpZC10YWJsZT5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgeyBPZ2FtZVRyYWNrZXJVbml2ZXJzZUhpc3RvcnlQbGF5ZXJOYW1lIH0gZnJvbSAnQC9zaGFyZWQvZGIvc2NoZW1hL3VuaXZlcnNlLWhpc3RvcnknO1xyXG4gICAgaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7XHJcbiAgICBpbXBvcnQgeyBVbml2ZXJzZUhpc3RvcnlEYXRhTW9kdWxlIH0gZnJvbSAnLi4vLi4vZGF0YS9Vbml2ZXJzZUhpc3RvcnlEYXRhTW9kdWxlJztcclxuICAgIGltcG9ydCB7IEdyaWRUYWJsZUNvbHVtbiB9IGZyb20gJy4uL2NvbW1vbi9HcmlkVGFibGUudnVlJztcclxuXHJcbiAgICBpbnRlcmZhY2UgTmFtZUhpc3RvcnlJdGVtIHtcclxuICAgICAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgc3RhcnQ6IG51bWJlciB8IG51bGw7XHJcbiAgICAgICAgZW5kOiBudW1iZXIgfCBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIEBDb21wb25lbnQoe30pXHJcbiAgICBleHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXJOYW1lSGlzdG9yeVRhYmxlIGV4dGVuZHMgVnVlIHtcclxuICAgICAgICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBOdW1iZXIgfSlcclxuICAgICAgICBwcml2YXRlIHBsYXllcklkITogbnVtYmVyO1xyXG5cclxuICAgICAgICBwcml2YXRlIGhpc3Rvcnk6IE9nYW1lVHJhY2tlclVuaXZlcnNlSGlzdG9yeVBsYXllck5hbWVbXSA9IFtdO1xyXG4gICAgICAgIHByaXZhdGUgbG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIEBXYXRjaCgncGxheWVySWQnLCB7IGltbWVkaWF0ZTogdHJ1ZSB9KVxyXG4gICAgICAgIHByaXZhdGUgYXN5bmMgb25QbGF5ZXJJZENoYW5nZWQoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeSA9IGF3YWl0IFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUuZ2V0UGxheWVyTmFtZUhpc3RvcnkodGhpcy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgbmFtZUhpc3RvcnlDb2x1bW5zKCk6IEdyaWRUYWJsZUNvbHVtbjxrZXlvZiBOYW1lSGlzdG9yeUl0ZW0gfCAnLSc+W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ25hbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi51bml2ZXJzZUhpc3RvcnkubmFtZSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnc3RhcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi51bml2ZXJzZUhpc3RvcnkuZnJvbSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnLScsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2VuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS51bnRpbCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBuYW1lSGlzdG9yeUl0ZW1zKCk6IE5hbWVIaXN0b3J5SXRlbVtdIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeS5tYXA8TmFtZUhpc3RvcnlJdGVtPigoaXRlbSwgaSwgaGlzdG9yeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpID09IDAgPyBudWxsIDogaXRlbS5kYXRlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gaGlzdG9yeVtpICsgMV0/LmRhdGUgPz8gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgICAgICAgICAgICBlbmQsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KS5yZXZlcnNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuPC9zY3JpcHQ+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1BsYXllck5hbWVIaXN0b3J5VGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vUGxheWVyTmFtZUhpc3RvcnlUYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL1BsYXllck5hbWVIaXN0b3J5VGFibGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTBkZWY2MTU4JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL1BsYXllck5hbWVIaXN0b3J5VGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9QbGF5ZXJOYW1lSGlzdG9yeVRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gKF92bS5sb2FkaW5nKT9fYygnbG9hZGluZy1zcGlubmVyJyk6X2MoJ2dyaWQtdGFibGUnLHthdHRyczp7XCJjb2x1bW5zXCI6X3ZtLmFsbGlhbmNlSGlzdG9yeUNvbHVtbnMsXCJpdGVtc1wiOl92bS5hbGxpYW5jZUhpc3RvcnlJdGVtcyxcImlubGluZVwiOlwiXCJ9LHNjb3BlZFNsb3RzOl92bS5fdShbe2tleTpcImNlbGwtYWxsaWFuY2VcIixmbjpmdW5jdGlvbihyZWYpe1xudmFyIHZhbHVlID0gcmVmLnZhbHVlO1xucmV0dXJuIFsodmFsdWUgIT0gbnVsbCk/X2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcygoXCJbXCIgKyAodmFsdWUudGFnKSArIFwiXSBcIiArICh2YWx1ZS5uYW1lKSkpfX0pOl9jKCdpJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiR0LmV4dGVuc2lvbi51bml2ZXJzZUhpc3Rvcnkubm9BbGxpYW5jZSl9fSldfX0se2tleTpcImNlbGwtc3RhcnRcIixmbjpmdW5jdGlvbihyZWYpe1xudmFyIHZhbHVlID0gcmVmLnZhbHVlO1xucmV0dXJuIFsodmFsdWUgIT0gbnVsbCk/X2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJGQodmFsdWUsICdkYXRlJykpfX0pOl9jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoJz8nKX19KV19fSx7a2V5OlwiY2VsbC0tXCIsZm46ZnVuY3Rpb24oKXtyZXR1cm4gW192bS5fdihcIi1cIildfSxwcm94eTp0cnVlfSx7a2V5OlwiY2VsbC1lbmRcIixmbjpmdW5jdGlvbihyZWYpe1xudmFyIHZhbHVlID0gcmVmLnZhbHVlO1xucmV0dXJuIFsodmFsdWUgIT0gbnVsbCk/X2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJGQodmFsdWUsICdkYXRlJykpfX0pOl9jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiR0LmV4dGVuc2lvbi51bml2ZXJzZUhpc3RvcnkudG9kYXkpfX0pXX19XSl9KX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxyXG4gICAgPGxvYWRpbmctc3Bpbm5lciB2LWlmPVwibG9hZGluZ1wiIC8+XHJcbiAgICA8Z3JpZC10YWJsZSB2LWVsc2UgOmNvbHVtbnM9XCJhbGxpYW5jZUhpc3RvcnlDb2x1bW5zXCIgOml0ZW1zPVwiYWxsaWFuY2VIaXN0b3J5SXRlbXNcIiBpbmxpbmU+XHJcbiAgICAgICAgPHRlbXBsYXRlICNjZWxsLWFsbGlhbmNlPVwieyB2YWx1ZSB9XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJ2YWx1ZSAhPSBudWxsXCIgdi10ZXh0PVwiYFske3ZhbHVlLnRhZ31dICR7dmFsdWUubmFtZX1gXCIgLz5cclxuICAgICAgICAgICAgPGkgdi1lbHNlIHYtdGV4dD1cIiRpMThuLiR0LmV4dGVuc2lvbi51bml2ZXJzZUhpc3Rvcnkubm9BbGxpYW5jZVwiIC8+XHJcbiAgICAgICAgPC90ZW1wbGF0ZT5cclxuXHJcbiAgICAgICAgPHRlbXBsYXRlICNjZWxsLXN0YXJ0PVwieyB2YWx1ZSB9XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJ2YWx1ZSAhPSBudWxsXCIgdi10ZXh0PVwiJGkxOG4uJGQodmFsdWUsICdkYXRlJylcIiAvPlxyXG4gICAgICAgICAgICA8c3BhbiB2LWVsc2Ugdi10ZXh0PVwiJz8nXCIgLz5cclxuICAgICAgICA8L3RlbXBsYXRlPlxyXG5cclxuICAgICAgICA8dGVtcGxhdGUgI2NlbGwtLT4tPC90ZW1wbGF0ZT5cclxuXHJcbiAgICAgICAgPHRlbXBsYXRlICNjZWxsLWVuZD1cInsgdmFsdWUgfVwiPlxyXG4gICAgICAgICAgICA8c3BhbiB2LWlmPVwidmFsdWUgIT0gbnVsbFwiIHYtdGV4dD1cIiRpMThuLiRkKHZhbHVlLCAnZGF0ZScpXCIgLz5cclxuICAgICAgICAgICAgPHNwYW4gdi1lbHNlIHYtdGV4dD1cIiRpMThuLiR0LmV4dGVuc2lvbi51bml2ZXJzZUhpc3RvcnkudG9kYXlcIiAvPlxyXG4gICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICA8L2dyaWQtdGFibGU+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG4gICAgaW1wb3J0IHsgT2dhbWVUcmFja2VyVW5pdmVyc2VIaXN0b3J5UGxheWVyQWxsaWFuY2UgfSBmcm9tICdAL3NoYXJlZC9kYi9zY2hlbWEvdW5pdmVyc2UtaGlzdG9yeSc7XHJcbiAgICBpbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJztcclxuICAgIGltcG9ydCB7IFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUgfSBmcm9tICcuLi8uLi9kYXRhL1VuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUnO1xyXG4gICAgaW1wb3J0IHsgR3JpZFRhYmxlQ29sdW1uIH0gZnJvbSAnLi4vY29tbW9uL0dyaWRUYWJsZS52dWUnO1xyXG5cclxuICAgIGludGVyZmFjZSBBbGxpYW5jZUhpc3RvcnlJdGVtIHtcclxuICAgICAgICBhbGxpYW5jZTogeyBuYW1lOiBzdHJpbmc7IHRhZzogc3RyaW5nIH0gfCBudWxsO1xyXG4gICAgICAgIHN0YXJ0OiBudW1iZXIgfCBudWxsO1xyXG4gICAgICAgIGVuZDogbnVtYmVyIHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBAQ29tcG9uZW50KHt9KVxyXG4gICAgZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyQWxsaWFuY2VIaXN0b3J5VGFibGUgZXh0ZW5kcyBWdWUge1xyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHR5cGU6IE51bWJlciB9KVxyXG4gICAgICAgIHByaXZhdGUgcGxheWVySWQhOiBudW1iZXI7XHJcblxyXG4gICAgICAgIHByaXZhdGUgaGlzdG9yeTogT2dhbWVUcmFja2VyVW5pdmVyc2VIaXN0b3J5UGxheWVyQWxsaWFuY2VbXSA9IFtdO1xyXG4gICAgICAgIHByaXZhdGUgbG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIEBXYXRjaCgncGxheWVySWQnLCB7IGltbWVkaWF0ZTogdHJ1ZSB9KVxyXG4gICAgICAgIHByaXZhdGUgYXN5bmMgb25QbGF5ZXJJZENoYW5nZWQoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeSA9IGF3YWl0IFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUuZ2V0UGxheWVyQWxsaWFuY2VIaXN0b3J5KHRoaXMucGxheWVySWQpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGFsbGlhbmNlSGlzdG9yeUNvbHVtbnMoKTogR3JpZFRhYmxlQ29sdW1uPGtleW9mIEFsbGlhbmNlSGlzdG9yeUl0ZW0gfCAnLSc+W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2FsbGlhbmNlJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LmFsbGlhbmNlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdzdGFydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS5mcm9tLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICctJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LnVudGlsLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGFsbGlhbmNlSGlzdG9yeUl0ZW1zKCk6IEFsbGlhbmNlSGlzdG9yeUl0ZW1bXSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpc3RvcnkubWFwPEFsbGlhbmNlSGlzdG9yeUl0ZW0+KChpdGVtLCBpLCBoaXN0b3J5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgPT0gMCA/IG51bGwgOiBpdGVtLmRhdGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBoaXN0b3J5W2kgKyAxXT8uZGF0ZSA/PyBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsaWFuY2U6IFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUuYWxsaWFuY2VzLmZpbmQoYSA9PiBhLmlkID09IGl0ZW0uYWxsaWFuY2VJZCkgPz8gbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgICAgICAgICAgICBlbmQsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KS5yZXZlcnNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG48L3NjcmlwdD4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vUGxheWVyQWxsaWFuY2VIaXN0b3J5VGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vUGxheWVyQWxsaWFuY2VIaXN0b3J5VGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9QbGF5ZXJBbGxpYW5jZUhpc3RvcnlUYWJsZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NTJkYzhkYmUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vUGxheWVyQWxsaWFuY2VIaXN0b3J5VGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9QbGF5ZXJBbGxpYW5jZUhpc3RvcnlUYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIChfdm0ubG9hZGluZyk/X2MoJ2xvYWRpbmctc3Bpbm5lcicpOl9jKCdkaXYnLHtzdHlsZTooKFwiLS1wbGFuZXRzOiBcIiArIChfdm0uaGlzdG9yeS5sZW5ndGgpICsgXCI7IC0tb2Zmc2V0OiBcIiArIF92bS5jbGllbnRIZWlnaHQpKX0sW19jKCdkaXYnLHtyZWY6XCJjb250YWluZXJcIixzdGF0aWNDbGFzczpcInBsYW5ldHMtbW9vbnMtaGlzdG9yeVwifSxfdm0uX2woKF92bS5pdGVtcyksZnVuY3Rpb24oaXRlbSl7cmV0dXJuIF9jKCdkaXYnLHtrZXk6aXRlbS5kYXRlLHN0YXRpY0NsYXNzOlwicm93XCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJkYXRlLWNvbHVtblwiLGRvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKF92bS4kaTE4bi4kZChpdGVtLmRhdGUsICdkYXRlJykpfX0pLF92bS5fbCgoaXRlbS5pdGVtcyksZnVuY3Rpb24ocGxhbmV0KXtyZXR1cm4gX2MoJ2Rpdicse2tleTooXCJwbGFuZXQtXCIgKyAocGxhbmV0LmlkKSksc3RhdGljQ2xhc3M6XCJwbGFuZXRcIixjbGFzczp7XG4gICAgICAgICAgICAgICAgICAgIG5ldzogcGxhbmV0LnN0YXRlLmhhc0NoYW5nZSAmJiBwbGFuZXQuc3RhdGUudmFsdWUgPT0gJ25ldycsXG4gICAgICAgICAgICAgICAgfX0sW19jKCdzcGFuJyx7c3RhdGljQ2xhc3M6XCJvZ3RpIG9ndGktcGxhbmV0XCJ9KSxfYygnZGl2Jyx7Y2xhc3M6eyBjaGFuZ2U6IHBsYW5ldC5uYW1lLmhhc0NoYW5nZSB9LGRvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKHBsYW5ldC5uYW1lLnZhbHVlKX19KSxfYygnZGl2Jyx7Y2xhc3M6eyBjaGFuZ2U6IHBsYW5ldC5jb29yZGluYXRlcy5oYXNDaGFuZ2UgfSxkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uZm9ybWF0Q29vcmRzKHBsYW5ldC5jb29yZGluYXRlcy52YWx1ZSkpfX0pLChwbGFuZXQubW9vbiAhPSBudWxsKT9fYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJtb29uXCIsY2xhc3M6e1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3OiBwbGFuZXQubW9vbi5oYXNDaGFuZ2UgJiYgcGxhbmV0Lm1vb24udmFsdWUgPT0gJ25ldycsXG4gICAgICAgICAgICAgICAgICAgIH19LFtfYygnc3Bhbicse3N0YXRpY0NsYXNzOlwib2d0aSBvZ3RpLW1vb25cIn0pLF9jKCdkaXYnLHtjbGFzczp7IGNoYW5nZTogcGxhbmV0Lm1vb24ubmFtZS5oYXNDaGFuZ2UgfSxkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhwbGFuZXQubW9vbi5uYW1lLnZhbHVlKX19KSxfYygnZGl2Jyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoKChfdm0uJGkxOG4uJG4ocGxhbmV0Lm1vb24uc2l6ZSkpICsgXCIga21cIikpfX0pXSk6X3ZtLl9lKCldKX0pLF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcInBsYW5ldC0tZW1wdHlcIixzdHlsZTooKFwiLS1zdGFydDogXCIgKyAoaXRlbS5pdGVtcy5sZW5ndGggKyAyKSArIFwiO1wiKSl9KV0sMil9KSwwKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJzY3JvbGxlclwifSldKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxyXG4gICAgPGxvYWRpbmctc3Bpbm5lciB2LWlmPVwibG9hZGluZ1wiIC8+XHJcbiAgICA8ZGl2IHYtZWxzZSA6c3R5bGU9XCJgLS1wbGFuZXRzOiAke2hpc3RvcnkubGVuZ3RofTsgLS1vZmZzZXQ6ICR7Y2xpZW50SGVpZ2h0fWBcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicGxhbmV0cy1tb29ucy1oaXN0b3J5XCIgcmVmPVwiY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIiB2LWZvcj1cIml0ZW0gaW4gaXRlbXNcIiA6a2V5PVwiaXRlbS5kYXRlXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHYtdGV4dD1cIiRpMThuLiRkKGl0ZW0uZGF0ZSwgJ2RhdGUnKVwiIGNsYXNzPVwiZGF0ZS1jb2x1bW5cIiAvPlxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIHYtZm9yPVwicGxhbmV0IGluIGl0ZW0uaXRlbXNcIlxyXG4gICAgICAgICAgICAgICAgICAgIDprZXk9XCJgcGxhbmV0LSR7cGxhbmV0LmlkfWBcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicGxhbmV0XCJcclxuICAgICAgICAgICAgICAgICAgICA6Y2xhc3M9XCJ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldzogcGxhbmV0LnN0YXRlLmhhc0NoYW5nZSAmJiBwbGFuZXQuc3RhdGUudmFsdWUgPT0gJ25ldycsXHJcbiAgICAgICAgICAgICAgICAgICAgfVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvZ3RpIG9ndGktcGxhbmV0XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtdGV4dD1cInBsYW5ldC5uYW1lLnZhbHVlXCIgOmNsYXNzPVwieyBjaGFuZ2U6IHBsYW5ldC5uYW1lLmhhc0NoYW5nZSB9XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtdGV4dD1cImZvcm1hdENvb3JkcyhwbGFuZXQuY29vcmRpbmF0ZXMudmFsdWUpXCIgOmNsYXNzPVwieyBjaGFuZ2U6IHBsYW5ldC5jb29yZGluYXRlcy5oYXNDaGFuZ2UgfVwiIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi1pZj1cInBsYW5ldC5tb29uICE9IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1vb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6Y2xhc3M9XCJ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXc6IHBsYW5ldC5tb29uLmhhc0NoYW5nZSAmJiBwbGFuZXQubW9vbi52YWx1ZSA9PSAnbmV3JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9ndGkgb2d0aS1tb29uXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiB2LXRleHQ9XCJwbGFuZXQubW9vbi5uYW1lLnZhbHVlXCIgOmNsYXNzPVwieyBjaGFuZ2U6IHBsYW5ldC5tb29uLm5hbWUuaGFzQ2hhbmdlIH1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtdGV4dD1cImAkeyRpMThuLiRuKHBsYW5ldC5tb29uLnNpemUpfSBrbWBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBsYW5ldC0tZW1wdHlcIiA6c3R5bGU9XCJgLS1zdGFydDogJHtpdGVtLml0ZW1zLmxlbmd0aCArIDJ9O2BcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2Nyb2xsZXJcIiAvPlxyXG4gICAgPC9kaXY+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG4gICAgaW1wb3J0IHsgRGJVbml2ZXJzZUhpc3RvcnlDb29yZGluYXRlcywgRGJVbml2ZXJzZUhpc3RvcnlQbGFuZXRNb29uU3RhdGUgfSBmcm9tICdAL3NoYXJlZC9kYi9zY2hlbWEvdW5pdmVyc2UtaGlzdG9yeSc7XHJcbiAgICBpbXBvcnQgeyBjb21wYXJlQ29vcmRpbmF0ZXMsIENvb3JkaW5hdGVzIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2NvbW1vbi9Db29yZGluYXRlcyc7XHJcbiAgICBpbXBvcnQgeyBwYXJzZUludFNhZmUgfSBmcm9tICdAL3NoYXJlZC91dGlscy9wYXJzZU51bWJlcnMnO1xyXG4gICAgaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBSZWYsIFZ1ZSwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJztcclxuICAgIGltcG9ydCB7IFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUsIFVuaXZlcnNlSGlzdG9yeVBsYW5ldEhpc3RvcnkgfSBmcm9tICcuLi8uLi9kYXRhL1VuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUnO1xyXG5cclxuICAgIGludGVyZmFjZSBQbGFuZXRDaGFuZ2Uge1xyXG4gICAgICAgIGlkOiBudW1iZXI7XHJcbiAgICAgICAgbmFtZT86IHN0cmluZztcclxuICAgICAgICBzdGF0ZT86IERiVW5pdmVyc2VIaXN0b3J5UGxhbmV0TW9vblN0YXRlO1xyXG4gICAgICAgIGNvb3JkaW5hdGVzPzogRGJVbml2ZXJzZUhpc3RvcnlDb29yZGluYXRlcztcclxuXHJcbiAgICAgICAgbW9vbnM6IFJlY29yZDxudW1iZXIsIE1vb25DaGFuZ2U+O1xyXG4gICAgfVxyXG5cclxuICAgIGludGVyZmFjZSBNb29uQ2hhbmdlIHtcclxuICAgICAgICBpZDogbnVtYmVyO1xyXG4gICAgICAgIG5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgc3RhdGU/OiBEYlVuaXZlcnNlSGlzdG9yeVBsYW5ldE1vb25TdGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBpbnRlcmZhY2UgUGxhbmV0U3RhdGUge1xyXG4gICAgICAgIGlkOiBudW1iZXI7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nIHwgbnVsbDtcclxuICAgICAgICBzdGF0ZTogbnVsbCB8ICduZXcnO1xyXG4gICAgICAgIGNvb3JkaW5hdGVzOiBEYlVuaXZlcnNlSGlzdG9yeUNvb3JkaW5hdGVzIHwgbnVsbDtcclxuXHJcbiAgICAgICAgbW9vbjogTW9vblN0YXRlIHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpbnRlcmZhY2UgTW9vblN0YXRlIHtcclxuICAgICAgICBpZDogbnVtYmVyO1xyXG4gICAgICAgIHNpemU6IG51bWJlcjtcclxuICAgICAgICBuYW1lOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgICAgIHN0YXRlOiBudWxsIHwgJ25ldyc7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGludGVyZmFjZSBQbGFuZXRJdGVtIHtcclxuICAgICAgICBpZDogbnVtYmVyO1xyXG4gICAgICAgIG5hbWU6IHtcclxuICAgICAgICAgICAgdmFsdWU6IHN0cmluZyB8IG51bGw7XHJcbiAgICAgICAgICAgIGhhc0NoYW5nZTogYm9vbGVhbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHN0YXRlOiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBudWxsIHwgJ25ldyc7XHJcbiAgICAgICAgICAgIGhhc0NoYW5nZTogYm9vbGVhbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvb3JkaW5hdGVzOiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBEYlVuaXZlcnNlSGlzdG9yeUNvb3JkaW5hdGVzIHwgbnVsbDtcclxuICAgICAgICAgICAgaGFzQ2hhbmdlOiBib29sZWFuO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIG1vb246IE1vb25JdGVtIHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpbnRlcmZhY2UgTW9vbkl0ZW0ge1xyXG4gICAgICAgIGlkOiBudW1iZXI7XHJcbiAgICAgICAgc2l6ZTogbnVtYmVyO1xyXG4gICAgICAgIG5hbWU6IHtcclxuICAgICAgICAgICAgdmFsdWU6IHN0cmluZyB8IG51bGw7XHJcbiAgICAgICAgICAgIGhhc0NoYW5nZTogYm9vbGVhbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHN0YXRlOiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBudWxsIHwgJ2RlbGV0ZWQnIHwgJ25ldyc7XHJcbiAgICAgICAgICAgIGhhc0NoYW5nZTogYm9vbGVhbjtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGludGVyZmFjZSBQbGFuZXRJdGVtUm93IHtcclxuICAgICAgICBkYXRlOiBudW1iZXI7XHJcbiAgICAgICAgaXRlbXM6IFBsYW5ldEl0ZW1bXTtcclxuICAgIH1cclxuXHJcbiAgICBpbnRlcmZhY2UgTW9vbkluZm8ge1xyXG4gICAgICAgIGlkOiBudW1iZXI7XHJcbiAgICAgICAgc2l6ZTogbnVtYmVyO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBAQ29tcG9uZW50KHt9KVxyXG4gICAgZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyUGxhbmV0c0FuZE1vb25zSGlzdG9yeSBleHRlbmRzIFZ1ZSB7XHJcblxyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHR5cGU6IE51bWJlciB9KVxyXG4gICAgICAgIHByaXZhdGUgcGxheWVySWQhOiBudW1iZXI7XHJcblxyXG4gICAgICAgIEBSZWYoKVxyXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyITogSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IHBhcmVudENvbnRhaW5lcigpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5jbG9zZXN0KCdtYWluJykhO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgaGlzdG9yeTogVW5pdmVyc2VIaXN0b3J5UGxhbmV0SGlzdG9yeVtdID0gW107XHJcbiAgICAgICAgcHJpdmF0ZSBtb29uU2l6ZXM6IFJlY29yZDxudW1iZXIsIG51bWJlcj4gPSB7fTtcclxuICAgICAgICBwcml2YXRlIGxvYWRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICBwcml2YXRlIGNsaWVudEhlaWdodCA9IDA7XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcih4ID0+IHRoaXMudXBkYXRlQ2xpZW50SGVpZ2h0KCkpO1xyXG4gICAgICAgIHByaXZhdGUgdXBkYXRlQ2xpZW50SGVpZ2h0KCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnRIZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXJIZWlnaHQgPSB0aGlzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudEhlaWdodCA9IHRoaXMucGFyZW50Q29udGFpbmVyLmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgY29uc3QgbGFzdFJvd0hlaWdodCA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC5yb3c6bnRoLW9mLXR5cGUoJHt0aGlzLml0ZW1zLmxlbmd0aH0pID4gLmRhdGUtY29sdW1uYCkhLmNsaWVudEhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWF4KHBhcmVudEhlaWdodCwgY29udGFpbmVySGVpZ2h0KSAtIGxhc3RSb3dIZWlnaHQgLSAyNDsgLy8gMioxMnB4ID0gcGFkZGluZyBvZiBtYWluXHJcbiAgICAgICAgICAgIHRoaXMuY2xpZW50SGVpZ2h0ID0gb2Zmc2V0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBpdGVtczogUGxhbmV0SXRlbVJvd1tdID0gW107XHJcblxyXG5cclxuICAgICAgICBAV2F0Y2goJ3BsYXllcklkJywgeyBpbW1lZGlhdGU6IHRydWUgfSlcclxuICAgICAgICBwcml2YXRlIGFzeW5jIG9uUGxheWVySWRDaGFuZ2VkKCkge1xyXG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkgPSBhd2FpdCBVbml2ZXJzZUhpc3RvcnlEYXRhTW9kdWxlLmdldFBsYXllclBsYW5ldHNBbmRNb29uc0hpc3RvcnkodGhpcy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeS5zb3J0KChhLCBiKSA9PiBhLmlkIC0gYi5pZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldEtub3duTW9vbnModGhpcy5oaXN0b3J5KVxyXG4gICAgICAgICAgICAgICAgLmZvckVhY2gobW9vbiA9PiB0aGlzLm1vb25TaXplc1ttb29uLmlkXSA9IG1vb24uc2l6ZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByZXBhcmVEYXRhKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLiRuZXh0VGljaygpO1xyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5jb250YWluZXIpO1xyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5wYXJlbnRDb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy4kbmV4dFRpY2soKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnRDb250YWluZXIuc2Nyb2xsVG9wID0gdGhpcy5wYXJlbnRDb250YWluZXIuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdHlsZTogSFRNTFN0eWxlRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIHByaXZhdGUgbW91bnRlZCgpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG4gICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcclxuICAgICAgICAgICAgICAgIC50YWJzID4gbWFpbiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogYmxhY2sgbGluZWFyLWdyYWRpZW50KDBkZWcsIHJnYmEodmFyKC0tY29sb3IpLCAwLjEpLCByZ2JhKHZhcigtLWNvbG9yKSwgMC4xKSkgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmQoc3R5bGUpO1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGRlc3Ryb3llZCgpIHtcclxuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3R5bGU/LnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRLbm93bk1vb25zKGhpc3Rvcnk6IFVuaXZlcnNlSGlzdG9yeVBsYW5ldEhpc3RvcnlbXSk6IE1vb25JbmZvW10ge1xyXG4gICAgICAgICAgICBjb25zdCBtb29ucyA9IGhpc3RvcnkuZmxhdE1hcChoaXMgPT4gaGlzLm1vb25zKS5tYXAobW9vbiA9PiAoeyBpZDogbW9vbi5pZCwgc2l6ZTogbW9vbi5zaXplIH0pKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1vb25zLmZpbHRlcigobW9vbiwgaSkgPT4gbW9vbnMuZmluZEluZGV4KG0gPT4gbS5pZCA9PSBtb29uLmlkKSA9PSBpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgcHJlcGFyZURhdGEoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSB0aGlzLmdldENoYW5nZXNCeURhdGUoKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0ZXMgPSBPYmplY3Qua2V5cyhjaGFuZ2VzKVxyXG4gICAgICAgICAgICAgICAgLm1hcChkYXRlID0+IHBhcnNlSW50U2FmZShkYXRlLCAxMCkpXHJcbiAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuZ2V0SXRlbXMoY2hhbmdlcywgZGF0ZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRJdGVtcyhjaGFuZ2VzQnlEYXRlOiBSZWNvcmQ8bnVtYmVyLCBQYXJ0aWFsPFJlY29yZDxudW1iZXIsIFBsYW5ldENoYW5nZT4+PiwgZGF0ZXM6IG51bWJlcltdKTogUGxhbmV0SXRlbVJvd1tdIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFBsYW5ldFN0YXRlczogUGFydGlhbDxSZWNvcmQ8bnVtYmVyLCBQbGFuZXRTdGF0ZT4+ID0ge307XHJcblxyXG4gICAgICAgICAgICBjb25zdCBnZXROZXdTdGF0ZSA9IChvbGRTdGF0ZTogXCJkZWxldGVkXCIgfCBcIm5ld1wiIHwgbnVsbCB8IHVuZGVmaW5lZCwgbmV3U3RhdGU6IERiVW5pdmVyc2VIaXN0b3J5UGxhbmV0TW9vblN0YXRlIHwgdW5kZWZpbmVkKTogJ25ldycgfCBudWxsID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChvbGRTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICduZXcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBnZXROZXdNb29uU3RhdGUgPSAob2xkU3RhdGU6IE1vb25TdGF0ZSB8IG51bGwgfCB1bmRlZmluZWQsIGNoYW5nZTogTW9vbkNoYW5nZVtdKTogTW9vblN0YXRlIHwgbnVsbCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb29uID0gY2hhbmdlLmZpbmQobW9vbiA9PiBtb29uLnN0YXRlICE9ICdkZWxldGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1vb24gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtb29uLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiB0aGlzLm1vb25TaXplc1ttb29uLmlkXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogb2xkU3RhdGU/Lm5hbWUgPz8gbW9vbj8ubmFtZSA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogZ2V0TmV3U3RhdGUob2xkU3RhdGU/LnN0YXRlLCBtb29uPy5zdGF0ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlLmxlbmd0aCA+IDAgfHwgb2xkU3RhdGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4ub2xkU3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBnZXROZXdQbGFuZXRTdGF0ZSA9IChpZDogbnVtYmVyLCBvbGRTdGF0ZTogUGxhbmV0U3RhdGUgfCB1bmRlZmluZWQsIGNoYW5nZTogUGxhbmV0Q2hhbmdlKTogUGxhbmV0U3RhdGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBjaGFuZ2UubmFtZSA/PyBvbGRTdGF0ZT8ubmFtZSA/PyBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBnZXROZXdTdGF0ZShvbGRTdGF0ZT8uc3RhdGUsIGNoYW5nZS5zdGF0ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNoYW5nZS5jb29yZGluYXRlcyA/PyBvbGRTdGF0ZT8uY29vcmRpbmF0ZXMgPz8gbnVsbCxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbW9vbjogZ2V0TmV3TW9vblN0YXRlKG9sZFN0YXRlPy5tb29uLCBPYmplY3QudmFsdWVzKGNoYW5nZS5tb29ucykpLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1Sb3dzOiBQbGFuZXRJdGVtUm93W10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGRhdGVzLmZvckVhY2goZGF0ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByb3c6IFBsYW5ldEl0ZW1Sb3cgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBpdGVtczogW10sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSBjaGFuZ2VzQnlEYXRlW2RhdGVdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhbmV0SWRzV2l0aENoYW5nZSA9IE9iamVjdC5rZXlzKGNoYW5nZXMpLm1hcChwaWQgPT4gcGFyc2VJbnRTYWZlKHBpZCwgMTApKTtcclxuICAgICAgICAgICAgICAgIHBsYW5ldElkc1dpdGhDaGFuZ2UuZm9yRWFjaChwbGFuZXRJZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkU3RhdGUgPSBjdXJyZW50UGxhbmV0U3RhdGVzW3BsYW5ldElkXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2UgPSBjaGFuZ2VzW3BsYW5ldElkXSE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNoYW5nZS5zdGF0ZSA9PSAnZGVsZXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnRQbGFuZXRTdGF0ZXNbcGxhbmV0SWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IGdldE5ld1BsYW5ldFN0YXRlKHBsYW5ldElkLCBvbGRTdGF0ZSwgY2hhbmdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbTogUGxhbmV0SXRlbSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHBsYW5ldElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3U3RhdGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZTogY2hhbmdlLm5hbWUgIT09IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXdTdGF0ZS5zdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZTogY2hhbmdlLnN0YXRlICE9PSB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3U3RhdGUuY29vcmRpbmF0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2U6IGNoYW5nZS5jb29yZGluYXRlcyAhPT0gdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9vbjogbmV3U3RhdGUubW9vbiA9PSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBuZXdTdGF0ZS5tb29uLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IG5ld1N0YXRlLm1vb24uc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXdTdGF0ZS5tb29uLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZTogT2JqZWN0LnZhbHVlcyhjaGFuZ2UubW9vbnMpLnNvbWUobWMgPT4gbWMubmFtZSAhPT0gdW5kZWZpbmVkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXdTdGF0ZS5zdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlOiBPYmplY3QudmFsdWVzKGNoYW5nZS5tb29ucykuc29tZShtYyA9PiBtYy5zdGF0ZSAhPT0gdW5kZWZpbmVkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByb3cuaXRlbXMucHVzaChpdGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBsYW5ldFN0YXRlc1twbGFuZXRJZF0gPSBuZXdTdGF0ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGdldE1vb25JdGVtID0gKHN0YXRlOiBNb29uU3RhdGUgfCBudWxsKTogTW9vbkl0ZW0gfCBudWxsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBzdGF0ZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogc3RhdGUuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2U6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGN1cnJlbnRQbGFuZXRTdGF0ZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChwaWQgPT4gcGFyc2VJbnRTYWZlKHBpZCwgMTApKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocGlkID0+ICFwbGFuZXRJZHNXaXRoQ2hhbmdlLmluY2x1ZGVzKHBpZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2gocGxhbmV0SWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGN1cnJlbnRQbGFuZXRTdGF0ZXNbcGxhbmV0SWRdITtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW06IFBsYW5ldEl0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcGxhbmV0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdGF0ZS5zdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2U6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLmNvb3JkaW5hdGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vb246IGdldE1vb25JdGVtKHN0YXRlLm1vb24pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93Lml0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHJvdy5pdGVtcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEuY29vcmRpbmF0ZXMudmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYi5jb29yZGluYXRlcy52YWx1ZSA9PSBudWxsID8gLTEgOiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYi5jb29yZGluYXRlcy52YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmVDb29yZGluYXRlcyhhLmNvb3JkaW5hdGVzLnZhbHVlIGFzIENvb3JkaW5hdGVzLCBiLmNvb3JkaW5hdGVzLnZhbHVlIGFzIENvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaXRlbVJvd3MucHVzaChyb3cpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtUm93cztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0Q2hhbmdlc0J5RGF0ZSgpOiBSZWNvcmQ8bnVtYmVyLCBQYXJ0aWFsPFJlY29yZDxudW1iZXIsIFBsYW5ldENoYW5nZT4+PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogUmVjb3JkPG51bWJlciwgUGFydGlhbDxSZWNvcmQ8bnVtYmVyLCBQbGFuZXRDaGFuZ2U+Pj4gPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGdldFBsYW5ldCA9IChkYXRlOiBudW1iZXIsIHBsYW5ldElkOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtkYXRlXSA/Pz0ge307XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHJlc3VsdFtkYXRlXVtwbGFuZXRJZF0gPz89IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogcGxhbmV0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9vbnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGdldE1vb24gPSAoZGF0ZTogbnVtYmVyLCBwbGFuZXRJZDogbnVtYmVyLCBtb29uSWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChnZXRQbGFuZXQoZGF0ZSwgcGxhbmV0SWQpLm1vb25zW21vb25JZF0gPz89IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogbW9vbklkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkuZm9yRWFjaChwbGFuZXQgPT4ge1xyXG4gICAgICAgICAgICAgICAgcGxhbmV0Lm5hbWVzLmZvckVhY2goaGlzdG9yeSA9PiBnZXRQbGFuZXQoaGlzdG9yeS5kYXRlLCBwbGFuZXQuaWQpLm5hbWUgPSBoaXN0b3J5Lm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgcGxhbmV0LnN0YXRlcy5mb3JFYWNoKGhpc3RvcnkgPT4gZ2V0UGxhbmV0KGhpc3RvcnkuZGF0ZSwgcGxhbmV0LmlkKS5zdGF0ZSA9IGhpc3Rvcnkuc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgcGxhbmV0LmNvb3JkaW5hdGVzLmZvckVhY2goaGlzdG9yeSA9PiBnZXRQbGFuZXQoaGlzdG9yeS5kYXRlLCBwbGFuZXQuaWQpLmNvb3JkaW5hdGVzID0gaGlzdG9yeS5jb29yZGluYXRlcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcGxhbmV0Lm1vb25zLmZvckVhY2gobW9vbiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9vbi5uYW1lcy5mb3JFYWNoKGhpc3RvcnkgPT4gZ2V0TW9vbihoaXN0b3J5LmRhdGUsIHBsYW5ldC5pZCwgbW9vbi5pZCkubmFtZSA9IGhpc3RvcnkubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9vbi5zdGF0ZXMuZm9yRWFjaChoaXN0b3J5ID0+IGdldE1vb24oaGlzdG9yeS5kYXRlLCBwbGFuZXQuaWQsIG1vb24uaWQpLnN0YXRlID0gaGlzdG9yeS5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBmb3JtYXRDb29yZHMoY29vcmRzOiBEYlVuaXZlcnNlSGlzdG9yeUNvb3JkaW5hdGVzIHwgbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoY29vcmRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGBbJHtjb29yZHMuZ2FsYXh5fToke2Nvb3Jkcy5zeXN0ZW19OiR7Y29vcmRzLnBvc2l0aW9ufV1gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuPC9zY3JpcHQ+XHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cclxuICAgIC5wbGFuZXRzLW1vb25zLWhpc3Rvcnkge1xyXG4gICAgICAgIHdpZHRoOiBmaXQtY29udGVudDtcclxuICAgICAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGNhbGMoMSArIHZhcigtLXBsYW5ldHMpKSwgMWZyKTtcclxuXHJcbiAgICAgICAgLmhlYWRlci1yb3csXHJcbiAgICAgICAgLnJvdyB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGNvbnRlbnRzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZGVsZXRlZCB7XHJcbiAgICAgICAgY29sb3I6IHJlZDtcclxuICAgIH1cclxuXHJcbiAgICAubmV3LFxyXG4gICAgLm5ldyAuY2hhbmdlIHtcclxuICAgICAgICBjb2xvcjogbGltZTtcclxuICAgIH1cclxuXHJcbiAgICAuY2hhbmdlIHtcclxuICAgICAgICBjb2xvcjogb3JhbmdlO1xyXG4gICAgfVxyXG5cclxuICAgIC5yb3cge1xyXG4gICAgICAgID4gZGl2IHtcclxuICAgICAgICAgICAgcG9zaXRpb246IHN0aWNreTtcclxuICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2IodmFyKC0tY29sb3IpKTtcclxuICAgICAgICAgICAgcGFkZGluZzogOHB4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBibGFjayBsaW5lYXItZ3JhZGllbnQoMGRlZywgcmdiYSh2YXIoLS1jb2xvciksIDAuMSksIHJnYmEodmFyKC0tY29sb3IpLCAwLjEpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICY6bnRoLW9mLXR5cGUob2RkKSA+IGRpdiB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsYWNrIGxpbmVhci1ncmFkaWVudCgwZGVnLCByZ2JhKHZhcigtLWNvbG9yKSwgMC4xNSksIHJnYmEodmFyKC0tY29sb3IpLCAwLjE1KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5wbGFuZXQsXHJcbiAgICAubW9vbiB7XHJcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcclxuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gMWZyO1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgY29sdW1uLWdhcDogOHB4O1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxO1xyXG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcblxyXG4gICAgICAgIC5vZ3RpIHtcclxuICAgICAgICAgICAgZ3JpZC1yb3c6IGF1dG8gLyBzcGFuIDI7XHJcbiAgICAgICAgICAgIGdyaWQtY29sdW1uOiAxO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDM2cHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5wbGFuZXQge1xyXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDIsIDNmcikgcmVwZWF0KDIsIDJmcik7XHJcblxyXG4gICAgICAgICYtLWVtcHR5IHtcclxuICAgICAgICAgICAgZ3JpZC1jb2x1bW46IHZhcigtLXN0YXJ0KSAvIGNhbGMoMiArIHZhcigtLXBsYW5ldHMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLm1vb24ge1xyXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtcm93czogMWZyIDFmcjtcclxuICAgICAgICBkaXNwbGF5OiBjb250ZW50cztcclxuICAgICAgICBmb250LXNpemU6IDEwcHg7XHJcblxyXG4gICAgICAgID4gLm9ndGkge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgICAgICAgICAgIGp1c3RpZnktc2VsZjogZW5kO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZGF0ZS1jb2x1bW4ge1xyXG4gICAgICAgIGdyaWQtY29sdW1uOiAxO1xyXG4gICAgICAgIGdyaWQtcm93OiBhdXRvIC8gc3BhbiAyO1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICAuc2Nyb2xsZXIge1xyXG4gICAgICAgIGhlaWdodDogY2FsYygxcHggKiB2YXIoLS1vZmZzZXQpKTtcclxuICAgICAgICBncmlkLWNvbHVtbjogMTtcclxuICAgIH1cclxuPC9zdHlsZT4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vUGxheWVyUGxhbmV0c0FuZE1vb25zSGlzdG9yeS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9QbGF5ZXJQbGFuZXRzQW5kTW9vbnNIaXN0b3J5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vUGxheWVyUGxhbmV0c0FuZE1vb25zSGlzdG9yeS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YWUwZDc5NTImc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vUGxheWVyUGxhbmV0c0FuZE1vb25zSGlzdG9yeS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL1BsYXllclBsYW5ldHNBbmRNb29uc0hpc3RvcnkudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL1BsYXllclBsYW5ldHNBbmRNb29uc0hpc3RvcnkudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9YWUwZDc5NTImbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCJhZTBkNzk1MlwiLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXYgY2xhc3M9XCJoaXN0b3J5XCIgdi1pZj1cImhpc3RvcnlUcmFja2luZ0VuYWJsZWRcIj5cclxuICAgICAgICA8bG9hZGluZy1zcGlubmVyIHYtaWY9XCJkYXRhTW9kdWxlTG9hZGluZ1wiIC8+XHJcbiAgICAgICAgPHRlbXBsYXRlIHYtZWxzZT5cclxuICAgICAgICAgICAgPGdyaWQtdGFibGUgOmNvbHVtbnM9XCJ0YWJsZUNvbHVtbnNcIiA6aXRlbXM9XCJ0YWJsZUl0ZW1zXCIgY2xhc3M9XCJwbGF5ZXItc2VsZWN0aW9uLXRhYmxlXCI+XHJcbiAgICAgICAgICAgICAgICA8dGVtcGxhdGUgI2NlbGwtcGxheWVyPVwieyB2YWx1ZTogcGxheWVyIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1pZj1cInBsYXllciA9PSBudWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1tb2RlbD1cInNlbGVjdGVkUGxheWVyTmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6cGxhY2Vob2xkZXI9XCIkaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LnBsYXllclNlbGVjdGlvbi5zZWFyY2hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdD1cInBsYXllci1saXN0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjaGFuZ2U9XCJvblBsYXllclNlbGVjdGVkKCRldmVudC50YXJnZXQudmFsdWUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6IDEwMCVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGF0YWxpc3QgaWQ9XCJwbGF5ZXItbGlzdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2LWZvcj1cIihuYW1lLCBpKSBpbiBwbGF5ZXJOYW1lc1wiIDprZXk9XCJpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgbmFtZSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGF0YWxpc3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiB2LWVsc2UgY2xhc3M9XCJsaXN0LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gdi10ZXh0PVwicGxheWVyLm5hbWVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPC9ncmlkLXRhYmxlPlxyXG5cclxuICAgICAgICAgICAgPHRhYnMgOnRhYnM9XCJ0YWJzXCI+XHJcbiAgICAgICAgICAgICAgICA8dGVtcGxhdGUgI3RhYi1jb250ZW50LXN0YXR1cz5cclxuICAgICAgICAgICAgICAgICAgICA8c3RhdHVzLWhpc3RvcnktY2hhcnQgdi1pZj1cInBsYXllcklkICE9IG51bGxcIiA6cGxheWVySWQ9XCJwbGF5ZXJJZFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG5cclxuICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSAjdGFiLWNvbnRlbnQtbmlja25hbWU+XHJcbiAgICAgICAgICAgICAgICAgICAgPHBsYXllci1uYW1lLWhpc3RvcnktdGFibGUgdi1pZj1cInBsYXllcklkICE9IG51bGxcIiA6cGxheWVySWQ9XCJwbGF5ZXJJZFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG5cclxuICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSAjdGFiLWNvbnRlbnQtYWxsaWFuY2U+XHJcbiAgICAgICAgICAgICAgICAgICAgPHBsYXllci1hbGxpYW5jZS1oaXN0b3J5LXRhYmxlIHYtaWY9XCJwbGF5ZXJJZCAhPSBudWxsXCIgOnBsYXllcklkPVwicGxheWVySWRcIiAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuXHJcbiAgICAgICAgICAgICAgICA8dGVtcGxhdGUgI3RhYi1jb250ZW50LXBsYW5ldC1tb29ucz5cclxuICAgICAgICAgICAgICAgICAgICA8cGxheWVyLXBsYW5ldHMtYW5kLW1vb25zLWhpc3Rvcnkgdi1pZj1cInBsYXllcklkICE9IG51bGxcIiA6cGxheWVySWQ9XCJwbGF5ZXJJZFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L3RhYnM+XHJcbiAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgIDwvZGl2PlxyXG4gICAgPHVuaXZlcnNlLWhpc3RvcnktdHJhY2tpbmctc2V0dGluZ3Mgdi1lbHNlIC8+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG4gICAgaW1wb3J0IHsgT2dhbWVUcmFja2VyVW5pdmVyc2VIaXN0b3J5UGxheWVyQWxsaWFuY2UsIE9nYW1lVHJhY2tlclVuaXZlcnNlSGlzdG9yeVBsYXllck5hbWUsIE9nYW1lVHJhY2tlclVuaXZlcnNlSGlzdG9yeVBsYXllclN0YXRlIH0gZnJvbSAnQC9zaGFyZWQvZGIvc2NoZW1hL3VuaXZlcnNlLWhpc3RvcnknO1xyXG4gICAgaW1wb3J0IHsgcGFyc2VJbnRTYWZlIH0gZnJvbSAnQC9zaGFyZWQvdXRpbHMvcGFyc2VOdW1iZXJzJztcclxuICAgIGltcG9ydCB7IEdyaWRUYWJsZUNvbHVtbiB9IGZyb20gJ0Avdmlld3Mvc3RhdHMvY29tcG9uZW50cy9jb21tb24vR3JpZFRhYmxlLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBUYWIgfSBmcm9tICdAL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvY29tbW9uL1RhYnMudnVlJztcclxuICAgIGltcG9ydCB7IEdsb2JhbE9nYW1lTWV0YURhdGEgfSBmcm9tICdAL3ZpZXdzL3N0YXRzL2RhdGEvZ2xvYmFsJztcclxuICAgIGltcG9ydCB7IFNldHRpbmdzRGF0YU1vZHVsZSB9IGZyb20gJ0Avdmlld3Mvc3RhdHMvZGF0YS9TZXR0aW5nc0RhdGFNb2R1bGUnO1xyXG4gICAgaW1wb3J0IHsgVW5pdmVyc2VIaXN0b3J5RGF0YU1vZHVsZSwgVW5pdmVyc2VIaXN0b3J5UGxheWVyIH0gZnJvbSAnQC92aWV3cy9zdGF0cy9kYXRhL1VuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUnO1xyXG4gICAgaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBSZWYsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG4gICAgaW1wb3J0IFVuaXZlcnNlSGlzdG9yeVRyYWNraW5nU2V0dGluZ3MgZnJvbSAnQHN0YXRzL2NvbXBvbmVudHMvc2V0dGluZ3MvVW5pdmVyc2VIaXN0b3J5VHJhY2tpbmdTZXR0aW5ncy52dWUnO1xyXG4gICAgaW1wb3J0IFN0YXR1c0hpc3RvcnlDaGFydCBmcm9tICdAc3RhdHMvY29tcG9uZW50cy91bml2ZXJzZS1oaXN0b3J5L1N0YXR1c0hpc3RvcnlDaGFydC52dWUnO1xyXG4gICAgaW1wb3J0IFBsYXllck5hbWVIaXN0b3J5VGFibGUgZnJvbSAnQHN0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9QbGF5ZXJOYW1lSGlzdG9yeVRhYmxlLnZ1ZSc7XHJcbiAgICBpbXBvcnQgUGxheWVyQWxsaWFuY2VIaXN0b3J5VGFibGUgZnJvbSAnQHN0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9QbGF5ZXJBbGxpYW5jZUhpc3RvcnlUYWJsZS52dWUnO1xyXG4gICAgaW1wb3J0IFBsYXllclBsYW5ldHNBbmRNb29uc0hpc3RvcnkgZnJvbSAnQHN0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9QbGF5ZXJQbGFuZXRzQW5kTW9vbnNIaXN0b3J5LnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBVbml2ZXJzZVNwZWNpZmljU2V0dGluZ3NEYXRhTW9kdWxlIH0gZnJvbSAnQC92aWV3cy9zdGF0cy9kYXRhL1VuaXZlcnNlU3BlY2lmaWNTZXR0aW5nc0RhdGFNb2R1bGUnO1xyXG5cclxuICAgIEBDb21wb25lbnQoe1xyXG4gICAgICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICAgICAgVW5pdmVyc2VIaXN0b3J5VHJhY2tpbmdTZXR0aW5ncyxcclxuICAgICAgICAgICAgU3RhdHVzSGlzdG9yeUNoYXJ0LFxyXG4gICAgICAgICAgICBQbGF5ZXJOYW1lSGlzdG9yeVRhYmxlLFxyXG4gICAgICAgICAgICBQbGF5ZXJBbGxpYW5jZUhpc3RvcnlUYWJsZSxcclxuICAgICAgICAgICAgUGxheWVyUGxhbmV0c0FuZE1vb25zSGlzdG9yeSxcclxuICAgICAgICB9LFxyXG4gICAgfSlcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEhpc3RvcnkgZXh0ZW5kcyBWdWUge1xyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBoaXN0b3J5VHJhY2tpbmdFbmFibGVkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gU2V0dGluZ3NEYXRhTW9kdWxlLnNldHRpbmdzLnVuaXZlcnNlSGlzdG9yeS50cmFja0hpc3Rvcnk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCB0YWJsZUNvbHVtbnMoKTogR3JpZFRhYmxlQ29sdW1uPCdwbGF5ZXInPltdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFt7XHJcbiAgICAgICAgICAgICAgICBrZXk6ICdwbGF5ZXInLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS5wbGF5ZXJTZWxlY3Rpb24uaGVhZGVyLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyQ2xhc3M6ICdwbGF5ZXItc2VsZWN0aW9uLXRhYmxlLWNlbGwnLFxyXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdwbGF5ZXItc2VsZWN0aW9uLXRhYmxlLWNlbGwnLFxyXG4gICAgICAgICAgICB9XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IHRhYmxlSXRlbXMoKTogeyBwbGF5ZXI6IFVuaXZlcnNlSGlzdG9yeVBsYXllciB8IG51bGwgfVtdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHsgcGxheWVyOiBudWxsIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBsYXllcjogdGhpcy5zZWxlY3RlZFBsYXllciB9LFxyXG4gICAgICAgICAgICBdLmZpbHRlcigodmFsdWUsIGksIGFycmF5KSA9PiBhcnJheS5maW5kSW5kZXgodiA9PiB2LnBsYXllciA9PSB2YWx1ZS5wbGF5ZXIpID09IGkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgdGFicygpOiBUYWJbXSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnc3RhdHVzJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5Lmhpc3RvcnlUYWJzLnN0YXR1cyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnbmlja25hbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi51bml2ZXJzZUhpc3RvcnkuaGlzdG9yeVRhYnMubmlja25hbWVzLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdhbGxpYW5jZScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS5oaXN0b3J5VGFicy5hbGxpYW5jZXMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3BsYW5ldC1tb29ucycsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS5oaXN0b3J5VGFicy5wbGFuZXRBbmRNb29ucyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBzZWxlY3RlZFBsYXllcigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUucGxheWVycy5maW5kKHAgPT4gcC5pZCA9PSB0aGlzLnBsYXllcklkKSA/PyBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgcGxheWVySWQoKTogbnVtYmVyIHwgbnVsbCB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJJZCA9IHBhcnNlSW50U2FmZSh0aGlzLiRyb3V0ZS5xdWVyeS5wbGF5ZXIgYXMgc3RyaW5nIHwgbnVsbCA/PyAnJywgMTApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllcklkO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGRhdGFNb2R1bGVMb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICBwcml2YXRlIHNlbGVjdGVkUGxheWVyTmFtZSA9ICcnO1xyXG5cclxuICAgICAgICBwcml2YXRlIGFzeW5jIG1vdW50ZWQoKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IFVuaXZlcnNlU3BlY2lmaWNTZXR0aW5nc0RhdGFNb2R1bGUucmVhZHk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVkaXJlY3RUb0RlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YU1vZHVsZUxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBhd2FpdCBVbml2ZXJzZUhpc3RvcnlEYXRhTW9kdWxlLnJlYWR5O1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFNb2R1bGVMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGFzeW5jIHJlZGlyZWN0VG9EZWZhdWx0KCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJJZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRQbGF5ZXJJZCA9IFVuaXZlcnNlU3BlY2lmaWNTZXR0aW5nc0RhdGFNb2R1bGUuc2V0dGluZ3MudW5pdmVyc2VIaXN0b3J5LnBsYXllcnMuaGlzdG9yeVxyXG4gICAgICAgICAgICAgICAgPz8gR2xvYmFsT2dhbWVNZXRhRGF0YS5wbGF5ZXJJZDtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlUGxheWVySWRSb3V0ZShkZWZhdWx0UGxheWVySWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVTZXR0aW5ncyhwbGF5ZXJJZDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gVW5pdmVyc2VTcGVjaWZpY1NldHRpbmdzRGF0YU1vZHVsZS5zZXR0aW5ncztcclxuICAgICAgICAgICAgVW5pdmVyc2VTcGVjaWZpY1NldHRpbmdzRGF0YU1vZHVsZS51cGRhdGVTZXR0aW5ncyh7XHJcbiAgICAgICAgICAgICAgICAuLi5zZXR0aW5ncyxcclxuICAgICAgICAgICAgICAgIHVuaXZlcnNlSGlzdG9yeToge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnNldHRpbmdzLnVuaXZlcnNlSGlzdG9yeSxcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNldHRpbmdzLnVuaXZlcnNlSGlzdG9yeS5wbGF5ZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5OiBwbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGFzeW5jIHVwZGF0ZVBsYXllcklkUm91dGUoaWQ6IG51bWJlcikge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNldHRpbmdzKGlkKTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuJHJvdXRlci5yZXBsYWNlKHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyOiBpZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVkaXJlY3RUb0RlZmF1bHQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IHBsYXllck5hbWVzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gVW5pdmVyc2VIaXN0b3J5RGF0YU1vZHVsZS5wbGF5ZXJzXHJcbiAgICAgICAgICAgICAgICAubWFwKHBsYXllciA9PiBwbGF5ZXIubmFtZSlcclxuICAgICAgICAgICAgICAgIC5zb3J0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGFzeW5jIG9uUGxheWVyU2VsZWN0ZWQobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUucGxheWVycy5maW5kKHAgPT4gcC5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gbmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgaWYgKHBsYXllciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuJG5leHRUaWNrKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQbGF5ZXJOYW1lID0gJyc7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVBsYXllcklkUm91dGUocGxheWVyLmlkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbjwvc2NyaXB0PlxyXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XHJcbiAgICAuaGlzdG9yeSB7XHJcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcclxuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDIwMHB4IDFmcjtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB9XHJcblxyXG4gICAgLmxpc3Qge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIH1cclxuXHJcbiAgICAucGxheWVyLXNlbGVjdGlvbiB7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xyXG5cclxuICAgICAgICAmLXRhYmxlIHtcclxuICAgICAgICAgICAgaGVpZ2h0OiBmaXQtY29udGVudDtcclxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xyXG5cclxuICAgICAgICAgICAgJjo6di1kZWVwIHtcclxuICAgICAgICAgICAgICAgIC5wbGF5ZXItc2VsZWN0aW9uLXRhYmxlLWNlbGwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzdGFydDtcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSh2YXIoLS1jb2xvciksIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmRhdGUtcmFuZ2Uge1xyXG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0byAxZnI7XHJcbiAgICAgICAgZ2FwOiA0cHg7XHJcbiAgICB9XHJcbjwvc3R5bGU+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0hpc3RvcnkudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vSGlzdG9yeS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0hpc3RvcnkudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI2ODEzM2U4JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL0hpc3RvcnkudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9IaXN0b3J5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9IaXN0b3J5LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTI2ODEzM2U4Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMjY4MTMzZThcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwibmFtZXMiOlsiY29tcGFyZUNvb3JkaW5hdGVzIiwiYSIsImIiLCJrZXlzIiwia2V5IiwiZGlmZiIsImNvb3JkaW5hdGVzRXF1YWwiLCJyZW5kZXIiLCJfdm0iLCJ0aGlzIiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9jIiwiX3NlbGYiLCJzdGF0aWNDbGFzcyIsImF0dHJzIiwidGFibGVDb2x1bW5zIiwidGFibGVJdGVtcyIsInNjb3BlZFNsb3RzIiwiX3UiLCJmbiIsInJlZiIsInBsYXllciIsInZhbHVlIiwiZGlyZWN0aXZlcyIsIm5hbWUiLCJyYXdOYW1lIiwiZXhwcmVzc2lvbiIsInN0YXRpY1N0eWxlIiwiJGkxOG4iLCIkdCIsImV4dGVuc2lvbiIsInVuaXZlcnNlSGlzdG9yeSIsInBsYXllclNlbGVjdGlvbiIsInNlYXJjaCIsImRvbVByb3BzIiwib24iLCIkZXZlbnQiLCJvblBsYXllclNlbGVjdGVkIiwidGFyZ2V0IiwiY29tcG9zaW5nIiwic2VsZWN0ZWRQbGF5ZXJOYW1lIiwiX2wiLCJpIiwiX3YiLCJfcyIsInRhYnMiLCJwbGF5ZXJJZCIsIl9lIiwicHJveHkiLCJzdGF0aWNSZW5kZXJGbnMiLCJuYW1lSGlzdG9yeUNvbHVtbnMiLCJuYW1lSGlzdG9yeUl0ZW1zIiwiJGQiLCJ0b2RheSIsImNvbXBvbmVudCIsImFsbGlhbmNlSGlzdG9yeUNvbHVtbnMiLCJhbGxpYW5jZUhpc3RvcnlJdGVtcyIsIm5vQWxsaWFuY2UiLCJzdHlsZSIsImhpc3RvcnkiLCJjbGllbnRIZWlnaHQiLCJpdGVtIiwiZGF0ZSIsInBsYW5ldCIsImNsYXNzIiwibmV3Iiwic3RhdGUiLCJoYXNDaGFuZ2UiLCJjaGFuZ2UiLCJjb29yZGluYXRlcyIsImZvcm1hdENvb3JkcyIsIm1vb24iLCIkbiIsInNpemUiLCJpdGVtcyIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=