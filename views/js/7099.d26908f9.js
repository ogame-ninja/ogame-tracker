"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[7099],{4310:(e,t,s)=>{s.d(t,{Z:()=>b});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("grid-table",{staticClass:"ranged-stats-table",attrs:{columns:e.columns,items:e.rows,"footer-items":e.footerRows,"cell-class-provider":function(t){return e.getCellClass(t)}},scopedSlots:e._u([e._l(e.columns,(function(t,a){return{key:"cell-"+t.key,fn:function(n){var o=n.value,r=n.item;return[s("span",{key:t.key,staticClass:"ranged-stats-table-cell"},["label"==t.key?[null!=t.slotName&&null!=e.$scopedSlots[t.slotName]?e._t(t.slotName,null,{value:o}):s("span",{key:a,domProps:{textContent:e._s(o)}})]:"subLabel"==t.key?e._l(r.items,(function(a,n){return s("span",{key:n,class:a.labelClass},[null!=t.slotName&&null!=e.$scopedSlots[t.slotName]?e._t(t.slotName,null,{value:a.label}):s("span",{domProps:{textContent:e._s(a.label)}})],2)})):e._l(r.items||[r],(function(a,n){return s("span",{key:n,class:[e.getCellClass(a[t.key]),a.class]},[null!=t.formatter?s("span",{domProps:{textContent:e._s(t.formatter(a[t.key]))}}):s("span",{domProps:{textContent:e._s(a[t.key])}})])}))],2)]}}})),e._l(e.$scopedSlots,(function(t,s){return{key:s,fn:function(t){return[e._t(s,null,null,t)]}}}))],null,!0)})},n=[],o=s(655),r=s(4028),i=s(9858),l=s(6538),u=s(4749),m=s.n(u),c=s(917);let d=class extends r.w3{showPercentage;showAverage;items;footerItems;numberFormatOptions;averageNumberFormatOptions;dataItems;get hasGroupedItems(){return this.items.some((e=>"items"in e))}get dateRanges(){return c.V.settings.dateRanges}get dataItemsByRange(){const e=this.dataItems,t=this.dateRanges.map((()=>[]));return e.forEach((e=>{this.dateRanges.forEach(((s,a)=>{(0,i.m)(e.date,s)&&t[a].push(e)}))})),t}get firstDay(){return this.dataItemsByRange.reduce(((e,t)=>Math.min(e,Math.min(...t.map((e=>e.date))))),Date.now())}get columns(){const e=[{key:"label",label:"",slotName:"label"}];return this.hasGroupedItems&&e.push({key:"subLabel",label:"",slotName:"subLabel"}),e.push(...this.dateRanges.map(((e,t)=>({key:t,label:e.label??this.$i18n.$t.extension.settings.dateRanges.since(this.$i18n.$d(this.firstDay,"date")),formatter:e=>this.$i18n.$n(e,this.numberFormatOptions)})))),this.showAverage&&e.push({key:"average",label:this.$i18n.$t.extension.common.averagePerDay,formatter:e=>this.$i18n.$n(e,this.averageNumberFormatOptions??this.numberFormatOptions)}),this.showPercentage&&e.push({key:"percentage",label:"%",formatter:e=>""!=e?this.$i18n.$n(e,{minimumFractionDigits:3,maximumFractionDigits:3}):e}),e}get rows(){const e=this.dataItemsByRange,t=this.dateRanges.findIndex((e=>"all"==e.type))??(0,l.A)("failed to find range 'all'"),s=e[t].map((e=>m()(e.date).getTime())),a=new Set(s).size,n=Math.max(1,this.items.map((s=>"getValue"in s?s.getValue(e[t]):s.items.reduce(((s,a)=>s+a.getValue(e[t])),0))).reduce(((e,t)=>e+t),0));return this.items.map((s=>this.mapItemToRow(s,e,t,a,n)))}mapItemToRow(e,t,s,a,n){if("getValue"in e){const o={label:e.label,class:e.class,labelClass:e.labelClass,...this.dateRanges.map(((s,a)=>e.getValue(t[a])))},r=o[s];return this.showAverage&&(o.average=r/Math.max(1,a)),this.showPercentage&&(o.percentage=100*r/n),o}return{label:e.label,items:e.items.map((e=>this.mapItemToRow(e,t,s,a,n)))}}get footerRows(){const e=this.dataItemsByRange,t=this.dateRanges.findIndex((e=>"all"==e.type))??(0,l.A)("failed to find range 'all'"),s=e[t].map((e=>m()(e.date).getTime())),a=new Set(s).size;return this.footerItems.map((s=>{const n={label:s.label,...this.dateRanges.map(((t,a)=>"getValue"in s?s.getValue(e[a]):s.items.reduce(((t,s)=>t+s.getValue(e[a])),0))),percentage:""};if(this.showAverage){const e=n[t];n.average=e/Math.max(1,a)}return n}))}getCellClass(e){return 0==e?"fade-value":""}};(0,o.gn)([(0,r.fI)({required:!1,type:Boolean})],d.prototype,"showPercentage",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Boolean})],d.prototype,"showAverage",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Array})],d.prototype,"items",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Array,default:()=>[]})],d.prototype,"footerItems",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Object,default:void 0})],d.prototype,"numberFormatOptions",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Object,default:void 0})],d.prototype,"averageNumberFormatOptions",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Array})],d.prototype,"dataItems",void 0),d=(0,o.gn)([(0,r.wA)({})],d);const g=d,p=g;var f=s(1001),h=(0,f.Z)(p,a,n,!1,null,"1526beca",null);const b=h.exports},3544:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table-container"},[s("ranged-stats-table",{attrs:{dataItems:e.missions,items:e.items,footerItems:e.footerItems,"show-percentage":""},scopedSlots:e._u([{key:"cell-label",fn:function(t){var a=t.value;return[s("span",{domProps:{textContent:e._s(a)}}),a==e.$i18n.$t.extension.empire.lifeforms.artifactFindingSizes.small?s("span",{staticClass:"mdi mdi-hexagon-slice-1",style:{color:e.colors.small}}):a==e.$i18n.$t.extension.empire.lifeforms.artifactFindingSizes.medium?s("span",{staticClass:"mdi mdi-hexagon-slice-3",style:{color:e.colors.medium}}):a==e.$i18n.$t.extension.empire.lifeforms.artifactFindingSizes.large?s("span",{staticClass:"mdi mdi-hexagon-slice-5",style:{color:e.colors.large}}):a==e.$i18n.$t.extension.empire.lifeforms.artifactFindingSizes.storageFull?s("span",{staticClass:"mdi mdi-hexagon-outline",style:{color:e.colors.storageFull}}):e._e()]}}])}),s("floating-menu",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(){return[s("button",{on:{click:function(t){e.showSettings=!e.showSettings}}},[s("span",{staticClass:"mdi mdi-cog"})])]},proxy:!0}]),model:{value:e.showSettings,callback:function(t){e.showSettings=t},expression:"showSettings"}},[s("date-range-settings")],1)],1)},n=[],o=s(655),r=s(4028),i=s(4310),l=s(4329),u=s(917),m=s(6903),c=s(612);let d=class extends r.w3{showSettings=!1;get colors(){return u.V.settings.colors.lifeformDiscoveries.artifactFindingSizes}get missions(){return m.F.dailyResultsArray}get items(){return c.b.map((e=>({label:this.$i18n.$t.extension.empire.lifeforms.artifactFindingSizes[e],getValue:t=>t.reduce(((t,s)=>t+s.artifactSizes[e]),0)})))}get footerItems(){return[{label:this.$i18n.$t.extension.common.sum,getValue:e=>e.reduce(((e,t)=>e+t.events.artifacts),0)}]}};d=(0,o.gn)([(0,r.wA)({components:{RangedStatsTable:i.Z,DateRangeSettings:l.Z}})],d);const g=d,p=g;var f=s(1001),h=(0,f.Z)(p,a,n,!1,null,"33bece10",null);const b=h.exports},8734:(e,t)=>{function s(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s,e.exports=t.default},4749:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=o(s(1171)),n=o(s(8734));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){(0,n.default)(1,arguments);var t=(0,a.default)(e);return t.setHours(0,0,0,0),t}e.exports=t.default},1171:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(s(8734));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){(0,a.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}e.exports=t.default}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFFdkQsSUFBSUksS0FBS0wsRUFBU00sV0FDSSxrQkFBYk4sR0FBb0Msb0JBQVhDLEVBQ2xDLElBQUlJLEtBQUtMLElBRVMsa0JBQWJBLEdBQW9DLG9CQUFYQyxHQUFvRCxxQkFBWk0sVUFFM0VBLFFBQVFDLEtBQUssb0pBRWJELFFBQVFDLE1BQUssSUFBSUMsT0FBUUMsUUFHcEIsSUFBSUwsS0FBS00sTUFJcEJ4QixFQUFPRCxRQUFVQSxFQUFRRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3N0YXRzL1JhbmdlZFN0YXRzVGFibGUudnVlPzgxZGMiLCJ3ZWJwYWNrOi8vL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3N0YXRzL1JhbmdlZFN0YXRzVGFibGUudnVlPzU3OTciLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvc3RhdHMvUmFuZ2VkU3RhdHNUYWJsZS52dWU/Zjc1YSIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy9zdGF0cy9SYW5nZWRTdGF0c1RhYmxlLnZ1ZT83MGFjIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy9saWZlZm9ybXMvZGlzY292ZXJpZXMvYXJ0aWZhY3RzL3NpemVzL1RhYmxlLnZ1ZT80YzQ1Iiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL2Rpc2NvdmVyaWVzL2FydGlmYWN0cy9zaXplcy9UYWJsZS52dWU/YmFjZCIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL2Rpc2NvdmVyaWVzL2FydGlmYWN0cy9zaXplcy9UYWJsZS52dWU/NmJhNSIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL2Rpc2NvdmVyaWVzL2FydGlmYWN0cy9zaXplcy9UYWJsZS52dWU/MTg2NiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanM/Mjk1YiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZkRheS9pbmRleC5qcz85MWExIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy90b0RhdGUvaW5kZXguanM/YWQ2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZ3JpZC10YWJsZScse3N0YXRpY0NsYXNzOlwicmFuZ2VkLXN0YXRzLXRhYmxlXCIsYXR0cnM6e1wiY29sdW1uc1wiOl92bS5jb2x1bW5zLFwiaXRlbXNcIjpfdm0ucm93cyxcImZvb3Rlci1pdGVtc1wiOl92bS5mb290ZXJSb3dzLFwiY2VsbC1jbGFzcy1wcm92aWRlclwiOmZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gX3ZtLmdldENlbGxDbGFzcyh2YWx1ZSk7IH19LHNjb3BlZFNsb3RzOl92bS5fdShbX3ZtLl9sKChfdm0uY29sdW1ucyksZnVuY3Rpb24oY29sdW1uLGkpe3JldHVybiB7a2V5OihcImNlbGwtXCIgKyAoY29sdW1uLmtleSkpLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgdmFsdWUgPSByZWYudmFsdWU7XG52YXIgaXRlbSA9IHJlZi5pdGVtO1xucmV0dXJuIFtfYygnc3Bhbicse2tleTpjb2x1bW4ua2V5LHN0YXRpY0NsYXNzOlwicmFuZ2VkLXN0YXRzLXRhYmxlLWNlbGxcIn0sWyhjb2x1bW4ua2V5ID09ICdsYWJlbCcpP1soY29sdW1uLnNsb3ROYW1lICE9IG51bGwgJiYgX3ZtLiRzY29wZWRTbG90c1tjb2x1bW4uc2xvdE5hbWVdICE9IG51bGwpP192bS5fdChjb2x1bW4uc2xvdE5hbWUsbnVsbCx7XCJ2YWx1ZVwiOnZhbHVlfSk6X2MoJ3NwYW4nLHtrZXk6aSxkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyh2YWx1ZSl9fSldOihjb2x1bW4ua2V5ID09ICdzdWJMYWJlbCcpP192bS5fbCgoaXRlbS5pdGVtcyksZnVuY3Rpb24oaXRlbSxpKXtyZXR1cm4gX2MoJ3NwYW4nLHtrZXk6aSxjbGFzczppdGVtLmxhYmVsQ2xhc3N9LFsoY29sdW1uLnNsb3ROYW1lICE9IG51bGwgJiYgX3ZtLiRzY29wZWRTbG90c1tjb2x1bW4uc2xvdE5hbWVdICE9IG51bGwpP192bS5fdChjb2x1bW4uc2xvdE5hbWUsbnVsbCx7XCJ2YWx1ZVwiOml0ZW0ubGFiZWx9KTpfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKGl0ZW0ubGFiZWwpfX0pXSwyKX0pOl92bS5fbCgoaXRlbS5pdGVtcyB8fCBbaXRlbV0pLGZ1bmN0aW9uKGl0ZW0saSl7cmV0dXJuIF9jKCdzcGFuJyx7a2V5OmksY2xhc3M6W192bS5nZXRDZWxsQ2xhc3MoaXRlbVtjb2x1bW4ua2V5XSksIGl0ZW0uY2xhc3NdfSxbKGNvbHVtbi5mb3JtYXR0ZXIgIT0gbnVsbCk/X2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhjb2x1bW4uZm9ybWF0dGVyKGl0ZW1bY29sdW1uLmtleV0pKX19KTpfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKGl0ZW1bY29sdW1uLmtleV0pfX0pXSl9KV0sMildfX19KSxfdm0uX2woKF92bS4kc2NvcGVkU2xvdHMpLGZ1bmN0aW9uKGluZGV4LG5hbWUpe3JldHVybiB7a2V5Om5hbWUsZm46ZnVuY3Rpb24oZGF0YSl7cmV0dXJuIFtfdm0uX3QobmFtZSxudWxsLG51bGwsZGF0YSldfX19KV0sbnVsbCx0cnVlKX0pfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XHJcbiAgICA8Z3JpZC10YWJsZSA6Y29sdW1ucz1cImNvbHVtbnNcIiA6aXRlbXM9XCJyb3dzXCIgOmZvb3Rlci1pdGVtcz1cImZvb3RlclJvd3NcIiA6Y2VsbC1jbGFzcy1wcm92aWRlcj1cIih2YWx1ZSkgPT4gZ2V0Q2VsbENsYXNzKHZhbHVlKVwiIGNsYXNzPVwicmFuZ2VkLXN0YXRzLXRhYmxlXCI+XHJcbiAgICAgICAgPCEtLSBvaCBnb2QgdGhpcyBpcyB1Z2x5IC0tPlxyXG4gICAgICAgIDx0ZW1wbGF0ZSB2LWZvcj1cIihjb2x1bW4sIGkpIGluIGNvbHVtbnNcIiB2LXNsb3Q6W2BjZWxsLSR7Y29sdW1uLmtleX1gXT1cInsgdmFsdWUsIGl0ZW0gfVwiPlxyXG4gICAgICAgICAgICA8c3BhbiA6a2V5PVwiY29sdW1uLmtleVwiIGNsYXNzPVwicmFuZ2VkLXN0YXRzLXRhYmxlLWNlbGxcIj5cclxuICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwiY29sdW1uLmtleSA9PSAnbGFiZWwnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNsb3Qgdi1pZj1cImNvbHVtbi5zbG90TmFtZSAhPSBudWxsICYmICRzY29wZWRTbG90c1tjb2x1bW4uc2xvdE5hbWVdICE9IG51bGxcIiA6bmFtZT1cImNvbHVtbi5zbG90TmFtZVwiIDp2YWx1ZT1cInZhbHVlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LWVsc2UgOmtleT1cImlcIiB2LXRleHQ9XCJ2YWx1ZVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cImNvbHVtbi5rZXkgPT0gJ3N1YkxhYmVsJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtZm9yPVwiKGl0ZW0sIGkpIGluIGl0ZW0uaXRlbXNcIiA6a2V5PVwiaVwiIDpjbGFzcz1cIml0ZW0ubGFiZWxDbGFzc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCB2LWlmPVwiY29sdW1uLnNsb3ROYW1lICE9IG51bGwgJiYgJHNjb3BlZFNsb3RzW2NvbHVtbi5zbG90TmFtZV0gIT0gbnVsbFwiIDpuYW1lPVwiY29sdW1uLnNsb3ROYW1lXCIgOnZhbHVlPVwiaXRlbS5sYWJlbFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtZWxzZSB2LXRleHQ9XCJpdGVtLmxhYmVsXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LWZvcj1cIihpdGVtLCBpKSBpbiBpdGVtLml0ZW1zIHx8IFtpdGVtXVwiIDprZXk9XCJpXCIgOmNsYXNzPVwiW2dldENlbGxDbGFzcyhpdGVtW2NvbHVtbi5rZXldKSwgaXRlbS5jbGFzc11cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gdi1pZj1cImNvbHVtbi5mb3JtYXR0ZXIgIT0gbnVsbFwiIHYtdGV4dD1cImNvbHVtbi5mb3JtYXR0ZXIoaXRlbVtjb2x1bW4ua2V5XSlcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LWVsc2Ugdi10ZXh0PVwiaXRlbVtjb2x1bW4ua2V5XVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDwvdGVtcGxhdGU+XHJcblxyXG4gICAgICAgIDx0ZW1wbGF0ZSB2LWZvcj1cIihpbmRleCwgbmFtZSkgaW4gJHNjb3BlZFNsb3RzXCIgdi1zbG90OltuYW1lXT1cImRhdGFcIj5cclxuICAgICAgICAgICAgPHNsb3QgOm5hbWU9XCJuYW1lXCIgdi1iaW5kPVwiZGF0YVwiIC8+XHJcbiAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgIDwvZ3JpZC10YWJsZT5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgeyBQcm9wVHlwZSB9IGZyb20gJ3Z1ZSc7XHJcbiAgICBpbXBvcnQgeyBQcm9wIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7XHJcbiAgICBpbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG4gICAgaW1wb3J0IHsgR3JpZFRhYmxlQ29sdW1uIH0gZnJvbSAnQHN0YXRzL2NvbXBvbmVudHMvY29tbW9uL0dyaWRUYWJsZS52dWUnO1xyXG4gICAgaW1wb3J0IHsgaXNJblJhbmdlIH0gZnJvbSAnQHN0YXRzL3V0aWxzL2RhdGVSYW5nZXMnO1xyXG4gICAgaW1wb3J0IHsgX3Rocm93IH0gZnJvbSAnQC9zaGFyZWQvdXRpbHMvX3Rocm93JztcclxuICAgIGltcG9ydCBzdGFydE9mRGF5IGZyb20gJ2RhdGUtZm5zL3N0YXJ0T2ZEYXkvaW5kZXgnO1xyXG4gICAgaW1wb3J0IHsgU2V0dGluZ3NEYXRhTW9kdWxlIH0gZnJvbSAnLi4vLi4vZGF0YS9TZXR0aW5nc0RhdGFNb2R1bGUnO1xyXG5cclxuICAgIGludGVyZmFjZSBSYW5nZVN0YXRzVGFibGVJdGVtV2l0aERhdGUge1xyXG4gICAgICAgIGRhdGU6IG51bWJlcjtcclxuICAgIH1cclxuXHJcbiAgICBpbnRlcmZhY2UgU2luZ2xlUmFuZ2VkU3RhdHNUYWJsZUl0ZW08VCBleHRlbmRzIFJhbmdlU3RhdHNUYWJsZUl0ZW1XaXRoRGF0ZT4ge1xyXG4gICAgICAgIGxhYmVsOiBzdHJpbmc7XHJcbiAgICAgICAgZ2V0VmFsdWU6IChpdGVtczogVFtdKSA9PiBudW1iZXI7XHJcbiAgICAgICAgY2xhc3M/OiBzdHJpbmc7XHJcbiAgICAgICAgbGFiZWxDbGFzcz86IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBpbnRlcmZhY2UgR3JvdXBlZFJhbmdlZFN0YXRzVGFibGVJdGVtPFQgZXh0ZW5kcyBSYW5nZVN0YXRzVGFibGVJdGVtV2l0aERhdGU+IHtcclxuICAgICAgICBsYWJlbDogc3RyaW5nO1xyXG4gICAgICAgIGl0ZW1zOiBTaW5nbGVSYW5nZWRTdGF0c1RhYmxlSXRlbTxUPltdO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCB0eXBlIFJhbmdlZFN0YXRzVGFibGVJdGVtPFQgZXh0ZW5kcyBSYW5nZVN0YXRzVGFibGVJdGVtV2l0aERhdGU+ID0gU2luZ2xlUmFuZ2VkU3RhdHNUYWJsZUl0ZW08VD4gfCBHcm91cGVkUmFuZ2VkU3RhdHNUYWJsZUl0ZW08VD47XHJcblxyXG4gICAgaW50ZXJmYWNlIFNpbXBsZVJhbmdlZFN0YXRzVGFibGVSb3cge1xyXG4gICAgICAgIGxhYmVsOiBzdHJpbmc7XHJcbiAgICAgICAgcGVyY2VudGFnZT86IG51bWJlciB8ICcnO1xyXG4gICAgICAgIGF2ZXJhZ2U/OiBudW1iZXI7XHJcblxyXG4gICAgICAgIFtpbmRleDogbnVtYmVyXTogbnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIGludGVyZmFjZSBHcm91cGVkUmFuZ2VkU3RhdHNUYWJsZVJvdyB7XHJcbiAgICAgICAgbGFiZWw6IHN0cmluZztcclxuICAgICAgICBpdGVtczogU2ltcGxlUmFuZ2VkU3RhdHNUYWJsZVJvd1tdO1xyXG4gICAgfVxyXG5cclxuICAgIHR5cGUgUmFuZ2VkU3RhdHNUYWJsZVJvdyA9IFNpbXBsZVJhbmdlZFN0YXRzVGFibGVSb3cgfCBHcm91cGVkUmFuZ2VkU3RhdHNUYWJsZVJvdztcclxuXHJcbiAgICBpbnRlcmZhY2UgUmFuZ2VTdGF0c1RhYmxlQ29sdW1uIGV4dGVuZHMgR3JpZFRhYmxlQ29sdW1uPGtleW9mIFNpbXBsZVJhbmdlZFN0YXRzVGFibGVSb3cgfCAnc3ViTGFiZWwnIHwgbnVtYmVyPiB7XHJcbiAgICAgICAgc2xvdE5hbWU/OiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgQENvbXBvbmVudCh7fSlcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhbmdlZFN0YXRzVGFibGU8VCBleHRlbmRzIFJhbmdlU3RhdHNUYWJsZUl0ZW1XaXRoRGF0ZT4gZXh0ZW5kcyBWdWUge1xyXG5cclxuICAgICAgICBAUHJvcCh7IHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogQm9vbGVhbiB9KVxyXG4gICAgICAgIHByaXZhdGUgc2hvd1BlcmNlbnRhZ2UhOiBib29sZWFuO1xyXG5cclxuICAgICAgICBAUHJvcCh7IHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogQm9vbGVhbiB9KVxyXG4gICAgICAgIHByaXZhdGUgc2hvd0F2ZXJhZ2UhOiBib29sZWFuO1xyXG5cclxuICAgICAgICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBBcnJheSBhcyBQcm9wVHlwZTxSYW5nZWRTdGF0c1RhYmxlSXRlbTxUPltdPiB9KVxyXG4gICAgICAgIHByaXZhdGUgaXRlbXMhOiBSYW5nZWRTdGF0c1RhYmxlSXRlbTxUPltdO1xyXG5cclxuICAgICAgICBAUHJvcCh7IHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogQXJyYXkgYXMgUHJvcFR5cGU8UmFuZ2VkU3RhdHNUYWJsZUl0ZW08VD5bXT4sIGRlZmF1bHQ6ICgpID0+IFtdIH0pXHJcbiAgICAgICAgcHJpdmF0ZSBmb290ZXJJdGVtcyE6IFJhbmdlZFN0YXRzVGFibGVJdGVtPFQ+W107XHJcblxyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBPYmplY3QgYXMgUHJvcFR5cGU8SW50bC5OdW1iZXJGb3JtYXRPcHRpb25zPiwgZGVmYXVsdDogdW5kZWZpbmVkIH0pXHJcbiAgICAgICAgcHJpdmF0ZSBudW1iZXJGb3JtYXRPcHRpb25zOiBJbnRsLk51bWJlckZvcm1hdE9wdGlvbnMgfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBPYmplY3QgYXMgUHJvcFR5cGU8SW50bC5OdW1iZXJGb3JtYXRPcHRpb25zPiwgZGVmYXVsdDogdW5kZWZpbmVkIH0pXHJcbiAgICAgICAgcHJpdmF0ZSBhdmVyYWdlTnVtYmVyRm9ybWF0T3B0aW9uczogSW50bC5OdW1iZXJGb3JtYXRPcHRpb25zIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBBcnJheSBhcyBQcm9wVHlwZTxUW10+IH0pXHJcbiAgICAgICAgcHJpdmF0ZSBkYXRhSXRlbXMhOiBUW107XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGhhc0dyb3VwZWRJdGVtcygpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuc29tZShpdGVtID0+ICdpdGVtcycgaW4gaXRlbSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBkYXRlUmFuZ2VzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gU2V0dGluZ3NEYXRhTW9kdWxlLnNldHRpbmdzLmRhdGVSYW5nZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBkYXRhSXRlbXNCeVJhbmdlKCk6IFRbXVtdIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW1zID0gdGhpcy5kYXRhSXRlbXM7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtc0J5UmFuZ2U6IFRbXVtdID0gdGhpcy5kYXRlUmFuZ2VzLm1hcCgoKSA9PiBbXSk7XHJcblxyXG4gICAgICAgICAgICBkYXRhSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0ZVJhbmdlcy5mb3JFYWNoKChyYW5nZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0luUmFuZ2UoaXRlbS5kYXRlLCByYW5nZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW1zQnlSYW5nZVtpXS5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhSXRlbXNCeVJhbmdlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgZmlyc3REYXkoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFJdGVtc0J5UmFuZ2UucmVkdWNlKChhY2MsIGN1cikgPT4gTWF0aC5taW4oXHJcbiAgICAgICAgICAgICAgICBhY2MsXHJcbiAgICAgICAgICAgICAgICBNYXRoLm1pbiguLi5jdXIubWFwKHQgPT4gdC5kYXRlKSksXHJcbiAgICAgICAgICAgICksIERhdGUubm93KCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgY29sdW1ucygpOiBSYW5nZVN0YXRzVGFibGVDb2x1bW5bXSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbnM6IFJhbmdlU3RhdHNUYWJsZUNvbHVtbltdID0gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2xhYmVsJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xvdE5hbWU6ICdsYWJlbCcsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc0dyb3VwZWRJdGVtcykge1xyXG4gICAgICAgICAgICAgICAgY29sdW1ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdzdWJMYWJlbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsb3ROYW1lOiAnc3ViTGFiZWwnLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbHVtbnMucHVzaCguLi50aGlzLmRhdGVSYW5nZXMubWFwKChyYW5nZSwgaSkgPT4gKHtcclxuICAgICAgICAgICAgICAgIGtleTogaSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiByYW5nZS5sYWJlbCA/PyB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5zZXR0aW5ncy5kYXRlUmFuZ2VzLnNpbmNlKHRoaXMuJGkxOG4uJGQodGhpcy5maXJzdERheSwgJ2RhdGUnKSksXHJcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6ICh2YWx1ZTogbnVtYmVyKSA9PiB0aGlzLiRpMThuLiRuKHZhbHVlLCB0aGlzLm51bWJlckZvcm1hdE9wdGlvbnMpLFxyXG4gICAgICAgICAgICB9KSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0F2ZXJhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnYXZlcmFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmNvbW1vbi5hdmVyYWdlUGVyRGF5LFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogKHZhbHVlOiBudW1iZXIpID0+IHRoaXMuJGkxOG4uJG4odmFsdWUsIHRoaXMuYXZlcmFnZU51bWJlckZvcm1hdE9wdGlvbnMgPz8gdGhpcy5udW1iZXJGb3JtYXRPcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dQZXJjZW50YWdlKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3BlcmNlbnRhZ2UnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnJScsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyOiAodmFsdWU6IG51bWJlciB8ICcnKSA9PiB2YWx1ZSAhPSAnJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuJGkxOG4uJG4odmFsdWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW5zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgcm93cygpOiAoUmFuZ2VkU3RhdHNUYWJsZVJvdyAmIHsgY2xhc3M/OiBzdHJpbmcgfSlbXSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtc0J5UmFuZ2UgPSB0aGlzLmRhdGFJdGVtc0J5UmFuZ2U7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhbGxSYW5nZUluZGV4ID0gdGhpcy5kYXRlUmFuZ2VzLmZpbmRJbmRleChyYW5nZSA9PiByYW5nZS50eXBlID09ICdhbGwnKVxyXG4gICAgICAgICAgICAgICAgPz8gX3Rocm93KGBmYWlsZWQgdG8gZmluZCByYW5nZSAnYWxsJ2ApO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhSXRlbURheXMgPSBkYXRhSXRlbXNCeVJhbmdlW2FsbFJhbmdlSW5kZXhdLm1hcChleHBvID0+IHN0YXJ0T2ZEYXkoZXhwby5kYXRlKS5nZXRUaW1lKCkpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXlzV2l0aERhdGFJdGVtcyA9IG5ldyBTZXQoZGF0YUl0ZW1EYXlzKS5zaXplO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdG90YWxWYWx1ZSA9IE1hdGgubWF4KDEsIHRoaXMuaXRlbXNcclxuICAgICAgICAgICAgICAgIC5tYXAoaXRlbSA9PiAnZ2V0VmFsdWUnIGluIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICA/IGl0ZW0uZ2V0VmFsdWUoZGF0YUl0ZW1zQnlSYW5nZVthbGxSYW5nZUluZGV4XSlcclxuICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uaXRlbXMucmVkdWNlKChhY2MsIGkpID0+IGFjYyArIGkuZ2V0VmFsdWUoZGF0YUl0ZW1zQnlSYW5nZVthbGxSYW5nZUluZGV4XSksIDApXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICsgY3VyLCAwKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubWFwKGl0ZW0gPT4gdGhpcy5tYXBJdGVtVG9Sb3coaXRlbSwgZGF0YUl0ZW1zQnlSYW5nZSwgYWxsUmFuZ2VJbmRleCwgZGF5c1dpdGhEYXRhSXRlbXMsIHRvdGFsVmFsdWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgbWFwSXRlbVRvUm93KGl0ZW06IFJhbmdlZFN0YXRzVGFibGVJdGVtPFQ+LCBkYXRhSXRlbXNCeVJhbmdlOiBUW11bXSwgYWxsUmFuZ2VJbmRleDogbnVtYmVyLCBkYXlzV2l0aERhdGFJdGVtczogbnVtYmVyLCB0b3RhbFZhbHVlOiBudW1iZXIpOiAoUmFuZ2VkU3RhdHNUYWJsZVJvdyAmIHsgY2xhc3M/OiBzdHJpbmc7IGxhYmVsQ2xhc3M/OiBzdHJpbmcgfSkge1xyXG4gICAgICAgICAgICBpZiAoJ2dldFZhbHVlJyBpbiBpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByb3c6IFNpbXBsZVJhbmdlZFN0YXRzVGFibGVSb3cgJiB7IGNsYXNzPzogc3RyaW5nOyBsYWJlbENsYXNzPzogc3RyaW5nIH0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubGFiZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IGl0ZW0uY2xhc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzczogaXRlbS5sYWJlbENsYXNzLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmRhdGVSYW5nZXMubWFwKChfLCByYW5nZUluZGV4KSA9PiBpdGVtLmdldFZhbHVlKGRhdGFJdGVtc0J5UmFuZ2VbcmFuZ2VJbmRleF0pKSxcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYWxsUmFuZ2VWYWx1ZSA9IHJvd1thbGxSYW5nZUluZGV4XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93QXZlcmFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdy5hdmVyYWdlID0gYWxsUmFuZ2VWYWx1ZSAvIE1hdGgubWF4KDEsIGRheXNXaXRoRGF0YUl0ZW1zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93UGVyY2VudGFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdy5wZXJjZW50YWdlID0gMTAwICogYWxsUmFuZ2VWYWx1ZSAvIHRvdGFsVmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcm93O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubGFiZWwsXHJcbiAgICAgICAgICAgICAgICBpdGVtczogaXRlbS5pdGVtcy5tYXAoc3ViaXRlbSA9PiB0aGlzLm1hcEl0ZW1Ub1JvdyhzdWJpdGVtLCBkYXRhSXRlbXNCeVJhbmdlLCBhbGxSYW5nZUluZGV4LCBkYXlzV2l0aERhdGFJdGVtcywgdG90YWxWYWx1ZSkgYXMgU2ltcGxlUmFuZ2VkU3RhdHNUYWJsZVJvdyAmIHsgY2xhc3M/OiBzdHJpbmc7IGxhYmVsQ2xhc3M/OiBzdHJpbmcgfSksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBmb290ZXJSb3dzKCk6IFJhbmdlZFN0YXRzVGFibGVSb3dbXSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtc0J5UmFuZ2UgPSB0aGlzLmRhdGFJdGVtc0J5UmFuZ2U7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhbGxSYW5nZUluZGV4ID0gdGhpcy5kYXRlUmFuZ2VzLmZpbmRJbmRleChyYW5nZSA9PiByYW5nZS50eXBlID09ICdhbGwnKVxyXG4gICAgICAgICAgICAgICAgPz8gX3Rocm93KGBmYWlsZWQgdG8gZmluZCByYW5nZSAnYWxsJ2ApO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhSXRlbURheXMgPSBkYXRhSXRlbXNCeVJhbmdlW2FsbFJhbmdlSW5kZXhdLm1hcChleHBvID0+IHN0YXJ0T2ZEYXkoZXhwby5kYXRlKS5nZXRUaW1lKCkpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXlzV2l0aERhdGFJdGVtcyA9IG5ldyBTZXQoZGF0YUl0ZW1EYXlzKS5zaXplO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9vdGVySXRlbXMubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgcm93OiBSYW5nZWRTdGF0c1RhYmxlUm93ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtLmxhYmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZGF0ZVJhbmdlcy5tYXAoKF8sIHJhbmdlSW5kZXgpID0+ICdnZXRWYWx1ZScgaW4gaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGl0ZW0uZ2V0VmFsdWUoZGF0YUl0ZW1zQnlSYW5nZVtyYW5nZUluZGV4XSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLml0ZW1zLnJlZHVjZSgoYWNjLCBpKSA9PiBhY2MgKyBpLmdldFZhbHVlKGRhdGFJdGVtc0J5UmFuZ2VbcmFuZ2VJbmRleF0pLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogJycsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dBdmVyYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsUmFuZ2VWYWx1ZSA9IHJvd1thbGxSYW5nZUluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICByb3cuYXZlcmFnZSA9IGFsbFJhbmdlVmFsdWUgLyBNYXRoLm1heCgxLCBkYXlzV2l0aERhdGFJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvdztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldENlbGxDbGFzcyh2YWx1ZTogYW55KTogc3RyaW5nIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnZmFkZS12YWx1ZSc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbjwvc2NyaXB0PlxyXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XHJcbiAgICAuZ3JpZC10YWJsZSB7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcblxyXG4gICAgICAgICY6OnYtZGVlcCAuZmFkZS12YWx1ZSB7XHJcbiAgICAgICAgICAgIGNvbG9yOiByZ2JhKHdoaXRlLCAwLjEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAucmFuZ2VkLXN0YXRzLXRhYmxlLWNlbGwge1xyXG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB9XHJcbjwvc3R5bGU+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1JhbmdlZFN0YXRzVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vUmFuZ2VkU3RhdHNUYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL1JhbmdlZFN0YXRzVGFibGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTE1MjZiZWNhJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL1JhbmdlZFN0YXRzVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9SYW5nZWRTdGF0c1RhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9SYW5nZWRTdGF0c1RhYmxlLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTE1MjZiZWNhJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMTUyNmJlY2FcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ0YWJsZS1jb250YWluZXJcIn0sW19jKCdyYW5nZWQtc3RhdHMtdGFibGUnLHthdHRyczp7XCJkYXRhSXRlbXNcIjpfdm0ubWlzc2lvbnMsXCJpdGVtc1wiOl92bS5pdGVtcyxcImZvb3Rlckl0ZW1zXCI6X3ZtLmZvb3Rlckl0ZW1zLFwic2hvdy1wZXJjZW50YWdlXCI6XCJcIn0sc2NvcGVkU2xvdHM6X3ZtLl91KFt7a2V5OlwiY2VsbC1sYWJlbFwiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgdmFsdWUgPSByZWYudmFsdWU7XG5yZXR1cm4gW19jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3ModmFsdWUpfX0pLCh2YWx1ZSA9PSBfdm0uJGkxOG4uJHQuZXh0ZW5zaW9uLmVtcGlyZS5saWZlZm9ybXMuYXJ0aWZhY3RGaW5kaW5nU2l6ZXMuc21hbGwpP19jKCdzcGFuJyx7c3RhdGljQ2xhc3M6XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtMVwiLHN0eWxlOih7IGNvbG9yOiBfdm0uY29sb3JzLnNtYWxsIH0pfSk6KHZhbHVlID09IF92bS4kaTE4bi4kdC5leHRlbnNpb24uZW1waXJlLmxpZmVmb3Jtcy5hcnRpZmFjdEZpbmRpbmdTaXplcy5tZWRpdW0pP19jKCdzcGFuJyx7c3RhdGljQ2xhc3M6XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtM1wiLHN0eWxlOih7IGNvbG9yOiBfdm0uY29sb3JzLm1lZGl1bSB9KX0pOih2YWx1ZSA9PSBfdm0uJGkxOG4uJHQuZXh0ZW5zaW9uLmVtcGlyZS5saWZlZm9ybXMuYXJ0aWZhY3RGaW5kaW5nU2l6ZXMubGFyZ2UpP19jKCdzcGFuJyx7c3RhdGljQ2xhc3M6XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtNVwiLHN0eWxlOih7IGNvbG9yOiBfdm0uY29sb3JzLmxhcmdlIH0pfSk6KHZhbHVlID09IF92bS4kaTE4bi4kdC5leHRlbnNpb24uZW1waXJlLmxpZmVmb3Jtcy5hcnRpZmFjdEZpbmRpbmdTaXplcy5zdG9yYWdlRnVsbCk/X2MoJ3NwYW4nLHtzdGF0aWNDbGFzczpcIm1kaSBtZGktaGV4YWdvbi1vdXRsaW5lXCIsc3R5bGU6KHsgY29sb3I6IF92bS5jb2xvcnMuc3RvcmFnZUZ1bGwgfSl9KTpfdm0uX2UoKV19fV0pfSksX2MoJ2Zsb2F0aW5nLW1lbnUnLHthdHRyczp7XCJsZWZ0XCI6XCJcIn0sc2NvcGVkU2xvdHM6X3ZtLl91KFt7a2V5OlwiYWN0aXZhdG9yXCIsZm46ZnVuY3Rpb24oKXtyZXR1cm4gW19jKCdidXR0b24nLHtvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7X3ZtLnNob3dTZXR0aW5ncyA9ICFfdm0uc2hvd1NldHRpbmdzfX19LFtfYygnc3Bhbicse3N0YXRpY0NsYXNzOlwibWRpIG1kaS1jb2dcIn0pXSldfSxwcm94eTp0cnVlfV0pLG1vZGVsOnt2YWx1ZTooX3ZtLnNob3dTZXR0aW5ncyksY2FsbGJhY2s6ZnVuY3Rpb24gKCQkdikge192bS5zaG93U2V0dGluZ3M9JCR2fSxleHByZXNzaW9uOlwic2hvd1NldHRpbmdzXCJ9fSxbX2MoJ2RhdGUtcmFuZ2Utc2V0dGluZ3MnKV0sMSldLDEpfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XHJcbiAgICA8ZGl2IGNsYXNzPVwidGFibGUtY29udGFpbmVyXCI+XHJcbiAgICAgICAgPHJhbmdlZC1zdGF0cy10YWJsZSA6ZGF0YUl0ZW1zPVwibWlzc2lvbnNcIiA6aXRlbXM9XCJpdGVtc1wiIDpmb290ZXJJdGVtcz1cImZvb3Rlckl0ZW1zXCIgc2hvdy1wZXJjZW50YWdlPlxyXG4gICAgICAgICAgICA8dGVtcGxhdGUgI2NlbGwtbGFiZWw9XCJ7IHZhbHVlIH1cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHYtdGV4dD1cInZhbHVlXCIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgIHYtaWY9XCJ2YWx1ZSA9PSAkaTE4bi4kdC5leHRlbnNpb24uZW1waXJlLmxpZmVmb3Jtcy5hcnRpZmFjdEZpbmRpbmdTaXplcy5zbWFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgOnN0eWxlPVwieyBjb2xvcjogY29sb3JzLnNtYWxsIH1cIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgdi1lbHNlLWlmPVwidmFsdWUgPT0gJGkxOG4uJHQuZXh0ZW5zaW9uLmVtcGlyZS5saWZlZm9ybXMuYXJ0aWZhY3RGaW5kaW5nU2l6ZXMubWVkaXVtXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kaSBtZGktaGV4YWdvbi1zbGljZS0zXCJcclxuICAgICAgICAgICAgICAgICAgICA6c3R5bGU9XCJ7IGNvbG9yOiBjb2xvcnMubWVkaXVtIH1cIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgdi1lbHNlLWlmPVwidmFsdWUgPT0gJGkxOG4uJHQuZXh0ZW5zaW9uLmVtcGlyZS5saWZlZm9ybXMuYXJ0aWZhY3RGaW5kaW5nU2l6ZXMubGFyZ2VcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRpIG1kaS1oZXhhZ29uLXNsaWNlLTVcIlxyXG4gICAgICAgICAgICAgICAgICAgIDpzdHlsZT1cInsgY29sb3I6IGNvbG9ycy5sYXJnZSB9XCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgIHYtZWxzZS1pZj1cInZhbHVlID09ICRpMThuLiR0LmV4dGVuc2lvbi5lbXBpcmUubGlmZWZvcm1zLmFydGlmYWN0RmluZGluZ1NpemVzLnN0b3JhZ2VGdWxsXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kaSBtZGktaGV4YWdvbi1vdXRsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgICA6c3R5bGU9XCJ7IGNvbG9yOiBjb2xvcnMuc3RvcmFnZUZ1bGwgfVwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgIDwvcmFuZ2VkLXN0YXRzLXRhYmxlPlxyXG5cclxuICAgICAgICA8ZmxvYXRpbmctbWVudSB2LW1vZGVsPVwic2hvd1NldHRpbmdzXCIgbGVmdD5cclxuICAgICAgICAgICAgPHRlbXBsYXRlICNhY3RpdmF0b3I+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIEBjbGljaz1cInNob3dTZXR0aW5ncyA9ICFzaG93U2V0dGluZ3NcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1kaSBtZGktY29nXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG5cclxuICAgICAgICAgICAgPGRhdGUtcmFuZ2Utc2V0dGluZ3MgLz5cclxuICAgICAgICA8L2Zsb2F0aW5nLW1lbnU+XHJcbiAgICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG4gICAgaW1wb3J0IFJhbmdlZFN0YXRzVGFibGUsIHsgUmFuZ2VkU3RhdHNUYWJsZUl0ZW0gfSBmcm9tICdAc3RhdHMvY29tcG9uZW50cy9zdGF0cy9SYW5nZWRTdGF0c1RhYmxlLnZ1ZSc7XHJcbiAgICBpbXBvcnQgRGF0ZVJhbmdlU2V0dGluZ3MgZnJvbSAnQHN0YXRzL2NvbXBvbmVudHMvc2V0dGluZ3MvRGF0ZVJhbmdlU2V0dGluZ3MudnVlJztcclxuICAgIGltcG9ydCB7IFNldHRpbmdzRGF0YU1vZHVsZSB9IGZyb20gJ0Avdmlld3Mvc3RhdHMvZGF0YS9TZXR0aW5nc0RhdGFNb2R1bGUnO1xyXG4gICAgaW1wb3J0IHsgRGFpbHlMaWZlZm9ybURpc2NvdmVyeVJlc3VsdCwgTGlmZWZvcm1EaXNjb3ZlcnlEYXRhTW9kdWxlIH0gZnJvbSAnQC92aWV3cy9zdGF0cy9kYXRhL0xpZmVmb3JtRGlzY292ZXJ5RGF0YU1vZHVsZSc7XHJcbiAgICBpbXBvcnQgeyBMaWZlZm9ybURpc2NvdmVyeUV2ZW50QXJ0aWZhY3RGaW5kaW5nU2l6ZXMgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvbGlmZWZvcm0tZGlzY292ZXJpZXMvTGlmZWZvcm1EaXNjb3ZlcnlFdmVudEFydGlmYWN0RmluZGluZ1NpemUnO1xyXG5cclxuICAgIEBDb21wb25lbnQoe1xyXG4gICAgICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICAgICAgUmFuZ2VkU3RhdHNUYWJsZSxcclxuICAgICAgICAgICAgRGF0ZVJhbmdlU2V0dGluZ3MsXHJcbiAgICAgICAgfSxcclxuICAgIH0pXHJcbiAgICBleHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZSBleHRlbmRzIFZ1ZSB7XHJcbiAgICAgICAgcHJpdmF0ZSBzaG93U2V0dGluZ3MgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgY29sb3JzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gU2V0dGluZ3NEYXRhTW9kdWxlLnNldHRpbmdzLmNvbG9ycy5saWZlZm9ybURpc2NvdmVyaWVzLmFydGlmYWN0RmluZGluZ1NpemVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgbWlzc2lvbnMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBMaWZlZm9ybURpc2NvdmVyeURhdGFNb2R1bGUuZGFpbHlSZXN1bHRzQXJyYXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBpdGVtcygpOiBSYW5nZWRTdGF0c1RhYmxlSXRlbTxEYWlseUxpZmVmb3JtRGlzY292ZXJ5UmVzdWx0PltdIHtcclxuICAgICAgICAgICAgcmV0dXJuIExpZmVmb3JtRGlzY292ZXJ5RXZlbnRBcnRpZmFjdEZpbmRpbmdTaXplcy5tYXAoc2l6ZSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmVtcGlyZS5saWZlZm9ybXMuYXJ0aWZhY3RGaW5kaW5nU2l6ZXNbc2l6ZV0sXHJcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZTogbWlzc2lvbnMgPT4gbWlzc2lvbnMucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICsgY3VyLmFydGlmYWN0U2l6ZXNbc2l6ZV0sIDApLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBmb290ZXJJdGVtcygpOiBSYW5nZWRTdGF0c1RhYmxlSXRlbTxEYWlseUxpZmVmb3JtRGlzY292ZXJ5UmVzdWx0PltdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFt7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uY29tbW9uLnN1bSxcclxuICAgICAgICAgICAgICAgIGdldFZhbHVlOiBleHBvcyA9PiBleHBvcy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgKyBjdXIuZXZlbnRzLmFydGlmYWN0cywgMCksXHJcbiAgICAgICAgICAgIH1dO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuPC9zY3JpcHQ+XHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cclxuICAgIC5yYW5nZWQtc3RhdHMtdGFibGUgLm1kaSB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0zMCUpIHNjYWxlKDEuNik7XHJcbiAgICAgICAgd2lkdGg6IDI0cHg7XHJcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgfVxyXG5cclxuICAgIC50YWJsZS1jb250YWluZXIge1xyXG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICAgICAgY29sdW1uLWdhcDogNHB4O1xyXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIGF1dG87XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgIH1cclxuPC9zdHlsZT4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9UYWJsZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MzNiZWNlMTAmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9UYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vVGFibGUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MzNiZWNlMTAmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCIzM2JlY2UxMFwiLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gcmVxdWlyZWRBcmdzO1xuXG5mdW5jdGlvbiByZXF1aXJlZEFyZ3MocmVxdWlyZWQsIGFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoIDwgcmVxdWlyZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHJlcXVpcmVkICsgJyBhcmd1bWVudCcgKyAocmVxdWlyZWQgPiAxID8gJ3MnIDogJycpICsgJyByZXF1aXJlZCwgYnV0IG9ubHkgJyArIGFyZ3MubGVuZ3RoICsgJyBwcmVzZW50Jyk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBzdGFydE9mRGF5O1xuXG52YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vdG9EYXRlL2luZGV4LmpzXCIpKTtcblxudmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgb3JpZ2luYWwgZGF0ZVxuICogQHJldHVybnMge0RhdGV9IHRoZSBzdGFydCBvZiBhIGRheVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIGRheSBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZEYXkobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gVHVlIFNlcCAwMiAyMDE0IDAwOjAwOjAwXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0T2ZEYXkoZGlydHlEYXRlKSB7XG4gICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB0b0RhdGU7XG5cbnZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5mdW5jdGlvbiB0b0RhdGUoYXJndW1lbnQpIHtcbiAgKDAsIF9pbmRleC5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICB2YXIgYXJnU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KTsgLy8gQ2xvbmUgdGhlIGRhdGVcblxuICBpZiAoYXJndW1lbnQgaW5zdGFuY2VvZiBEYXRlIHx8IHR5cGVvZiBhcmd1bWVudCA9PT0gJ29iamVjdCcgJiYgYXJnU3RyID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAvLyBQcmV2ZW50IHRoZSBkYXRlIHRvIGxvc2UgdGhlIG1pbGxpc2Vjb25kcyB3aGVuIHBhc3NlZCB0byBuZXcgRGF0ZSgpIGluIElFMTBcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQuZ2V0VGltZSgpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnQgPT09ICdudW1iZXInIHx8IGFyZ1N0ciA9PT0gJ1tvYmplY3QgTnVtYmVyXScpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIGlmICgodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IFN0cmluZ10nKSAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXCJTdGFydGluZyB3aXRoIHYyLjAuMC1iZXRhLjEgZGF0ZS1mbnMgZG9lc24ndCBhY2NlcHQgc3RyaW5ncyBhcyBkYXRlIGFyZ3VtZW50cy4gUGxlYXNlIHVzZSBgcGFyc2VJU09gIHRvIHBhcnNlIHN0cmluZ3MuIFNlZTogaHR0cHM6Ly9naXQuaW8vZmp1bGVcIik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cbiAgICAgIGNvbnNvbGUud2FybihuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7Il0sIm5hbWVzIjpbInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwiYXR0cnMiLCJjb2x1bW5zIiwicm93cyIsImZvb3RlclJvd3MiLCJ2YWx1ZSIsImdldENlbGxDbGFzcyIsInNjb3BlZFNsb3RzIiwiX3UiLCJfbCIsImNvbHVtbiIsImkiLCJrZXkiLCJmbiIsInJlZiIsIml0ZW0iLCJzbG90TmFtZSIsIiRzY29wZWRTbG90cyIsIl90IiwiZG9tUHJvcHMiLCJfcyIsImNsYXNzIiwibGFiZWxDbGFzcyIsImxhYmVsIiwiaXRlbXMiLCJmb3JtYXR0ZXIiLCJpbmRleCIsIm5hbWUiLCJkYXRhIiwic3RhdGljUmVuZGVyRm5zIiwiY29tcG9uZW50IiwibWlzc2lvbnMiLCJmb290ZXJJdGVtcyIsIiRpMThuIiwiJHQiLCJleHRlbnNpb24iLCJlbXBpcmUiLCJsaWZlZm9ybXMiLCJhcnRpZmFjdEZpbmRpbmdTaXplcyIsInNtYWxsIiwic3R5bGUiLCJjb2xvciIsImNvbG9ycyIsIm1lZGl1bSIsImxhcmdlIiwic3RvcmFnZUZ1bGwiLCJfZSIsIm9uIiwiJGV2ZW50Iiwic2hvd1NldHRpbmdzIiwicHJveHkiLCJtb2RlbCIsImNhbGxiYWNrIiwiJCR2IiwiZXhwcmVzc2lvbiIsInJlcXVpcmVkQXJncyIsInJlcXVpcmVkIiwiYXJncyIsImxlbmd0aCIsIlR5cGVFcnJvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmF1bHQiLCJzdGFydE9mRGF5IiwiX2luZGV4IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9pbmRleDIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGlydHlEYXRlIiwiYXJndW1lbnRzIiwiZGF0ZSIsInNldEhvdXJzIiwidG9EYXRlIiwiYXJndW1lbnQiLCJhcmdTdHIiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJEYXRlIiwiZ2V0VGltZSIsImNvbnNvbGUiLCJ3YXJuIiwiRXJyb3IiLCJzdGFjayIsIk5hTiJdLCJzb3VyY2VSb290IjoiIn0=