"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[7558],{9781:(e,t,s)=>{s.d(t,{L:()=>i});var n=s(776);const i={[n.Mm.small]:[25e4,3e5,35e4,4e5,45e4,5e5,55e4,6e5,65e4,7e5,75e4,8e5,85e4,9e5,95e4,1e6,105e4,11e5,115e4,12e5,125e4],[n.Mm.medium]:[125e4,13e5,135e4,14e5,145e4,15e5,155e4,16e5,165e4,17e5,175e4,18e5,185e4,19e5,195e4,2e6,205e4,21e5,215e4,22e5,225e4,23e5,235e4,24e5,245e4,25e5],[n.Mm.large]:[25e5,255e4,26e5,265e4,27e5,275e4,28e5,285e4,29e5,295e4,3e6,305e4,31e5,315e4,32e5,325e4,33e5,335e4,34e5,345e4,35e5,355e4,36e5,365e4,37e5,375e4,38e5,385e4,39e5,395e4,4e6,405e4,41e5,415e4,42e5,425e4,43e5,435e4,44e5,445e4,45e5,455e4,46e5,465e4,47e5,475e4,48e5,485e4,49e5,495e4,5e6]}},2611:(e,t,s)=>{function n(e){return e<1e5?.1:e<1e6?.24:e<5e6?.36:e<25e6?.48:e<5e7?.6:e<75e6?.72:e<1e8?.84:1}s.d(t,{Q:()=>n})},147:(e,t,s)=>{s.d(t,{g1:()=>i,g4:()=>o,_Z:()=>r});const n=.001;function i(e){const t=o(e);return t*n}function o(e){for(let t=0;;t++){const s=r(t+1);if(s>e)return t}}function r(e){return 900*e*(e+1)/2}},1786:(e,t,s)=>{s.d(t,{I5:()=>c,io:()=>u,qH:()=>m,g5:()=>d});var n=s(602),i=s(5128),o=s(6119),r=s(9681),l=s(4846),a=s(9751);function c(e){return l._i.filter((t=>e.activeLifeformTechnologies.includes(t.type))).reduce(((t,s)=>t+s.getClassBonus(n.D0.collector,e.lifeformTechnologies[s.type])),0)}function u(e){return(0,a.a)(r.Vs,(t=>o.cQ[e.activeLifeform].map((s=>s.getLifeformTechnologyBonus(t,e.lifeformBuildings[s.type]))).reduce(((e,t)=>e+t),0)))}function m(e){return o.wJ[e.activeLifeform].reduce(((t,s)=>(0,i.aV)(t,s.getProductionBonus(e.lifeformBuildings[s.type]))),{metal:0,crystal:0,deuterium:0,energy:0})}function d(e){return l.rE.filter((t=>e.activeLifeformTechnologies.includes(t.type))).reduce(((t,s)=>{const n=s.getProductionBonus(e.lifeformTechnologies[s.type]);return t.metal[s.type]+=n.metal,t.crystal[s.type]+=n.crystal,t.deuterium[s.type]+=n.deuterium,t.energy[s.type]+=n.energy,t}),{metal:(0,a.a)(r.Vs,0),crystal:(0,a.a)(r.Vs,0),deuterium:(0,a.a)(r.Vs,0),energy:(0,a.a)(r.Vs,0)})}},8288:(e,t,s)=>{s.d(t,{B:()=>o});var n=s(7331),i=s(917);function o(e,t={}){const s={metal:0,crystal:0,deuterium:0,...e},o={metal:1,crystal:1,deuterium:1,...t};n.P.forEach((e=>s[e]*=o[e]));const{mode:r,msu:l,dsu:a}=i.V.settings.conversionRates;return"msu"==r?s.metal+s.crystal*l.crystal+s.deuterium*l.deuterium:s.deuterium+s.crystal/a.crystal+s.metal/a.metal}},2836:(e,t,s)=>{s.d(t,{Z:()=>f});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.size==e.ExpeditionEventSize.small?s("span",{staticClass:"mdi mdi-hexagon-slice-1",style:{color:e.colors.small}}):e.size==e.ExpeditionEventSize.medium?s("span",{staticClass:"mdi mdi-hexagon-slice-3",style:{color:e.colors.medium}}):e.size==e.ExpeditionEventSize.large?s("span",{staticClass:"mdi mdi-hexagon-slice-5",style:{color:e.colors.large}}):e._e()},i=[],o=s(655),r=s(776),l=s(4028),a=s(917);let c=class extends l.w3{size;ExpeditionEventSize=r.Mm;get colors(){return a.V.settings.colors.expeditions.sizes}};(0,o.gn)([(0,l.fI)({required:!0,type:String})],c.prototype,"size",void 0),c=(0,o.gn)([(0,l.wA)({})],c);const u=c,m=u;var d=s(1001),p=(0,d.Z)(m,n,i,!1,null,null,null);const f=p.exports},7558:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"small-tables"},[s("grid-table",{attrs:{inline:"",columns:e.infoColumns,items:e.infoItems,"no-header":""},scopedSlots:e._u([{key:"cell-value",fn:function(t){var n=t.value,i=t.item;return["playerClass"==i.type?s("o-player-class",{attrs:{"player-class":n}}):"number"==i.type?s("span",{domProps:{textContent:e._s(n)}}):s("span",{domProps:{textContent:e._s(e.$i18n.$n(100*n,e.percentageFormat)+"%")}})]}}])}),s("grid-table",{attrs:{inline:"",columns:e.maxFindsColumns,items:e.maxFindsItems},scopedSlots:e._u([{key:"cell-key",fn:function(t){var n=t.value;return["metal"==n?[s("o-resource",{attrs:{resource:"metal",size:"24px"}}),s("span",{domProps:{textContent:e._s(e.$i18n.$n(e.finds.large[e.finds.large.length-1].metal))}})]:"crystal"==n?[s("o-resource",{attrs:{resource:"crystal",size:"24px"}}),s("span",{domProps:{textContent:e._s(e.$i18n.$n(e.finds.large[e.finds.large.length-1].crystal))}})]:"deuterium"==n?[s("o-resource",{attrs:{resource:"deuterium",size:"24px"}}),s("span",{domProps:{textContent:e._s(e.$i18n.$n(e.finds.large[e.finds.large.length-1].deuterium))}})]:"shipUnits"==n?[s("o-ship",{attrs:{ship:e.ShipType.battleship,size:"24px"}}),s("span",{domProps:{textContent:e._s(e.$i18n.$n(e.finds.large[e.finds.large.length-1].shipUnits))}})]:e._e()]}}])}),s("grid-table",{attrs:{inline:"",columns:e.darkMatterColumns,items:e.darkMatterItems},scopedSlots:e._u([{key:"cell-size",fn:function(e){var t=e.value;return[s("expedition-size-icon",{staticClass:"scaled-icon",attrs:{size:t}})]}},{key:"cell-amount",fn:function(t){var n=t.item;return[s("o-resource",{attrs:{resource:"dark-matter",size:"24px"}}),s("span",{domProps:{textContent:e._s(e.$i18n.$n(n.amount[0])+" - "+e.$i18n.$n(n.amount[1]))}})]}}])})],1),s("hr"),s("h3",{domProps:{textContent:e._s(e.$i18n.$t.extension.expeditions.possibleFinds.listOfPossibleFinds)}}),e._l(e.sizes,(function(t){return s("div",{key:t,staticClass:"find-col"},[s("h3",{staticClass:"table-title"},[s("expedition-size-icon",{attrs:{size:t}}),s("span",{domProps:{textContent:e._s(e.$i18n.$t.extension.expeditions.possibleFinds.findSizes(e.$i18n.$t.extension.expeditions.expeditionEventSizes[t]))}})],1),s("grid-table",{style:"--color: "+e.sizeColors[t],attrs:{inline:"",items:e.finds[t],columns:e.columns},scopedSlots:e._u([{key:"cell-.+",fn:function(t){var n=t.value;return[s("span",{domProps:{textContent:e._s(e.$i18n.$n(n))}})]}}],null,!0)})],1)}))],2)},i=[],o=s(655),r=s(776),l=s(602),a=s(2057),c=s(9751),u=s(4028),m=s(8395),d=s(917),p=s(7048),f=s(2836),g=s(4846),y=s(5424),h=s(1786),x=s(3418),v=s(147),$=s(7076),b=s(2611),k=s(9781),C=s(9563),z=s(248),F=s(8288);let M=class extends u.w3{ShipType=a.g;ExpeditionEventSize=r.Mm;sizes=r.Fg;percentageFormat={maximumFractionDigits:3,minimumFractionDigits:3};get sizeColors(){const e=d.V.settings.colors.expeditions.sizes;return{[r.Mm.small]:(0,p.U)(e.small),[r.Mm.medium]:(0,p.U)(e.medium),[r.Mm.large]:(0,p.U)(e.large)}}get columns(){return[{key:"metal",label:this.$i18n.$t.ogame.resources.metal},{key:"crystal",label:this.$i18n.$t.ogame.resources.crystal},{key:"deuterium",label:this.$i18n.$t.ogame.resources.deuterium},{key:"shipUnits",label:this.$i18n.$t.extension.expeditions.possibleFinds.shipUnits},{key:"maxShipUnitsConverted",label:this.$i18n.$t.extension.expeditions.possibleFinds.shipMaxUnitsConverted+` (${"msu"==d.V.settings.conversionRates.mode?this.$i18n.$t.extension.common.msu:this.$i18n.$t.extension.common.dsu})`}]}get infoColumns(){return[{key:"label"},{key:"value"}]}get infoItems(){const e=this.info;return[{type:"playerClass",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.playerClass,value:e.playerClass},{type:"number",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.economySpeed,value:e.ecoSpeed},{type:"percentage",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.resourceFindBonus,value:e.resourceFindBonus},{type:"percentage",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.shipFindBonus,value:e.shipFindBonus},{type:"percentage",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.darkMatterFindBonus,value:e.darkMatterBonus},{type:"percentage",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.discovererBonus,value:e.discovererBonus}]}get maxFindsColumns(){return[{key:"key",label:this.$i18n.$t.extension.expeditions.possibleFinds.maximumFinds,style:{"justify-content":"space-between",gap:"4px"}}]}get maxFindsItems(){return[{key:"metal"},{key:"crystal"},{key:"deuterium"},{key:"shipUnits"},{key:"maxShipUnitsConverted"}]}get darkMatterColumns(){return[{key:"size"},{key:"amount",label:this.$i18n.$t.extension.expeditions.possibleFinds.findsDarkMatter,style:{"justify-content":"start",gap:"6px"}}]}get darkMatterItems(){const e=1+this.info.darkMatterBonus;return[{size:r.Mm.small,amount:[300,400].map((t=>Math.trunc(t*e)))},{size:r.Mm.medium,amount:[500,700].map((t=>Math.trunc(t*e)))},{size:r.Mm.large,amount:[1e3,1800].map((t=>Math.trunc(t*e)))}]}get info(){const e=m.p.empire,t=Object.values(e.planets).filter((e=>!e.isMoon)),s=(0,c.r)(t,(e=>e.id),(e=>(0,h.io)(e))),n=g.uv.reduce(((e,n)=>{let i=0;return t.forEach((e=>{const t=e.activeLifeformTechnologies.includes(n.type)?e.lifeformTechnologies[n.type]:0,o=n.getExpeditionBonus(y.r.resources,t),r=e.activeLifeform==x.e5.none?0:o*(0,v.g1)(m.p.lifeformExperience[e.activeLifeform]),l=o*s[e.id][n.type],a=o+r+l;i+=a})),e+i}),0),i=g.uv.reduce(((e,n)=>{let i=0;return t.forEach((e=>{const t=e.activeLifeformTechnologies.includes(n.type)?e.lifeformTechnologies[n.type]:0,o=n.getExpeditionBonus(y.r.fleet,t),r=e.activeLifeform==x.e5.none?0:o*(0,v.g1)(m.p.lifeformExperience[e.activeLifeform]),l=o*s[e.id][n.type],a=o+r+l;i+=a})),e+i}),0),o=g.uv.reduce(((e,n)=>{let i=0;return t.forEach((e=>{const t=e.activeLifeformTechnologies.includes(n.type)?e.lifeformTechnologies[n.type]:0,o=n.getExpeditionBonus(y.r.darkMatter,t),r=e.activeLifeform==x.e5.none?0:o*(0,v.g1)(m.p.lifeformExperience[e.activeLifeform]),l=o*s[e.id][n.type],a=o+r+l;i+=a})),e+i}),0),r=g._i.reduce(((e,n)=>{let i=0;return t.forEach((e=>{const t=e.activeLifeformTechnologies.includes(n.type)?e.lifeformTechnologies[n.type]:0,o=n.getClassBonus(l.D0.discoverer,t),r=e.activeLifeform==x.e5.none?0:o*(0,v.g1)(m.p.lifeformExperience[e.activeLifeform]),a=o*s[e.id][n.type],c=o+r+a;i+=c})),e+i}),0);return{playerClass:e.playerClass,ecoSpeed:$.s.serverSettings.speed.economy,resourceFindBonus:n,shipFindBonus:i,discovererBonus:r,darkMatterBonus:o}}get finds(){const e=2,t=this.info,s=t.playerClass==l.D0.discoverer?t.ecoSpeed*(1.5*(1+t.discovererBonus)):1,n=(0,b.Q)($.s.serverSettings.topScore??0),i=C.x.map((e=>{const t=z.lp[e],s=t.cost,n=(0,F.B)(s),i=s.metal+s.crystal;return{converted:n,units:i,score:n/i}})).sort(((e,t)=>t.score-e.score))[0];return(0,c.a)(r.Fg,(o=>k.L[o].map((o=>{const r=n*o*e*s*(1+t.resourceFindBonus),l=n*o*e*s*(1+t.shipFindBonus)/2,a=Math.trunc(l/i.units)*i.converted;return{metal:Math.trunc(r),crystal:Math.trunc(r/2),deuterium:Math.trunc(r/3),shipUnits:Math.trunc(l),maxShipUnitsConverted:a}}))))}};M=(0,o.gn)([(0,u.wA)({components:{ExpeditionSizeIcon:f.Z}})],M);const B=M,E=B;var _=s(1001),S=(0,_.Z)(E,n,i,!1,null,"bd46f562",null);const L=S.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianMvNzU1OC4yZDU4ZTAzNy5qcyIsIm1hcHBpbmdzIjoiOEpBRU8sTUFBTUEsRUFBeUQsQ0FDbEUsQ0FBQyxZQUE0QixDQUN6QixLQUNBLElBQ0EsS0FDQSxJQUNBLEtBQ0EsSUFDQSxLQUNBLElBQ0EsS0FDQSxJQUNBLEtBQ0EsSUFDQSxLQUNBLElBQ0EsS0FDQSxJQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsT0FFSixDQUFDLGFBQTZCLENBQzFCLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLElBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsTUFFSixDQUFDLFlBQTRCLENBQ3pCLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsSUFDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLElBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxPLGVDekdELFNBQVNDLEVBQXdCQyxHQUNwQyxPQUFJQSxFQUFXLElBQWdCLEdBQzNCQSxFQUFXLElBQWtCLElBQzdCQSxFQUFXLElBQWtCLElBQzdCQSxFQUFXLEtBQW1CLElBQzlCQSxFQUFXLElBQW1CLEdBQzlCQSxFQUFXLEtBQW1CLElBQzlCQSxFQUFXLElBQW9CLElBRTVCLEUsb0VDVFgsTUFBTUMsRUFBZ0IsS0FFZixTQUFTQyxFQUFnQ0MsR0FDNUMsTUFBTUMsRUFBUUMsRUFBaUJGLEdBQy9CLE9BQU9DLEVBQVFILEVBR1osU0FBU0ksRUFBaUJGLEdBQzdCLElBQUksSUFBSUMsRUFBUSxHQUFLQSxJQUFTLENBQzFCLE1BQU1FLEVBQWNDLEVBQW9DSCxFQUFRLEdBQ2hFLEdBQUdFLEVBQWNILEVBQ2IsT0FBT0MsR0FTWixTQUFTRyxFQUFvQ0gsR0FDaEQsT0FBTyxJQUFNQSxHQUFTQSxFQUFRLEdBQUssSSwySENiaEMsU0FBU0ksRUFBbUNDLEdBQy9DLE9BQU8sYUFDS0MsR0FBUUQsRUFBT0UsMkJBQTJCQyxTQUFTRixFQUFLRyxRQUMvREMsUUFDRyxDQUFDQyxFQUFPTCxJQUFTSyxFQUFRTCxFQUFLTSxjQUFjLGVBQXVCUCxFQUFPUSxxQkFBcUJQLEVBQUtHLFFBQ3BHLEdBSUwsU0FBU0ssRUFBaUNULEdBQzdDLE9BQU8sT0FBYSxNQUNoQlUsR0FBYyxLQUFtRFYsRUFBT1csZ0JBQ25FQyxLQUFJQyxHQUFZQSxFQUFTQywyQkFBMkJKLEVBQVlWLEVBQU9lLGtCQUFrQkYsRUFBU1QsU0FDbEdDLFFBQU8sQ0FBQ0MsRUFBT1UsSUFBUVYsRUFBUVUsR0FBSyxLQUkxQyxTQUFTQyxFQUErQ2pCLEdBQzNELE9BQU8sS0FBbURBLEVBQU9XLGdCQUFnQk4sUUFDN0UsQ0FBQ0MsRUFBT08sS0FBYSxRQUFRUCxFQUFPTyxFQUFTSyxtQkFBbUJsQixFQUFPZSxrQkFBa0JGLEVBQVNULFNBQ2xHLENBQUVlLE1BQU8sRUFBR0MsUUFBUyxFQUFHQyxVQUFXLEVBQUdDLE9BQVEsSUFJL0MsU0FBU0MsRUFBaUR2QixHQUM3RCxPQUFPLGFBQ0tDLEdBQVFELEVBQU9FLDJCQUEyQkMsU0FBU0YsRUFBS0csUUFDL0RDLFFBQ0csQ0FBQ0MsRUFBT0wsS0FDSixNQUFNdUIsRUFBUXZCLEVBQUtpQixtQkFBbUJsQixFQUFPUSxxQkFBcUJQLEVBQUtHLE9BT3ZFLE9BTEFFLEVBQU1hLE1BQU1sQixFQUFLRyxPQUFTb0IsRUFBTUwsTUFDaENiLEVBQU1jLFFBQVFuQixFQUFLRyxPQUFTb0IsRUFBTUosUUFDbENkLEVBQU1lLFVBQVVwQixFQUFLRyxPQUFTb0IsRUFBTUgsVUFDcENmLEVBQU1nQixPQUFPckIsRUFBS0csT0FBU29CLEVBQU1GLE9BRTFCaEIsSUFFWCxDQUNJYSxPQUFPLE9BQWEsS0FBeUIsR0FDN0NDLFNBQVMsT0FBYSxLQUF5QixHQUMvQ0MsV0FBVyxPQUFhLEtBQXlCLEdBQ2pEQyxRQUFRLE9BQWEsS0FBeUIsTyx1REMvQ3ZELFNBQVNHLEVBQVlDLEVBQWtEQyxFQUFpRCxJQUMzSCxNQUFNQyxFQUFxQyxDQUN2Q1QsTUFBTyxFQUNQQyxRQUFTLEVBQ1RDLFVBQVcsS0FDUkssR0FFREcsRUFBNEMsQ0FDOUNWLE1BQU8sRUFDUEMsUUFBUyxFQUNUQyxVQUFXLEtBQ1JNLEdBRVAsYUFBc0JHLEdBQVlGLEVBQUtFLElBQWFELEVBQVlDLEtBRWhFLE1BQU0sS0FBRUMsRUFBSSxJQUFFQyxFQUFHLElBQUVDLEdBQVEsNkJBQzNCLE1BQVksT0FBUkYsRUFDT0gsRUFBS1QsTUFBUVMsRUFBS1IsUUFBVVksRUFBSVosUUFBVVEsRUFBS1AsVUFBWVcsRUFBSVgsVUFHbkVPLEVBQUtQLFVBQVlPLEVBQUtSLFFBQVVhLEVBQUliLFFBQVVRLEVBQUtULE1BQVFjLEVBQUlkLFEsZ0NDdkIxRSxJQUFJZSxFQUFTLFdBQWEsSUFBSUMsRUFBSUMsS0FBU0MsRUFBR0YsRUFBSUcsZUFBbUJDLEVBQUdKLEVBQUlLLE1BQU1ELElBQUlGLEVBQUcsT0FBUUYsRUFBSU0sTUFBUU4sRUFBSU8sb0JBQW9CQyxNQUFPSixFQUFHLE9BQU8sQ0FBQ0ssWUFBWSwwQkFBMEJDLE1BQU0sQ0FBR0MsTUFBT1gsRUFBSVksT0FBT0osU0FBWVIsRUFBSU0sTUFBUU4sRUFBSU8sb0JBQW9CTSxPQUFRVCxFQUFHLE9BQU8sQ0FBQ0ssWUFBWSwwQkFBMEJDLE1BQU0sQ0FBR0MsTUFBT1gsRUFBSVksT0FBT0MsVUFBYWIsRUFBSU0sTUFBUU4sRUFBSU8sb0JBQW9CTyxNQUFPVixFQUFHLE9BQU8sQ0FBQ0ssWUFBWSwwQkFBMEJDLE1BQU0sQ0FBR0MsTUFBT1gsRUFBSVksT0FBT0UsU0FBV2QsRUFBSWUsTUFDM2VDLEVBQWtCLEcscUNDWXRCLHlCQUVBLEtBRUEseUJBRUEsYUFDQSxnREFMQSxVQURBLG9DLDJCQURBLGFBREEsYUFDQSxHLFVDYjZjLEksY0NPemNDLEdBQVksT0FDZCxFQUNBbEIsRUFDQWlCLEdBQ0EsRUFDQSxLQUNBLEtBQ0EsTUFJRixRQUFlQyxFQUFpQixTLDZDQ2xCaEMsSUFBSWxCLEVBQVMsV0FBYSxJQUFJQyxFQUFJQyxLQUFTQyxFQUFHRixFQUFJRyxlQUFtQkMsRUFBR0osRUFBSUssTUFBTUQsSUFBSUYsRUFBRyxPQUFPRSxFQUFHLE1BQU0sQ0FBQ0EsRUFBRyxNQUFNLENBQUNLLFlBQVksZ0JBQWdCLENBQUNMLEVBQUcsYUFBYSxDQUFDYyxNQUFNLENBQUMsT0FBUyxHQUFHLFFBQVVsQixFQUFJbUIsWUFBWSxNQUFRbkIsRUFBSW9CLFVBQVUsWUFBWSxJQUFJQyxZQUFZckIsRUFBSXNCLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLGFBQWFDLEdBQUcsU0FBU0MsR0FDdlMsSUFBSUMsRUFBUUQsRUFBSUMsTUFDWkMsRUFBT0YsRUFBSUUsS0FDZixNQUFPLENBQWUsZUFBYkEsRUFBSzFELEtBQXVCbUMsRUFBRyxpQkFBaUIsQ0FBQ2MsTUFBTSxDQUFDLGVBQWVRLEtBQXVCLFVBQWJDLEVBQUsxRCxLQUFrQm1DLEVBQUcsT0FBTyxDQUFDd0IsU0FBUyxDQUFDLFlBQWM1QixFQUFJNkIsR0FBR0gsTUFBVXRCLEVBQUcsT0FBTyxDQUFDd0IsU0FBUyxDQUFDLFlBQWM1QixFQUFJNkIsR0FBRzdCLEVBQUk4QixNQUFNQyxHQUFXLElBQVJMLEVBQWExQixFQUFJZ0Msa0JBQW9CLGVBQWU1QixFQUFHLGFBQWEsQ0FBQ2MsTUFBTSxDQUFDLE9BQVMsR0FBRyxRQUFVbEIsRUFBSWlDLGdCQUFnQixNQUFRakMsRUFBSWtDLGVBQWViLFlBQVlyQixFQUFJc0IsR0FBRyxDQUFDLENBQUNDLElBQUksV0FBV0MsR0FBRyxTQUFTQyxHQUM3WixJQUFJQyxFQUFRRCxFQUFJQyxNQUNoQixNQUFPLENBQVcsU0FBVEEsRUFBa0IsQ0FBQ3RCLEVBQUcsYUFBYSxDQUFDYyxNQUFNLENBQUMsU0FBVyxRQUFRLEtBQU8sVUFBVWQsRUFBRyxPQUFPLENBQUN3QixTQUFTLENBQUMsWUFBYzVCLEVBQUk2QixHQUFHN0IsRUFBSThCLE1BQU1DLEdBQUcvQixFQUFJbUMsTUFBTXJCLE1BQU1kLEVBQUltQyxNQUFNckIsTUFBTXNCLE9BQVMsR0FBR3BELFlBQXNCLFdBQVQwQyxFQUFvQixDQUFDdEIsRUFBRyxhQUFhLENBQUNjLE1BQU0sQ0FBQyxTQUFXLFVBQVUsS0FBTyxVQUFVZCxFQUFHLE9BQU8sQ0FBQ3dCLFNBQVMsQ0FBQyxZQUFjNUIsRUFBSTZCLEdBQUc3QixFQUFJOEIsTUFBTUMsR0FBRy9CLEVBQUltQyxNQUFNckIsTUFBTWQsRUFBSW1DLE1BQU1yQixNQUFNc0IsT0FBUyxHQUFHbkQsY0FBd0IsYUFBVHlDLEVBQXNCLENBQUN0QixFQUFHLGFBQWEsQ0FBQ2MsTUFBTSxDQUFDLFNBQVcsWUFBWSxLQUFPLFVBQVVkLEVBQUcsT0FBTyxDQUFDd0IsU0FBUyxDQUFDLFlBQWM1QixFQUFJNkIsR0FBRzdCLEVBQUk4QixNQUFNQyxHQUFHL0IsRUFBSW1DLE1BQU1yQixNQUFNZCxFQUFJbUMsTUFBTXJCLE1BQU1zQixPQUFTLEdBQUdsRCxnQkFBMEIsYUFBVHdDLEVBQXNCLENBQUN0QixFQUFHLFNBQVMsQ0FBQ2MsTUFBTSxDQUFDLEtBQU9sQixFQUFJcUMsU0FBU0MsV0FBVyxLQUFPLFVBQVVsQyxFQUFHLE9BQU8sQ0FBQ3dCLFNBQVMsQ0FBQyxZQUFjNUIsRUFBSTZCLEdBQUc3QixFQUFJOEIsTUFBTUMsR0FBRy9CLEVBQUltQyxNQUFNckIsTUFBTWQsRUFBSW1DLE1BQU1yQixNQUFNc0IsT0FBUyxHQUFHRyxnQkFBZ0J2QyxFQUFJZSxZQUFZWCxFQUFHLGFBQWEsQ0FBQ2MsTUFBTSxDQUFDLE9BQVMsR0FBRyxRQUFVbEIsRUFBSXdDLGtCQUFrQixNQUFReEMsRUFBSXlDLGlCQUFpQnBCLFlBQVlyQixFQUFJc0IsR0FBRyxDQUFDLENBQUNDLElBQUksWUFBWUMsR0FBRyxTQUFTQyxHQUN4OEIsSUFBSUMsRUFBUUQsRUFBSUMsTUFDaEIsTUFBTyxDQUFDdEIsRUFBRyx1QkFBdUIsQ0FBQ0ssWUFBWSxjQUFjUyxNQUFNLENBQUMsS0FBT1EsUUFBWSxDQUFDSCxJQUFJLGNBQWNDLEdBQUcsU0FBU0MsR0FDdEgsSUFBSUUsRUFBT0YsRUFBSUUsS0FDZixNQUFPLENBQUN2QixFQUFHLGFBQWEsQ0FBQ2MsTUFBTSxDQUFDLFNBQVcsY0FBYyxLQUFPLFVBQVVkLEVBQUcsT0FBTyxDQUFDd0IsU0FBUyxDQUFDLFlBQWM1QixFQUFJNkIsR0FBSzdCLEVBQUk4QixNQUFNQyxHQUFHSixFQUFLZSxPQUFPLElBQU8sTUFBUzFDLEVBQUk4QixNQUFNQyxHQUFHSixFQUFLZSxPQUFPLGdCQUFrQixHQUFHdEMsRUFBRyxNQUFNQSxFQUFHLEtBQUssQ0FBQ3dCLFNBQVMsQ0FBQyxZQUFjNUIsRUFBSTZCLEdBQUc3QixFQUFJOEIsTUFBTWEsR0FBR0MsVUFBVUMsWUFBWUMsY0FBY0Msd0JBQXdCL0MsRUFBSWdELEdBQUloRCxFQUFTLE9BQUUsU0FBU00sR0FBTSxPQUFPRixFQUFHLE1BQU0sQ0FBQ21CLElBQUlqQixFQUFLRyxZQUFZLFlBQVksQ0FBQ0wsRUFBRyxLQUFLLENBQUNLLFlBQVksZUFBZSxDQUFDTCxFQUFHLHVCQUF1QixDQUFDYyxNQUFNLENBQUMsS0FBT1osS0FBUUYsRUFBRyxPQUFPLENBQUN3QixTQUFTLENBQUMsWUFBYzVCLEVBQUk2QixHQUFHN0IsRUFBSThCLE1BQU1hLEdBQUdDLFVBQVVDLFlBQVlDLGNBQWNHLFVBQVVqRCxFQUFJOEIsTUFBTWEsR0FBR0MsVUFBVUMsWUFBWUsscUJBQXFCNUMsU0FBWSxHQUFHRixFQUFHLGFBQWEsQ0FBQ00sTUFBUSxZQUFlVixFQUFJbUQsV0FBVzdDLEdBQVNZLE1BQU0sQ0FBQyxPQUFTLEdBQUcsTUFBUWxCLEVBQUltQyxNQUFNN0IsR0FBTSxRQUFVTixFQUFJb0QsU0FBUy9CLFlBQVlyQixFQUFJc0IsR0FBRyxDQUFDLENBQUNDLElBQUksVUFBVUMsR0FBRyxTQUFTQyxHQUMvMEIsSUFBSUMsRUFBUUQsRUFBSUMsTUFDaEIsTUFBTyxDQUFDdEIsRUFBRyxPQUFPLENBQUN3QixTQUFTLENBQUMsWUFBYzVCLEVBQUk2QixHQUFHN0IsRUFBSThCLE1BQU1DLEdBQUdMLFdBQWUsTUFBSyxNQUFTLE9BQU0sSUFDOUZWLEVBQWtCLEcsNE1Dc0Z0Qix5QkFFQSxhQUNBLHlCQUNBLFdBRUEsa0JBQ0Esd0JBQ0EseUJBR0EsaUJBQ0EsOENBRUEsT0FDQSw4QkFDQSxnQ0FDQSwrQkFJQSxjQUNBLE9BQ0EsQ0FDQSxZQUNBLDJDQUVBLENBQ0EsY0FDQSw2Q0FFQSxDQUNBLGdCQUNBLCtDQUVBLENBQ0EsZ0JBQ0EsbUVBRUEsQ0FDQSw0QkFDQSxtRkFDQSx5Q0FDQSxtQ0FDQSx3Q0FNQSxrQkFDQSxPQUNBLGNBQ0EsZUFHQSxnQkFDQSxrQkFFQSxPQUNBLENBQ0EsbUJBQ0EseUVBQ0EscUJBRUEsQ0FDQSxjQUNBLDBFQUNBLGtCQUVBLENBQ0Esa0JBQ0EsK0VBQ0EsMkJBRUEsQ0FDQSxrQkFDQSwyRUFDQSx1QkFFQSxDQUNBLGtCQUNBLGlGQUNBLHlCQUVBLENBQ0Esa0JBQ0EsNkVBQ0EsMEJBS0Esc0JBQ0EsT0FDQSxDQUNBLFVBQ0EscUVBQ0EsT0FDQSxrQ0FDQSxhQUtBLG9CQUNBLE9BQ0EsY0FDQSxnQkFDQSxrQkFDQSxrQkFDQSwrQkFJQSx3QkFDQSxPQUNBLGFBQ0EsQ0FDQSxhQUNBLHdFQUNBLE9BQ0EsMEJBQ0EsYUFLQSxzQkFDQSxvQ0FFQSxPQUNBLENBQ0EsZ0JBQ0EsNENBRUEsQ0FDQSxpQkFDQSw0Q0FFQSxDQUNBLGdCQUNBLDhDQUtBLFdBQ0EsbUJBRUEsa0RBQ0EsVUFDQSxHQUNBLFVBQ0EsaUJBR0EsdUJBQ0EsUUFnQkEsT0FmQSxlQUNBLHNEQUNBLCtCQUNBLEVBRUEsd0NBQ0EsOEJBQ0EsRUFDQSxxREFDQSxvQkFFQSxRQUNBLFFBR0EsTUFDQSxHQUVBLHVCQUNBLFFBZ0JBLE9BZkEsZUFDQSxzREFDQSwrQkFDQSxFQUVBLG9DQUNBLDhCQUNBLEVBQ0EscURBQ0Esb0JBRUEsUUFDQSxRQUdBLE1BQ0EsR0FFQSx1QkFDQSxRQWdCQSxPQWZBLGVBQ0Esc0RBQ0EsK0JBQ0EsRUFFQSx5Q0FDQSw4QkFDQSxFQUNBLHFEQUNBLG9CQUVBLFFBQ0EsUUFHQSxNQUNBLEdBRUEsdUJBQ0EsUUFnQkEsT0FmQSxlQUNBLHNEQUNBLCtCQUNBLEVBRUEscUNBQ0EsOEJBQ0EsRUFDQSxxREFDQSxvQkFFQSxRQUNBLFFBR0EsTUFDQSxHQUVBLE9BQ0EsMEJBQ0EsMENBQ0Esb0JBQ0EsZ0JBQ0Esa0JBQ0EsbUJBSUEsWUFDQSxVQUNBLFlBRUEsaUNBQ0EsdUNBQ0EsRUFFQSwwQ0FFQSxlQUNBLGdCQUNBLFNBRUEsYUFDQSxvQkFFQSxPQUNBLFlBQ0EsUUFDQSxjQUVBLGtDQUVBLGNBQ0EsTUFDQSxtQkFDQSx3Q0FDQSxnQ0FDQSxvQ0FFQSxPQUNBLG9CQUNBLHdCQUNBLDBCQUNBLHdCQUNBLGdDQTNSQSxhQUxBLFNBQ0EsWUFDQSwyQkFHQSxHLFVDbEd3ZCxJLGNDUXBkQyxHQUFZLE9BQ2QsRUFDQWxCLEVBQ0FpQixHQUNBLEVBQ0EsS0FDQSxXQUNBLE1BSUYsUUFBZUMsRUFBaUIiLCJzb3VyY2VzIjpbIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvc2hhcmVkL21vZGVscy9leHBlZGl0aW9ucy9maW5kQmFzZUFtb3VudHMudHMiLCJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3NoYXJlZC9tb2RlbHMvZXhwZWRpdGlvbnMvZ2V0RXhwZWRpdGlvbkZpbmRGYWN0b3IudHMiLCJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL2V4cGVyaWVuY2UudHMiLCJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL21vZGVscy9saWZlZm9ybXMvaW5kZXgudHMiLCJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL21vZGVscy9zZXR0aW5ncy9nZXRNc3VPckRzdS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy9leHBlZGl0aW9ucy9FeHBlZGl0aW9uU2l6ZUljb24udnVlP2FhNjIiLCJ3ZWJwYWNrOi8vL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL2V4cGVkaXRpb25zL0V4cGVkaXRpb25TaXplSWNvbi52dWU/ZTBjZSIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy9leHBlZGl0aW9ucy9FeHBlZGl0aW9uU2l6ZUljb24udnVlPzI2YzMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvZXhwZWRpdGlvbnMvRXhwZWRpdGlvblNpemVJY29uLnZ1ZT8yY2Y2Iiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy9leHBlZGl0aW9ucy9pbmZvL1Bvc3NpYmxlLUZpbmRzLnZ1ZT9jZTZmIiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvdmlld3MvZXhwZWRpdGlvbnMvaW5mby9Qb3NzaWJsZS1GaW5kcy52dWU/NDNmYiIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvZXhwZWRpdGlvbnMvaW5mby9Qb3NzaWJsZS1GaW5kcy52dWU/MDQ3NyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvZXhwZWRpdGlvbnMvaW5mby9Qb3NzaWJsZS1GaW5kcy52dWU/YmYxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeHBlZGl0aW9uRXZlbnRTaXplIH0gZnJvbSBcIi4vRXhwZWRpdGlvbkV2ZW50U2l6ZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZpbmRCYXNlQW1vdW50czogUmVjb3JkPEV4cGVkaXRpb25FdmVudFNpemUsIG51bWJlcltdPiA9IHtcclxuICAgIFtFeHBlZGl0aW9uRXZlbnRTaXplLnNtYWxsXTogW1xyXG4gICAgICAgIDI1MF8wMDAsXHJcbiAgICAgICAgMzAwXzAwMCxcclxuICAgICAgICAzNTBfMDAwLFxyXG4gICAgICAgIDQwMF8wMDAsXHJcbiAgICAgICAgNDUwXzAwMCxcclxuICAgICAgICA1MDBfMDAwLFxyXG4gICAgICAgIDU1MF8wMDAsXHJcbiAgICAgICAgNjAwXzAwMCxcclxuICAgICAgICA2NTBfMDAwLFxyXG4gICAgICAgIDcwMF8wMDAsXHJcbiAgICAgICAgNzUwXzAwMCxcclxuICAgICAgICA4MDBfMDAwLFxyXG4gICAgICAgIDg1MF8wMDAsXHJcbiAgICAgICAgOTAwXzAwMCxcclxuICAgICAgICA5NTBfMDAwLFxyXG4gICAgICAgIDFfMDAwXzAwMCxcclxuICAgICAgICAxXzA1MF8wMDAsXHJcbiAgICAgICAgMV8xMDBfMDAwLFxyXG4gICAgICAgIDFfMTUwXzAwMCxcclxuICAgICAgICAxXzIwMF8wMDAsXHJcbiAgICAgICAgMV8yNTBfMDAwLFxyXG4gICAgXSxcclxuICAgIFtFeHBlZGl0aW9uRXZlbnRTaXplLm1lZGl1bV06IFtcclxuICAgICAgICAxXzI1MF8wMDAsXHJcbiAgICAgICAgMV8zMDBfMDAwLFxyXG4gICAgICAgIDFfMzUwXzAwMCxcclxuICAgICAgICAxXzQwMF8wMDAsXHJcbiAgICAgICAgMV80NTBfMDAwLFxyXG4gICAgICAgIDFfNTAwXzAwMCxcclxuICAgICAgICAxXzU1MF8wMDAsXHJcbiAgICAgICAgMV82MDBfMDAwLFxyXG4gICAgICAgIDFfNjUwXzAwMCxcclxuICAgICAgICAxXzcwMF8wMDAsXHJcbiAgICAgICAgMV83NTBfMDAwLFxyXG4gICAgICAgIDFfODAwXzAwMCxcclxuICAgICAgICAxXzg1MF8wMDAsXHJcbiAgICAgICAgMV85MDBfMDAwLFxyXG4gICAgICAgIDFfOTUwXzAwMCxcclxuICAgICAgICAyXzAwMF8wMDAsXHJcbiAgICAgICAgMl8wNTBfMDAwLFxyXG4gICAgICAgIDJfMTAwXzAwMCxcclxuICAgICAgICAyXzE1MF8wMDAsXHJcbiAgICAgICAgMl8yMDBfMDAwLFxyXG4gICAgICAgIDJfMjUwXzAwMCxcclxuICAgICAgICAyXzMwMF8wMDAsXHJcbiAgICAgICAgMl8zNTBfMDAwLFxyXG4gICAgICAgIDJfNDAwXzAwMCxcclxuICAgICAgICAyXzQ1MF8wMDAsXHJcbiAgICAgICAgMl81MDBfMDAwLFxyXG4gICAgXSxcclxuICAgIFtFeHBlZGl0aW9uRXZlbnRTaXplLmxhcmdlXTogW1xyXG4gICAgICAgIDJfNTAwXzAwMCxcclxuICAgICAgICAyXzU1MF8wMDAsXHJcbiAgICAgICAgMl82MDBfMDAwLFxyXG4gICAgICAgIDJfNjUwXzAwMCxcclxuICAgICAgICAyXzcwMF8wMDAsXHJcbiAgICAgICAgMl83NTBfMDAwLFxyXG4gICAgICAgIDJfODAwXzAwMCxcclxuICAgICAgICAyXzg1MF8wMDAsXHJcbiAgICAgICAgMl85MDBfMDAwLFxyXG4gICAgICAgIDJfOTUwXzAwMCxcclxuICAgICAgICAzXzAwMF8wMDAsXHJcbiAgICAgICAgM18wNTBfMDAwLFxyXG4gICAgICAgIDNfMTAwXzAwMCxcclxuICAgICAgICAzXzE1MF8wMDAsXHJcbiAgICAgICAgM18yMDBfMDAwLFxyXG4gICAgICAgIDNfMjUwXzAwMCxcclxuICAgICAgICAzXzMwMF8wMDAsXHJcbiAgICAgICAgM18zNTBfMDAwLFxyXG4gICAgICAgIDNfNDAwXzAwMCxcclxuICAgICAgICAzXzQ1MF8wMDAsXHJcbiAgICAgICAgM181MDBfMDAwLFxyXG4gICAgICAgIDNfNTUwXzAwMCxcclxuICAgICAgICAzXzYwMF8wMDAsXHJcbiAgICAgICAgM182NTBfMDAwLFxyXG4gICAgICAgIDNfNzAwXzAwMCxcclxuICAgICAgICAzXzc1MF8wMDAsXHJcbiAgICAgICAgM184MDBfMDAwLFxyXG4gICAgICAgIDNfODUwXzAwMCxcclxuICAgICAgICAzXzkwMF8wMDAsXHJcbiAgICAgICAgM185NTBfMDAwLFxyXG4gICAgICAgIDRfMDAwXzAwMCxcclxuICAgICAgICA0XzA1MF8wMDAsXHJcbiAgICAgICAgNF8xMDBfMDAwLFxyXG4gICAgICAgIDRfMTUwXzAwMCxcclxuICAgICAgICA0XzIwMF8wMDAsXHJcbiAgICAgICAgNF8yNTBfMDAwLFxyXG4gICAgICAgIDRfMzAwXzAwMCxcclxuICAgICAgICA0XzM1MF8wMDAsXHJcbiAgICAgICAgNF80MDBfMDAwLFxyXG4gICAgICAgIDRfNDUwXzAwMCxcclxuICAgICAgICA0XzUwMF8wMDAsXHJcbiAgICAgICAgNF81NTBfMDAwLFxyXG4gICAgICAgIDRfNjAwXzAwMCxcclxuICAgICAgICA0XzY1MF8wMDAsXHJcbiAgICAgICAgNF83MDBfMDAwLFxyXG4gICAgICAgIDRfNzUwXzAwMCxcclxuICAgICAgICA0XzgwMF8wMDAsXHJcbiAgICAgICAgNF84NTBfMDAwLFxyXG4gICAgICAgIDRfOTAwXzAwMCxcclxuICAgICAgICA0Xzk1MF8wMDAsXHJcbiAgICAgICAgNV8wMDBfMDAwLFxyXG4gICAgXSxcclxufTsiLCJleHBvcnQgZnVuY3Rpb24gZ2V0RXhwZWRpdGlvbkZpbmRGYWN0b3IodG9wU2NvcmU6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBpZiAodG9wU2NvcmUgPCAxMDBfMDAwKSByZXR1cm4gMC4xMDtcclxuICAgIGlmICh0b3BTY29yZSA8IDFfMDAwXzAwMCkgcmV0dXJuIDAuMjQ7XHJcbiAgICBpZiAodG9wU2NvcmUgPCA1XzAwMF8wMDApIHJldHVybiAwLjM2O1xyXG4gICAgaWYgKHRvcFNjb3JlIDwgMjVfMDAwXzAwMCkgcmV0dXJuIDAuNDg7XHJcbiAgICBpZiAodG9wU2NvcmUgPCA1MF8wMDBfMDAwKSByZXR1cm4gMC42MDtcclxuICAgIGlmICh0b3BTY29yZSA8IDc1XzAwMF8wMDApIHJldHVybiAwLjcyO1xyXG4gICAgaWYgKHRvcFNjb3JlIDwgMTAwXzAwMF8wMDApIHJldHVybiAwLjg0O1xyXG5cclxuICAgIHJldHVybiAxLjAwO1xyXG59IiwiY29uc3QgYm9udXNQZXJMZXZlbCA9IDAuMDBfMTsgLy8wLjElXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlmZWZvcm1MZXZlbFRlY2hub2xvZ3lCb251cyhleHBlcmllbmNlOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgbGV2ZWwgPSBnZXRMaWZlZm9ybUxldmVsKGV4cGVyaWVuY2UpO1xyXG4gICAgcmV0dXJuIGxldmVsICogYm9udXNQZXJMZXZlbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExpZmVmb3JtTGV2ZWwoZXhwZXJpZW5jZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGZvcihsZXQgbGV2ZWwgPSAwOyA7IGxldmVsKyspIHtcclxuICAgICAgICBjb25zdCBleHBGb3JMZXZlbCA9IGdldExpZmVmb3JtRXhwZXJpZW5jZU5lZWRlZEZvckxldmVsKGxldmVsICsgMSk7XHJcbiAgICAgICAgaWYoZXhwRm9yTGV2ZWwgPiBleHBlcmllbmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsZXZlbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHBlcmllbmNlTmVlZGVkRm9yTGV2ZWxVcChsZXZlbDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiA5MDAgKiBsZXZlbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExpZmVmb3JtRXhwZXJpZW5jZU5lZWRlZEZvckxldmVsKGxldmVsOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIDkwMCAqIGxldmVsICogKGxldmVsICsgMSkgLyAyOyAvLyBnYXVzc2lhbiBzdW1tYXRpb24gZm9ybXVsYVxyXG59IiwiaW1wb3J0IHsgUGxhbmV0RGF0YSB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvZW1waXJlL1BsYW5ldERhdGFcIjtcclxuaW1wb3J0IHsgUGxheWVyQ2xhc3MgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL2NsYXNzZXMvUGxheWVyQ2xhc3NcIjtcclxuaW1wb3J0IHsgYWRkQ29zdCwgQ29zdCB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvb2dhbWUvY29tbW9uL0Nvc3RcIjtcclxuaW1wb3J0IHsgTGlmZWZvcm1UZWNobm9sb2d5Qm9udXNMaWZlZm9ybUJ1aWxkaW5nc0J5TGlmZWZvcm0sIFJlc291cmNlUHJvZHVjdGlvbkJvbnVzTGlmZWZvcm1CdWlsZGluZ3NCeUxpZmVmb3JtIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvYnVpbGRpbmdzL0xpZmVmb3JtQnVpbGRpbmdzXCI7XHJcbmltcG9ydCB7IExpZmVmb3JtVGVjaG5vbG9neVR5cGUsIExpZmVmb3JtVGVjaG5vbG9neVR5cGVzIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvTGlmZWZvcm1UZWNobm9sb2d5VHlwZVwiO1xyXG5pbXBvcnQgeyBDbGFzc0JvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXMsIFJlc291cmNlUHJvZHVjdGlvbkJvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXMgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy90ZWNobm9sb2dpZXMvTGlmZWZvcm1UZWNobm9sb2dpZXNcIjtcclxuaW1wb3J0IHsgY3JlYXRlUmVjb3JkIH0gZnJvbSBcIkAvc2hhcmVkL3V0aWxzL2NyZWF0ZVJlY29yZFwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBsYW5ldENvbGxlY3RvckNsYXNzQm9udXNGYWN0b3IocGxhbmV0OiBQbGFuZXREYXRhKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBDbGFzc0JvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXNcclxuICAgICAgICAuZmlsdGVyKHRlY2ggPT4gcGxhbmV0LmFjdGl2ZUxpZmVmb3JtVGVjaG5vbG9naWVzLmluY2x1ZGVzKHRlY2gudHlwZSkpXHJcbiAgICAgICAgLnJlZHVjZShcclxuICAgICAgICAgICAgKHRvdGFsLCB0ZWNoKSA9PiB0b3RhbCArIHRlY2guZ2V0Q2xhc3NCb251cyhQbGF5ZXJDbGFzcy5jb2xsZWN0b3IsIHBsYW5ldC5saWZlZm9ybVRlY2hub2xvZ2llc1t0ZWNoLnR5cGVdKSxcclxuICAgICAgICAgICAgMFxyXG4gICAgICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGFuZXRMaWZlZm9ybVRlY2hub2xvZ3lCb29zdChwbGFuZXQ6IFBsYW5ldERhdGEpOiBSZWNvcmQ8TGlmZWZvcm1UZWNobm9sb2d5VHlwZSwgbnVtYmVyPiB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVjb3JkKExpZmVmb3JtVGVjaG5vbG9neVR5cGVzLFxyXG4gICAgICAgIHRlY2hub2xvZ3kgPT4gTGlmZWZvcm1UZWNobm9sb2d5Qm9udXNMaWZlZm9ybUJ1aWxkaW5nc0J5TGlmZWZvcm1bcGxhbmV0LmFjdGl2ZUxpZmVmb3JtXVxyXG4gICAgICAgICAgICAubWFwKGJ1aWxkaW5nID0+IGJ1aWxkaW5nLmdldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzKHRlY2hub2xvZ3ksIHBsYW5ldC5saWZlZm9ybUJ1aWxkaW5nc1tidWlsZGluZy50eXBlXSkpXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKHRvdGFsLCBjdXIpID0+IHRvdGFsICsgY3VyLCAwKVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBsYW5ldExpZmVmb3JtQnVpbGRpbmdCb251c1Byb2R1Y3Rpb25GYWN0b3IocGxhbmV0OiBQbGFuZXREYXRhKTogQ29zdCB7XHJcbiAgICByZXR1cm4gUmVzb3VyY2VQcm9kdWN0aW9uQm9udXNMaWZlZm9ybUJ1aWxkaW5nc0J5TGlmZWZvcm1bcGxhbmV0LmFjdGl2ZUxpZmVmb3JtXS5yZWR1Y2U8Q29zdD4oXHJcbiAgICAgICAgKHRvdGFsLCBidWlsZGluZykgPT4gYWRkQ29zdCh0b3RhbCwgYnVpbGRpbmcuZ2V0UHJvZHVjdGlvbkJvbnVzKHBsYW5ldC5saWZlZm9ybUJ1aWxkaW5nc1tidWlsZGluZy50eXBlXSkpLFxyXG4gICAgICAgIHsgbWV0YWw6IDAsIGNyeXN0YWw6IDAsIGRldXRlcml1bTogMCwgZW5lcmd5OiAwIH0sXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGxhbmV0TGlmZWZvcm1UZWNobm9sb2d5Qm9udXNQcm9kdWN0aW9uRmFjdG9yKHBsYW5ldDogUGxhbmV0RGF0YSk6IFJlY29yZDxrZXlvZiBDb3N0LCBSZWNvcmQ8TGlmZWZvcm1UZWNobm9sb2d5VHlwZSwgbnVtYmVyPj4ge1xyXG4gICAgcmV0dXJuIFJlc291cmNlUHJvZHVjdGlvbkJvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXNcclxuICAgICAgICAuZmlsdGVyKHRlY2ggPT4gcGxhbmV0LmFjdGl2ZUxpZmVmb3JtVGVjaG5vbG9naWVzLmluY2x1ZGVzKHRlY2gudHlwZSkpXHJcbiAgICAgICAgLnJlZHVjZTxSZWNvcmQ8a2V5b2YgQ29zdCwgUmVjb3JkPExpZmVmb3JtVGVjaG5vbG9neVR5cGUsIG51bWJlcj4+PihcclxuICAgICAgICAgICAgKHRvdGFsLCB0ZWNoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBib251cyA9IHRlY2guZ2V0UHJvZHVjdGlvbkJvbnVzKHBsYW5ldC5saWZlZm9ybVRlY2hub2xvZ2llc1t0ZWNoLnR5cGVdKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0b3RhbC5tZXRhbFt0ZWNoLnR5cGVdICs9IGJvbnVzLm1ldGFsO1xyXG4gICAgICAgICAgICAgICAgdG90YWwuY3J5c3RhbFt0ZWNoLnR5cGVdICs9IGJvbnVzLmNyeXN0YWw7XHJcbiAgICAgICAgICAgICAgICB0b3RhbC5kZXV0ZXJpdW1bdGVjaC50eXBlXSArPSBib251cy5kZXV0ZXJpdW07XHJcbiAgICAgICAgICAgICAgICB0b3RhbC5lbmVyZ3lbdGVjaC50eXBlXSArPSBib251cy5lbmVyZ3k7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtZXRhbDogY3JlYXRlUmVjb3JkKExpZmVmb3JtVGVjaG5vbG9neVR5cGVzLCAwKSxcclxuICAgICAgICAgICAgICAgIGNyeXN0YWw6IGNyZWF0ZVJlY29yZChMaWZlZm9ybVRlY2hub2xvZ3lUeXBlcywgMCksXHJcbiAgICAgICAgICAgICAgICBkZXV0ZXJpdW06IGNyZWF0ZVJlY29yZChMaWZlZm9ybVRlY2hub2xvZ3lUeXBlcywgMCksXHJcbiAgICAgICAgICAgICAgICBlbmVyZ3k6IGNyZWF0ZVJlY29yZChMaWZlZm9ybVRlY2hub2xvZ3lUeXBlcywgMCksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgKTtcclxufSIsImltcG9ydCB7IFJlc291cmNlVHlwZSwgUmVzb3VyY2VUeXBlcyB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvb2dhbWUvcmVzb3VyY2VzL1Jlc291cmNlVHlwZVwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc0RhdGFNb2R1bGUgfSBmcm9tIFwiLi4vLi4vZGF0YS9TZXR0aW5nc0RhdGFNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNc3VPckRzdShyZXNvdXJjZXM6IFBhcnRpYWw8UmVjb3JkPFJlc291cmNlVHlwZSwgbnVtYmVyPj4sIGZhY3RvcnM6IFBhcnRpYWw8UmVjb3JkPFJlc291cmNlVHlwZSwgbnVtYmVyPj4gPSB7fSk6IG51bWJlciB7XHJcbiAgICBjb25zdCBjb3N0OiBSZWNvcmQ8UmVzb3VyY2VUeXBlLCBudW1iZXI+ID0ge1xyXG4gICAgICAgIG1ldGFsOiAwLFxyXG4gICAgICAgIGNyeXN0YWw6IDAsXHJcbiAgICAgICAgZGV1dGVyaXVtOiAwLFxyXG4gICAgICAgIC4uLnJlc291cmNlcyxcclxuICAgIH07XHJcbiAgICBjb25zdCBjb3N0RmFjdG9yczogUmVjb3JkPFJlc291cmNlVHlwZSwgbnVtYmVyPiA9IHtcclxuICAgICAgICBtZXRhbDogMSxcclxuICAgICAgICBjcnlzdGFsOiAxLFxyXG4gICAgICAgIGRldXRlcml1bTogMSxcclxuICAgICAgICAuLi5mYWN0b3JzLFxyXG4gICAgfTtcclxuICAgIFJlc291cmNlVHlwZXMuZm9yRWFjaChyZXNvdXJjZSA9PiBjb3N0W3Jlc291cmNlXSAqPSBjb3N0RmFjdG9yc1tyZXNvdXJjZV0pO1xyXG5cclxuICAgIGNvbnN0IHsgbW9kZSwgbXN1LCBkc3UgfSA9IFNldHRpbmdzRGF0YU1vZHVsZS5zZXR0aW5ncy5jb252ZXJzaW9uUmF0ZXM7XHJcbiAgICBpZiAobW9kZSA9PSAnbXN1Jykge1xyXG4gICAgICAgIHJldHVybiBjb3N0Lm1ldGFsICsgY29zdC5jcnlzdGFsICogbXN1LmNyeXN0YWwgKyBjb3N0LmRldXRlcml1bSAqIG1zdS5kZXV0ZXJpdW07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvc3QuZGV1dGVyaXVtICsgY29zdC5jcnlzdGFsIC8gZHN1LmNyeXN0YWwgKyBjb3N0Lm1ldGFsIC8gZHN1Lm1ldGFsO1xyXG59IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gKF92bS5zaXplID09IF92bS5FeHBlZGl0aW9uRXZlbnRTaXplLnNtYWxsKT9fYygnc3Bhbicse3N0YXRpY0NsYXNzOlwibWRpIG1kaS1oZXhhZ29uLXNsaWNlLTFcIixzdHlsZTooeyBjb2xvcjogX3ZtLmNvbG9ycy5zbWFsbCB9KX0pOihfdm0uc2l6ZSA9PSBfdm0uRXhwZWRpdGlvbkV2ZW50U2l6ZS5tZWRpdW0pP19jKCdzcGFuJyx7c3RhdGljQ2xhc3M6XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtM1wiLHN0eWxlOih7IGNvbG9yOiBfdm0uY29sb3JzLm1lZGl1bSB9KX0pOihfdm0uc2l6ZSA9PSBfdm0uRXhwZWRpdGlvbkV2ZW50U2l6ZS5sYXJnZSk/X2MoJ3NwYW4nLHtzdGF0aWNDbGFzczpcIm1kaSBtZGktaGV4YWdvbi1zbGljZS01XCIsc3R5bGU6KHsgY29sb3I6IF92bS5jb2xvcnMubGFyZ2UgfSl9KTpfdm0uX2UoKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxyXG4gICAgPHNwYW4gdi1pZj1cInNpemUgPT0gRXhwZWRpdGlvbkV2ZW50U2l6ZS5zbWFsbFwiIGNsYXNzPVwibWRpIG1kaS1oZXhhZ29uLXNsaWNlLTFcIiA6c3R5bGU9XCJ7IGNvbG9yOiBjb2xvcnMuc21hbGwgfVwiIC8+XHJcbiAgICA8c3BhbiB2LWVsc2UtaWY9XCJzaXplID09IEV4cGVkaXRpb25FdmVudFNpemUubWVkaXVtXCIgY2xhc3M9XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtM1wiIDpzdHlsZT1cInsgY29sb3I6IGNvbG9ycy5tZWRpdW0gfVwiIC8+XHJcbiAgICA8c3BhbiB2LWVsc2UtaWY9XCJzaXplID09IEV4cGVkaXRpb25FdmVudFNpemUubGFyZ2VcIiBjbGFzcz1cIm1kaSBtZGktaGV4YWdvbi1zbGljZS01XCIgOnN0eWxlPVwieyBjb2xvcjogY29sb3JzLmxhcmdlIH1cIiAvPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICAgIGltcG9ydCB7IEV4cGVkaXRpb25FdmVudFNpemUgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvZXhwZWRpdGlvbnMvRXhwZWRpdGlvbkV2ZW50U2l6ZSc7XHJcbiAgICBpbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG4gICAgaW1wb3J0IHsgUHJvcFR5cGUgfSBmcm9tICd2dWUnO1xyXG4gICAgaW1wb3J0IHsgU2V0dGluZ3NEYXRhTW9kdWxlIH0gZnJvbSAnLi4vLi4vZGF0YS9TZXR0aW5nc0RhdGFNb2R1bGUnO1xyXG5cclxuICAgIEBDb21wb25lbnQoe30pXHJcbiAgICBleHBvcnQgZGVmYXVsdCBjbGFzcyBFeHBlZGl0aW9uU2l6ZUljb24gZXh0ZW5kcyBWdWUge1xyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHR5cGU6IFN0cmluZyBhcyBQcm9wVHlwZTxFeHBlZGl0aW9uRXZlbnRTaXplPiB9KVxyXG4gICAgICAgIHByaXZhdGUgc2l6ZSE6IEV4cGVkaXRpb25FdmVudFNpemU7XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgRXhwZWRpdGlvbkV2ZW50U2l6ZSA9IEV4cGVkaXRpb25FdmVudFNpemU7XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGNvbG9ycygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFNldHRpbmdzRGF0YU1vZHVsZS5zZXR0aW5ncy5jb2xvcnMuZXhwZWRpdGlvbnMuc2l6ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG48L3NjcmlwdD4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vRXhwZWRpdGlvblNpemVJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0V4cGVkaXRpb25TaXplSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0V4cGVkaXRpb25TaXplSWNvbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWQ2NmFmY2ImXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vRXhwZWRpdGlvblNpemVJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vRXhwZWRpdGlvblNpemVJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2RpdicsW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcInNtYWxsLXRhYmxlc1wifSxbX2MoJ2dyaWQtdGFibGUnLHthdHRyczp7XCJpbmxpbmVcIjpcIlwiLFwiY29sdW1uc1wiOl92bS5pbmZvQ29sdW1ucyxcIml0ZW1zXCI6X3ZtLmluZm9JdGVtcyxcIm5vLWhlYWRlclwiOlwiXCJ9LHNjb3BlZFNsb3RzOl92bS5fdShbe2tleTpcImNlbGwtdmFsdWVcIixmbjpmdW5jdGlvbihyZWYpe1xudmFyIHZhbHVlID0gcmVmLnZhbHVlO1xudmFyIGl0ZW0gPSByZWYuaXRlbTtcbnJldHVybiBbKGl0ZW0udHlwZSA9PSAncGxheWVyQ2xhc3MnKT9fYygnby1wbGF5ZXItY2xhc3MnLHthdHRyczp7XCJwbGF5ZXItY2xhc3NcIjp2YWx1ZX19KTooaXRlbS50eXBlID09ICdudW1iZXInKT9fYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKHZhbHVlKX19KTpfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKF92bS4kaTE4bi4kbih2YWx1ZSAqIDEwMCwgX3ZtLnBlcmNlbnRhZ2VGb3JtYXQpICsgJyUnKX19KV19fV0pfSksX2MoJ2dyaWQtdGFibGUnLHthdHRyczp7XCJpbmxpbmVcIjpcIlwiLFwiY29sdW1uc1wiOl92bS5tYXhGaW5kc0NvbHVtbnMsXCJpdGVtc1wiOl92bS5tYXhGaW5kc0l0ZW1zfSxzY29wZWRTbG90czpfdm0uX3UoW3trZXk6XCJjZWxsLWtleVwiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgdmFsdWUgPSByZWYudmFsdWU7XG5yZXR1cm4gWyh2YWx1ZSA9PSAnbWV0YWwnKT9bX2MoJ28tcmVzb3VyY2UnLHthdHRyczp7XCJyZXNvdXJjZVwiOlwibWV0YWxcIixcInNpemVcIjpcIjI0cHhcIn19KSxfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKF92bS4kaTE4bi4kbihfdm0uZmluZHMubGFyZ2VbX3ZtLmZpbmRzLmxhcmdlLmxlbmd0aCAtIDFdLm1ldGFsKSl9fSldOih2YWx1ZSA9PSAnY3J5c3RhbCcpP1tfYygnby1yZXNvdXJjZScse2F0dHJzOntcInJlc291cmNlXCI6XCJjcnlzdGFsXCIsXCJzaXplXCI6XCIyNHB4XCJ9fSksX2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJG4oX3ZtLmZpbmRzLmxhcmdlW192bS5maW5kcy5sYXJnZS5sZW5ndGggLSAxXS5jcnlzdGFsKSl9fSldOih2YWx1ZSA9PSAnZGV1dGVyaXVtJyk/W19jKCdvLXJlc291cmNlJyx7YXR0cnM6e1wicmVzb3VyY2VcIjpcImRldXRlcml1bVwiLFwic2l6ZVwiOlwiMjRweFwifX0pLF9jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiRuKF92bS5maW5kcy5sYXJnZVtfdm0uZmluZHMubGFyZ2UubGVuZ3RoIC0gMV0uZGV1dGVyaXVtKSl9fSldOih2YWx1ZSA9PSAnc2hpcFVuaXRzJyk/W19jKCdvLXNoaXAnLHthdHRyczp7XCJzaGlwXCI6X3ZtLlNoaXBUeXBlLmJhdHRsZXNoaXAsXCJzaXplXCI6XCIyNHB4XCJ9fSksX2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJG4oX3ZtLmZpbmRzLmxhcmdlW192bS5maW5kcy5sYXJnZS5sZW5ndGggLSAxXS5zaGlwVW5pdHMpKX19KV06X3ZtLl9lKCldfX1dKX0pLF9jKCdncmlkLXRhYmxlJyx7YXR0cnM6e1wiaW5saW5lXCI6XCJcIixcImNvbHVtbnNcIjpfdm0uZGFya01hdHRlckNvbHVtbnMsXCJpdGVtc1wiOl92bS5kYXJrTWF0dGVySXRlbXN9LHNjb3BlZFNsb3RzOl92bS5fdShbe2tleTpcImNlbGwtc2l6ZVwiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgdmFsdWUgPSByZWYudmFsdWU7XG5yZXR1cm4gW19jKCdleHBlZGl0aW9uLXNpemUtaWNvbicse3N0YXRpY0NsYXNzOlwic2NhbGVkLWljb25cIixhdHRyczp7XCJzaXplXCI6dmFsdWV9fSldfX0se2tleTpcImNlbGwtYW1vdW50XCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciBpdGVtID0gcmVmLml0ZW07XG5yZXR1cm4gW19jKCdvLXJlc291cmNlJyx7YXR0cnM6e1wicmVzb3VyY2VcIjpcImRhcmstbWF0dGVyXCIsXCJzaXplXCI6XCIyNHB4XCJ9fSksX2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcygoKF92bS4kaTE4bi4kbihpdGVtLmFtb3VudFswXSkpICsgXCIgLSBcIiArIChfdm0uJGkxOG4uJG4oaXRlbS5hbW91bnRbMV0pKSkpfX0pXX19XSl9KV0sMSksX2MoJ2hyJyksX2MoJ2gzJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy5wb3NzaWJsZUZpbmRzLmxpc3RPZlBvc3NpYmxlRmluZHMpfX0pLF92bS5fbCgoX3ZtLnNpemVzKSxmdW5jdGlvbihzaXplKXtyZXR1cm4gX2MoJ2Rpdicse2tleTpzaXplLHN0YXRpY0NsYXNzOlwiZmluZC1jb2xcIn0sW19jKCdoMycse3N0YXRpY0NsYXNzOlwidGFibGUtdGl0bGVcIn0sW19jKCdleHBlZGl0aW9uLXNpemUtaWNvbicse2F0dHJzOntcInNpemVcIjpzaXplfX0pLF9jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy5wb3NzaWJsZUZpbmRzLmZpbmRTaXplcyhfdm0uJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLmV4cGVkaXRpb25FdmVudFNpemVzW3NpemVdKSl9fSldLDEpLF9jKCdncmlkLXRhYmxlJyx7c3R5bGU6KChcIi0tY29sb3I6IFwiICsgKF92bS5zaXplQ29sb3JzW3NpemVdKSkpLGF0dHJzOntcImlubGluZVwiOlwiXCIsXCJpdGVtc1wiOl92bS5maW5kc1tzaXplXSxcImNvbHVtbnNcIjpfdm0uY29sdW1uc30sc2NvcGVkU2xvdHM6X3ZtLl91KFt7a2V5OlwiY2VsbC0uK1wiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgdmFsdWUgPSByZWYudmFsdWU7XG5yZXR1cm4gW19jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiRuKHZhbHVlKSl9fSldfX1dLG51bGwsdHJ1ZSl9KV0sMSl9KV0sMil9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNtYWxsLXRhYmxlc1wiPlxyXG4gICAgICAgICAgICA8Z3JpZC10YWJsZSBpbmxpbmUgOmNvbHVtbnM9XCJpbmZvQ29sdW1uc1wiIDppdGVtcz1cImluZm9JdGVtc1wiIG5vLWhlYWRlcj5cclxuICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSAjY2VsbC12YWx1ZT1cInsgdmFsdWUsIGl0ZW0gfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvLXBsYXllci1jbGFzcyB2LWlmPVwiaXRlbS50eXBlID09ICdwbGF5ZXJDbGFzcydcIiA6cGxheWVyLWNsYXNzPVwidmFsdWVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtZWxzZS1pZj1cIml0ZW0udHlwZSA9PSAnbnVtYmVyJ1wiIHYtdGV4dD1cInZhbHVlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LWVsc2Ugdi10ZXh0PVwiJGkxOG4uJG4odmFsdWUgKiAxMDAsIHBlcmNlbnRhZ2VGb3JtYXQpICsgJyUnXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgICAgIDwvZ3JpZC10YWJsZT5cclxuXHJcbiAgICAgICAgICAgIDxncmlkLXRhYmxlIGlubGluZSA6Y29sdW1ucz1cIm1heEZpbmRzQ29sdW1uc1wiIDppdGVtcz1cIm1heEZpbmRzSXRlbXNcIj5cclxuICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSAjY2VsbC1rZXk9XCJ7IHZhbHVlIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1pZj1cInZhbHVlID09ICdtZXRhbCdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG8tcmVzb3VyY2UgcmVzb3VyY2U9XCJtZXRhbFwiIHNpemU9XCIyNHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gdi10ZXh0PVwiJGkxOG4uJG4oZmluZHMubGFyZ2VbZmluZHMubGFyZ2UubGVuZ3RoIC0gMV0ubWV0YWwpXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWVsc2UtaWY9XCJ2YWx1ZSA9PSAnY3J5c3RhbCdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG8tcmVzb3VyY2UgcmVzb3VyY2U9XCJjcnlzdGFsXCIgc2l6ZT1cIjI0cHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LXRleHQ9XCIkaTE4bi4kbihmaW5kcy5sYXJnZVtmaW5kcy5sYXJnZS5sZW5ndGggLSAxXS5jcnlzdGFsKVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1lbHNlLWlmPVwidmFsdWUgPT0gJ2RldXRlcml1bSdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG8tcmVzb3VyY2UgcmVzb3VyY2U9XCJkZXV0ZXJpdW1cIiBzaXplPVwiMjRweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtdGV4dD1cIiRpMThuLiRuKGZpbmRzLmxhcmdlW2ZpbmRzLmxhcmdlLmxlbmd0aCAtIDFdLmRldXRlcml1bSlcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cInZhbHVlID09ICdzaGlwVW5pdHMnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvLXNoaXAgOnNoaXA9XCJTaGlwVHlwZS5iYXR0bGVzaGlwXCIgc2l6ZT1cIjI0cHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LXRleHQ9XCIkaTE4bi4kbihmaW5kcy5sYXJnZVtmaW5kcy5sYXJnZS5sZW5ndGggLSAxXS5zaGlwVW5pdHMpXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPC9ncmlkLXRhYmxlPlxyXG5cclxuICAgICAgICAgICAgPGdyaWQtdGFibGUgaW5saW5lIDpjb2x1bW5zPVwiZGFya01hdHRlckNvbHVtbnNcIiA6aXRlbXM9XCJkYXJrTWF0dGVySXRlbXNcIj5cclxuICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSAjY2VsbC1zaXplPVwieyB2YWx1ZSB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGV4cGVkaXRpb24tc2l6ZS1pY29uIDpzaXplPVwidmFsdWVcIiBjbGFzcz1cInNjYWxlZC1pY29uXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICA8dGVtcGxhdGUgI2NlbGwtYW1vdW50PVwieyBpdGVtIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8by1yZXNvdXJjZSByZXNvdXJjZT1cImRhcmstbWF0dGVyXCIgc2l6ZT1cIjI0cHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtdGV4dD1cImAkeyRpMThuLiRuKGl0ZW0uYW1vdW50WzBdKX0gLSAkeyRpMThuLiRuKGl0ZW0uYW1vdW50WzFdKX1gXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgICAgIDwvZ3JpZC10YWJsZT5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGhyIC8+XHJcblxyXG4gICAgICAgIDxoMyB2LXRleHQ9XCIkaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMucG9zc2libGVGaW5kcy5saXN0T2ZQb3NzaWJsZUZpbmRzXCIgLz5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmluZC1jb2xcIiB2LWZvcj1cInNpemUgaW4gc2l6ZXNcIiA6a2V5PVwic2l6ZVwiPlxyXG4gICAgICAgICAgICA8aDMgY2xhc3M9XCJ0YWJsZS10aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAgPGV4cGVkaXRpb24tc2l6ZS1pY29uIDpzaXplPVwic2l6ZVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiB2LXRleHQ9XCIkaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMucG9zc2libGVGaW5kcy5maW5kU2l6ZXMoJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLmV4cGVkaXRpb25FdmVudFNpemVzW3NpemVdKVwiIC8+XHJcbiAgICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICAgIDxncmlkLXRhYmxlIGlubGluZSA6aXRlbXM9XCJmaW5kc1tzaXplXVwiIDpjb2x1bW5zPVwiY29sdW1uc1wiIDpzdHlsZT1cImAtLWNvbG9yOiAke3NpemVDb2xvcnNbc2l6ZV19YFwiPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtc2xvdDpbYGNlbGwtLitgXT1cInsgdmFsdWUgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtdGV4dD1cIiRpMThuLiRuKHZhbHVlKVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L2dyaWQtdGFibGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgeyBFeHBlZGl0aW9uRXZlbnRTaXplLCBFeHBlZGl0aW9uRXZlbnRTaXplcyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9leHBlZGl0aW9ucy9FeHBlZGl0aW9uRXZlbnRTaXplJztcclxuICAgIGltcG9ydCB7IFBsYXllckNsYXNzIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2NsYXNzZXMvUGxheWVyQ2xhc3MnO1xyXG4gICAgaW1wb3J0IHsgU2hpcFR5cGUgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvc2hpcHMvU2hpcFR5cGUnO1xyXG4gICAgaW1wb3J0IHsgY3JlYXRlTWFwcGVkUmVjb3JkLCBjcmVhdGVSZWNvcmQgfSBmcm9tICdAL3NoYXJlZC91dGlscy9jcmVhdGVSZWNvcmQnO1xyXG4gICAgaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJztcclxuICAgIGltcG9ydCB7IEdyaWRUYWJsZUNvbHVtbiB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvY29tbW9uL0dyaWRUYWJsZS52dWUnO1xyXG4gICAgaW1wb3J0IHsgRW1waXJlRGF0YU1vZHVsZSB9IGZyb20gJy4uLy4uLy4uL2RhdGEvRW1waXJlRGF0YU1vZHVsZSc7XHJcbiAgICBpbXBvcnQgeyBTZXR0aW5nc0RhdGFNb2R1bGUgfSBmcm9tICcuLi8uLi8uLi9kYXRhL1NldHRpbmdzRGF0YU1vZHVsZSc7XHJcbiAgICBpbXBvcnQgeyBnZXRSR0JTdHJpbmcgfSBmcm9tICcuLi8uLi8uLi91dGlscy9nZXRSR0JTdHJpbmcnO1xyXG4gICAgaW1wb3J0IEV4cGVkaXRpb25TaXplSWNvbiBmcm9tICdAL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvZXhwZWRpdGlvbnMvRXhwZWRpdGlvblNpemVJY29uLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBQbGFuZXREYXRhIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL2VtcGlyZS9QbGFuZXREYXRhJztcclxuICAgIGltcG9ydCB7IENsYXNzQm9udXNMaWZlZm9ybVRlY2hub2xvZ2llcywgRXhwZWRpdGlvbkJvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXMgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL3RlY2hub2xvZ2llcy9MaWZlZm9ybVRlY2hub2xvZ2llcyc7XHJcbiAgICBpbXBvcnQgeyBFeHBlZGl0aW9uRXZlbnRUeXBlIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL2V4cGVkaXRpb25zL0V4cGVkaXRpb25FdmVudFR5cGUnO1xyXG4gICAgaW1wb3J0IHsgZ2V0UGxhbmV0TGlmZWZvcm1UZWNobm9sb2d5Qm9vc3QgfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvbGlmZWZvcm1zJztcclxuICAgIGltcG9ydCB7IExpZmVmb3JtVHlwZSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvTGlmZWZvcm1UeXBlJztcclxuICAgIGltcG9ydCB7IGdldExpZmVmb3JtTGV2ZWxUZWNobm9sb2d5Qm9udXMgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL2V4cGVyaWVuY2UnO1xyXG4gICAgaW1wb3J0IHsgU2VydmVyU2V0dGluZ3NEYXRhTW9kdWxlIH0gZnJvbSAnQC92aWV3cy9zdGF0cy9kYXRhL1NlcnZlclNldHRpbmdzRGF0YU1vZHVsZSc7XHJcbiAgICBpbXBvcnQgeyBnZXRFeHBlZGl0aW9uRmluZEZhY3RvciB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9leHBlZGl0aW9ucy9nZXRFeHBlZGl0aW9uRmluZEZhY3Rvcic7XHJcbiAgICBpbXBvcnQgeyBmaW5kQmFzZUFtb3VudHMgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvZXhwZWRpdGlvbnMvZmluZEJhc2VBbW91bnRzJztcclxuICAgIGltcG9ydCB7IEV4cGVkaXRpb25GaW5kYWJsZVNoaXBUeXBlcyB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvZXhwZWRpdGlvbnMvRXhwZWRpdGlvbkV2ZW50c1wiO1xyXG4gICAgaW1wb3J0IHsgU2hpcEJ5VHlwZXMgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL3NoaXBzL1NoaXBUeXBlc1wiO1xyXG4gICAgaW1wb3J0IHsgZ2V0TXN1T3JEc3UgfSBmcm9tIFwiQC92aWV3cy9zdGF0cy9tb2RlbHMvc2V0dGluZ3MvZ2V0TXN1T3JEc3VcIjtcclxuXHJcblxyXG4gICAgdHlwZSBGaW5kYWJsZVVuaXRzID0ge1xyXG4gICAgICAgIG1ldGFsOiBudW1iZXI7XHJcbiAgICAgICAgY3J5c3RhbDogbnVtYmVyO1xyXG4gICAgICAgIGRldXRlcml1bTogbnVtYmVyO1xyXG4gICAgICAgIHNoaXBVbml0czogbnVtYmVyO1xyXG4gICAgICAgIG1heFNoaXBVbml0c0NvbnZlcnRlZDogbnVtYmVyO1xyXG4gICAgfTtcclxuXHJcbiAgICBAQ29tcG9uZW50KHtcclxuICAgICAgICBjb21wb25lbnRzOiB7XHJcbiAgICAgICAgICAgIEV4cGVkaXRpb25TaXplSWNvbixcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF4RmluZHMgZXh0ZW5kcyBWdWUge1xyXG5cclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IFNoaXBUeXBlID0gU2hpcFR5cGU7XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBFeHBlZGl0aW9uRXZlbnRTaXplID0gRXhwZWRpdGlvbkV2ZW50U2l6ZTtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IHNpemVzID0gRXhwZWRpdGlvbkV2ZW50U2l6ZXM7XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgcGVyY2VudGFnZUZvcm1hdDogSW50bC5OdW1iZXJGb3JtYXRPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDMsXHJcbiAgICAgICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBzaXplQ29sb3JzKCk6IFJlY29yZDxFeHBlZGl0aW9uRXZlbnRTaXplLCBzdHJpbmc+IHtcclxuICAgICAgICAgICAgY29uc3QgY29sb3JzID0gU2V0dGluZ3NEYXRhTW9kdWxlLnNldHRpbmdzLmNvbG9ycy5leHBlZGl0aW9ucy5zaXplcztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBbRXhwZWRpdGlvbkV2ZW50U2l6ZS5zbWFsbF06IGdldFJHQlN0cmluZyhjb2xvcnMuc21hbGwpISxcclxuICAgICAgICAgICAgICAgIFtFeHBlZGl0aW9uRXZlbnRTaXplLm1lZGl1bV06IGdldFJHQlN0cmluZyhjb2xvcnMubWVkaXVtKSEsXHJcbiAgICAgICAgICAgICAgICBbRXhwZWRpdGlvbkV2ZW50U2l6ZS5sYXJnZV06IGdldFJHQlN0cmluZyhjb2xvcnMubGFyZ2UpISxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGNvbHVtbnMoKTogR3JpZFRhYmxlQ29sdW1uPGtleW9mIEZpbmRhYmxlVW5pdHM+W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ21ldGFsJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5vZ2FtZS5yZXNvdXJjZXMubWV0YWwsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2NyeXN0YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0Lm9nYW1lLnJlc291cmNlcy5jcnlzdGFsLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdkZXV0ZXJpdW0nLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0Lm9nYW1lLnJlc291cmNlcy5kZXV0ZXJpdW0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3NoaXBVbml0cycsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMuc2hpcFVuaXRzLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdtYXhTaGlwVW5pdHNDb252ZXJ0ZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy5wb3NzaWJsZUZpbmRzLnNoaXBNYXhVbml0c0NvbnZlcnRlZCArIGAgKCR7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdzRGF0YU1vZHVsZS5zZXR0aW5ncy5jb252ZXJzaW9uUmF0ZXMubW9kZSA9PSAnbXN1J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5jb21tb24ubXN1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmNvbW1vbi5kc3VcclxuICAgICAgICAgICAgICAgICAgICB9KWAsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgaW5mb0NvbHVtbnMoKTogR3JpZFRhYmxlQ29sdW1uPCdsYWJlbCcgfCAndmFsdWUnPltdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnbGFiZWwnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ3ZhbHVlJyB9LFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcml2YXRlIGdldCBpbmZvSXRlbXMoKTogeyB0eXBlOiAncGxheWVyQ2xhc3MnIHwgJ3BlcmNlbnRhZ2UnIHwgJ251bWJlcic7IGxhYmVsOiBzdHJpbmc7IHZhbHVlOiBudW1iZXIgfCBQbGF5ZXJDbGFzcyB9W10ge1xyXG4gICAgICAgICAgICBjb25zdCBpbmZvID0gdGhpcy5pbmZvO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGxheWVyQ2xhc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy5wb3NzaWJsZUZpbmRzLmluZm8ucGxheWVyQ2xhc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluZm8ucGxheWVyQ2xhc3MsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy5wb3NzaWJsZUZpbmRzLmluZm8uZWNvbm9teVNwZWVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbmZvLmVjb1NwZWVkLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGVyY2VudGFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMuaW5mby5yZXNvdXJjZUZpbmRCb251cyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5mby5yZXNvdXJjZUZpbmRCb251cyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BlcmNlbnRhZ2UnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy5wb3NzaWJsZUZpbmRzLmluZm8uc2hpcEZpbmRCb251cyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5mby5zaGlwRmluZEJvbnVzLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGVyY2VudGFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMuaW5mby5kYXJrTWF0dGVyRmluZEJvbnVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbmZvLmRhcmtNYXR0ZXJCb251cyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BlcmNlbnRhZ2UnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy5wb3NzaWJsZUZpbmRzLmluZm8uZGlzY292ZXJlckJvbnVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbmZvLmRpc2NvdmVyZXJCb251cyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBtYXhGaW5kc0NvbHVtbnMoKTogR3JpZFRhYmxlQ29sdW1uPCdrZXknPltdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdrZXknLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy5wb3NzaWJsZUZpbmRzLm1heGltdW1GaW5kcyxcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnanVzdGlmeS1jb250ZW50JzogJ3NwYWNlLWJldHdlZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2FwJzogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByaXZhdGUgZ2V0IG1heEZpbmRzSXRlbXMoKTogeyBrZXk6IGtleW9mIEZpbmRhYmxlVW5pdHMgfVtdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnbWV0YWwnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2NyeXN0YWwnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2RldXRlcml1bScgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnc2hpcFVuaXRzJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdtYXhTaGlwVW5pdHNDb252ZXJ0ZWQnIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBkYXJrTWF0dGVyQ29sdW1ucygpOiBHcmlkVGFibGVDb2x1bW48J3NpemUnIHwgJ2Ftb3VudCc+W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdzaXplJyB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2Ftb3VudCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMuZmluZHNEYXJrTWF0dGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdqdXN0aWZ5LWNvbnRlbnQnOiAnc3RhcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2FwJzogJzZweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGRhcmtNYXR0ZXJJdGVtcygpOiB7IHNpemU6IEV4cGVkaXRpb25FdmVudFNpemUsIGFtb3VudDogW21pbjogbnVtYmVyLCBtYXg6IG51bWJlcl0gfVtdIHtcclxuICAgICAgICAgICAgY29uc3QgZmFjdG9yID0gMSArIHRoaXMuaW5mby5kYXJrTWF0dGVyQm9udXM7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IEV4cGVkaXRpb25FdmVudFNpemUuc21hbGwsXHJcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBbMzAwLCA0MDBdLm1hcCh4ID0+IE1hdGgudHJ1bmMoeCAqIGZhY3RvcikpIGFzIFtudW1iZXIsIG51bWJlcl0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IEV4cGVkaXRpb25FdmVudFNpemUubWVkaXVtLFxyXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogWzUwMCwgNzAwXS5tYXAoeCA9PiBNYXRoLnRydW5jKHggKiBmYWN0b3IpKSBhcyBbbnVtYmVyLCBudW1iZXJdLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiBFeHBlZGl0aW9uRXZlbnRTaXplLmxhcmdlLFxyXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogWzEwMDAsIDE4MDBdLm1hcCh4ID0+IE1hdGgudHJ1bmMoeCAqIGZhY3RvcikpIGFzIFtudW1iZXIsIG51bWJlcl0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgaW5mbygpIHtcclxuICAgICAgICAgICAgY29uc3QgZW1waXJlID0gRW1waXJlRGF0YU1vZHVsZS5lbXBpcmU7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwbGFuZXRzID0gT2JqZWN0LnZhbHVlcyhlbXBpcmUucGxhbmV0cykuZmlsdGVyKHAgPT4gIXAuaXNNb29uKSBhcyBQbGFuZXREYXRhW107XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYW5ldEJ1aWxkaW5nQm9vc3RzID0gY3JlYXRlTWFwcGVkUmVjb3JkKFxyXG4gICAgICAgICAgICAgICAgcGxhbmV0cyxcclxuICAgICAgICAgICAgICAgIHBsYW5ldCA9PiBwbGFuZXQuaWQsXHJcbiAgICAgICAgICAgICAgICBwbGFuZXQgPT4gZ2V0UGxhbmV0TGlmZWZvcm1UZWNobm9sb2d5Qm9vc3QocGxhbmV0KSxcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlRmluZEJvbnVzID0gRXhwZWRpdGlvbkJvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXMucmVkdWNlKCh0b3RhbCwgdGVjaCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRlY2hCb251cyA9IDA7XHJcbiAgICAgICAgICAgICAgICBwbGFuZXRzLmZvckVhY2gocGxhbmV0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXZlbCA9IHBsYW5ldC5hY3RpdmVMaWZlZm9ybVRlY2hub2xvZ2llcy5pbmNsdWRlcyh0ZWNoLnR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGxhbmV0LmxpZmVmb3JtVGVjaG5vbG9naWVzW3RlY2gudHlwZV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlQm9udXMgPSB0ZWNoLmdldEV4cGVkaXRpb25Cb251cyhFeHBlZGl0aW9uRXZlbnRUeXBlLnJlc291cmNlcywgbGV2ZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxldmVsQm9udXMgPSBwbGFuZXQuYWN0aXZlTGlmZWZvcm0gPT0gTGlmZWZvcm1UeXBlLm5vbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYmFzZUJvbnVzICogZ2V0TGlmZWZvcm1MZXZlbFRlY2hub2xvZ3lCb251cyhFbXBpcmVEYXRhTW9kdWxlLmxpZmVmb3JtRXhwZXJpZW5jZVtwbGFuZXQuYWN0aXZlTGlmZWZvcm1dKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0JvbnVzID0gYmFzZUJvbnVzICogcGxhbmV0QnVpbGRpbmdCb29zdHNbcGxhbmV0LmlkXVt0ZWNoLnR5cGVdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9IGJhc2VCb251cyArIGxldmVsQm9udXMgKyBidWlsZGluZ0JvbnVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlY2hCb251cyArPSB0b3RhbDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbCArIHRlY2hCb251cztcclxuICAgICAgICAgICAgfSwgMCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzaGlwRmluZEJvbnVzID0gRXhwZWRpdGlvbkJvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXMucmVkdWNlKCh0b3RhbCwgdGVjaCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRlY2hCb251cyA9IDA7XHJcbiAgICAgICAgICAgICAgICBwbGFuZXRzLmZvckVhY2gocGxhbmV0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXZlbCA9IHBsYW5ldC5hY3RpdmVMaWZlZm9ybVRlY2hub2xvZ2llcy5pbmNsdWRlcyh0ZWNoLnR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGxhbmV0LmxpZmVmb3JtVGVjaG5vbG9naWVzW3RlY2gudHlwZV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlQm9udXMgPSB0ZWNoLmdldEV4cGVkaXRpb25Cb251cyhFeHBlZGl0aW9uRXZlbnRUeXBlLmZsZWV0LCBsZXZlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGV2ZWxCb251cyA9IHBsYW5ldC5hY3RpdmVMaWZlZm9ybSA9PSBMaWZlZm9ybVR5cGUubm9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBiYXNlQm9udXMgKiBnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzKEVtcGlyZURhdGFNb2R1bGUubGlmZWZvcm1FeHBlcmllbmNlW3BsYW5ldC5hY3RpdmVMaWZlZm9ybV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nQm9udXMgPSBiYXNlQm9udXMgKiBwbGFuZXRCdWlsZGluZ0Jvb3N0c1twbGFuZXQuaWRdW3RlY2gudHlwZV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gYmFzZUJvbnVzICsgbGV2ZWxCb251cyArIGJ1aWxkaW5nQm9udXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVjaEJvbnVzICs9IHRvdGFsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsICsgdGVjaEJvbnVzO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRhcmtNYXR0ZXJCb251cyA9IEV4cGVkaXRpb25Cb251c0xpZmVmb3JtVGVjaG5vbG9naWVzLnJlZHVjZSgodG90YWwsIHRlY2gpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCB0ZWNoQm9udXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgcGxhbmV0cy5mb3JFYWNoKHBsYW5ldCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGV2ZWwgPSBwbGFuZXQuYWN0aXZlTGlmZWZvcm1UZWNobm9sb2dpZXMuaW5jbHVkZXModGVjaC50eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBsYW5ldC5saWZlZm9ybVRlY2hub2xvZ2llc1t0ZWNoLnR5cGVdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZUJvbnVzID0gdGVjaC5nZXRFeHBlZGl0aW9uQm9udXMoRXhwZWRpdGlvbkV2ZW50VHlwZS5kYXJrTWF0dGVyLCBsZXZlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGV2ZWxCb251cyA9IHBsYW5ldC5hY3RpdmVMaWZlZm9ybSA9PSBMaWZlZm9ybVR5cGUubm9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBiYXNlQm9udXMgKiBnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzKEVtcGlyZURhdGFNb2R1bGUubGlmZWZvcm1FeHBlcmllbmNlW3BsYW5ldC5hY3RpdmVMaWZlZm9ybV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nQm9udXMgPSBiYXNlQm9udXMgKiBwbGFuZXRCdWlsZGluZ0Jvb3N0c1twbGFuZXQuaWRdW3RlY2gudHlwZV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gYmFzZUJvbnVzICsgbGV2ZWxCb251cyArIGJ1aWxkaW5nQm9udXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVjaEJvbnVzICs9IHRvdGFsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsICsgdGVjaEJvbnVzO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRpc2NvdmVyZXJCb251cyA9IENsYXNzQm9udXNMaWZlZm9ybVRlY2hub2xvZ2llcy5yZWR1Y2UoKHRvdGFsLCB0ZWNoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVjaEJvbnVzID0gMDtcclxuICAgICAgICAgICAgICAgIHBsYW5ldHMuZm9yRWFjaChwbGFuZXQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxldmVsID0gcGxhbmV0LmFjdGl2ZUxpZmVmb3JtVGVjaG5vbG9naWVzLmluY2x1ZGVzKHRlY2gudHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwbGFuZXQubGlmZWZvcm1UZWNobm9sb2dpZXNbdGVjaC50eXBlXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VCb251cyA9IHRlY2guZ2V0Q2xhc3NCb251cyhQbGF5ZXJDbGFzcy5kaXNjb3ZlcmVyLCBsZXZlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGV2ZWxCb251cyA9IHBsYW5ldC5hY3RpdmVMaWZlZm9ybSA9PSBMaWZlZm9ybVR5cGUubm9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBiYXNlQm9udXMgKiBnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzKEVtcGlyZURhdGFNb2R1bGUubGlmZWZvcm1FeHBlcmllbmNlW3BsYW5ldC5hY3RpdmVMaWZlZm9ybV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nQm9udXMgPSBiYXNlQm9udXMgKiBwbGFuZXRCdWlsZGluZ0Jvb3N0c1twbGFuZXQuaWRdW3RlY2gudHlwZV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gYmFzZUJvbnVzICsgbGV2ZWxCb251cyArIGJ1aWxkaW5nQm9udXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVjaEJvbnVzICs9IHRvdGFsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsICsgdGVjaEJvbnVzO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJDbGFzczogZW1waXJlLnBsYXllckNsYXNzLFxyXG4gICAgICAgICAgICAgICAgZWNvU3BlZWQ6IFNlcnZlclNldHRpbmdzRGF0YU1vZHVsZS5zZXJ2ZXJTZXR0aW5ncy5zcGVlZC5lY29ub215LFxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VGaW5kQm9udXMsXHJcbiAgICAgICAgICAgICAgICBzaGlwRmluZEJvbnVzLFxyXG4gICAgICAgICAgICAgICAgZGlzY292ZXJlckJvbnVzLFxyXG4gICAgICAgICAgICAgICAgZGFya01hdHRlckJvbnVzLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgZmluZHMoKTogUmVjb3JkPEV4cGVkaXRpb25FdmVudFNpemUsIEZpbmRhYmxlVW5pdHNbXT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoZmluZGVyRmFjdG9yID0gMjtcclxuICAgICAgICAgICAgY29uc3QgaW5mbyA9IHRoaXMuaW5mbztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzRmFjdG9yID0gaW5mby5wbGF5ZXJDbGFzcyA9PSBQbGF5ZXJDbGFzcy5kaXNjb3ZlcmVyXHJcbiAgICAgICAgICAgICAgICA/IGluZm8uZWNvU3BlZWQgKiAoMS41ICogKDEgKyBpbmZvLmRpc2NvdmVyZXJCb251cykpXHJcbiAgICAgICAgICAgICAgICA6IDE7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCB0b3BQb2ludHNGYWN0b3JzID0gZ2V0RXhwZWRpdGlvbkZpbmRGYWN0b3IoU2VydmVyU2V0dGluZ3NEYXRhTW9kdWxlLnNlcnZlclNldHRpbmdzLnRvcFNjb3JlID8/IDApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbWF4Q29udmVydGVkU2hpcENvc3QgPSBFeHBlZGl0aW9uRmluZGFibGVTaGlwVHlwZXMubWFwKHNoaXBUeXBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGlwID0gU2hpcEJ5VHlwZXNbc2hpcFR5cGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBzaGlwLmNvc3Q7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IGdldE1zdU9yRHN1KGNvc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuaXRzID0gY29zdC5tZXRhbCArIGNvc3QuY3J5c3RhbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydGVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bml0cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmU6IGNvbnZlcnRlZCAvIHVuaXRzLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KS5zb3J0KChhLGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKVswXTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVSZWNvcmQoXHJcbiAgICAgICAgICAgICAgICBFeHBlZGl0aW9uRXZlbnRTaXplcyxcclxuICAgICAgICAgICAgICAgIHNpemUgPT4gZmluZEJhc2VBbW91bnRzW3NpemVdLm1hcDxGaW5kYWJsZVVuaXRzPihiYXNlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXRhbCA9IHRvcFBvaW50c0ZhY3RvcnMgKiBiYXNlICogcGF0aGZpbmRlckZhY3RvciAqIGNsYXNzRmFjdG9yICogKDEgKyBpbmZvLnJlc291cmNlRmluZEJvbnVzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGlwVW5pdHMgPSB0b3BQb2ludHNGYWN0b3JzICogYmFzZSAqIHBhdGhmaW5kZXJGYWN0b3IgKiBjbGFzc0ZhY3RvciAqICgxICsgaW5mby5zaGlwRmluZEJvbnVzKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4U2hpcFVuaXRzQ29udmVydGVkID0gTWF0aC50cnVuYyhzaGlwVW5pdHMgLyBtYXhDb252ZXJ0ZWRTaGlwQ29zdC51bml0cykgKiBtYXhDb252ZXJ0ZWRTaGlwQ29zdC5jb252ZXJ0ZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFsOiBNYXRoLnRydW5jKG1ldGFsKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3J5c3RhbDogTWF0aC50cnVuYyhtZXRhbCAvIDIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXV0ZXJpdW06IE1hdGgudHJ1bmMobWV0YWwgLyAzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpcFVuaXRzOiBNYXRoLnRydW5jKHNoaXBVbml0cyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFNoaXBVbml0c0NvbnZlcnRlZCxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG48L3NjcmlwdD5cclxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxyXG4gICAgLmZpbmQtY29sIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogMTZweDtcclxuICAgIH1cclxuXHJcbiAgICAudGFibGUtdGl0bGUge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBnYXA6IDRweDtcclxuXHJcbiAgICAgICAgLm1kaSB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnNtYWxsLXRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBnYXA6IDE2cHg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xyXG4gICAgfVxyXG4gICAgLnNjYWxlZC1pY29uIHtcclxuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuNik7XHJcbiAgICB9XHJcbjwvc3R5bGU+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1Bvc3NpYmxlLUZpbmRzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1Bvc3NpYmxlLUZpbmRzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vUG9zc2libGUtRmluZHMudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWJkNDZmNTYyJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL1Bvc3NpYmxlLUZpbmRzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vUG9zc2libGUtRmluZHMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL1Bvc3NpYmxlLUZpbmRzLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWJkNDZmNTYyJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiYmQ0NmY1NjJcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwibmFtZXMiOlsiZmluZEJhc2VBbW91bnRzIiwiZ2V0RXhwZWRpdGlvbkZpbmRGYWN0b3IiLCJ0b3BTY29yZSIsImJvbnVzUGVyTGV2ZWwiLCJnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzIiwiZXhwZXJpZW5jZSIsImxldmVsIiwiZ2V0TGlmZWZvcm1MZXZlbCIsImV4cEZvckxldmVsIiwiZ2V0TGlmZWZvcm1FeHBlcmllbmNlTmVlZGVkRm9yTGV2ZWwiLCJnZXRQbGFuZXRDb2xsZWN0b3JDbGFzc0JvbnVzRmFjdG9yIiwicGxhbmV0IiwidGVjaCIsImFjdGl2ZUxpZmVmb3JtVGVjaG5vbG9naWVzIiwiaW5jbHVkZXMiLCJ0eXBlIiwicmVkdWNlIiwidG90YWwiLCJnZXRDbGFzc0JvbnVzIiwibGlmZWZvcm1UZWNobm9sb2dpZXMiLCJnZXRQbGFuZXRMaWZlZm9ybVRlY2hub2xvZ3lCb29zdCIsInRlY2hub2xvZ3kiLCJhY3RpdmVMaWZlZm9ybSIsIm1hcCIsImJ1aWxkaW5nIiwiZ2V0TGlmZWZvcm1UZWNobm9sb2d5Qm9udXMiLCJsaWZlZm9ybUJ1aWxkaW5ncyIsImN1ciIsImdldFBsYW5ldExpZmVmb3JtQnVpbGRpbmdCb251c1Byb2R1Y3Rpb25GYWN0b3IiLCJnZXRQcm9kdWN0aW9uQm9udXMiLCJtZXRhbCIsImNyeXN0YWwiLCJkZXV0ZXJpdW0iLCJlbmVyZ3kiLCJnZXRQbGFuZXRMaWZlZm9ybVRlY2hub2xvZ3lCb251c1Byb2R1Y3Rpb25GYWN0b3IiLCJib251cyIsImdldE1zdU9yRHN1IiwicmVzb3VyY2VzIiwiZmFjdG9ycyIsImNvc3QiLCJjb3N0RmFjdG9ycyIsInJlc291cmNlIiwibW9kZSIsIm1zdSIsImRzdSIsInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInNpemUiLCJFeHBlZGl0aW9uRXZlbnRTaXplIiwic21hbGwiLCJzdGF0aWNDbGFzcyIsInN0eWxlIiwiY29sb3IiLCJjb2xvcnMiLCJtZWRpdW0iLCJsYXJnZSIsIl9lIiwic3RhdGljUmVuZGVyRm5zIiwiY29tcG9uZW50IiwiYXR0cnMiLCJpbmZvQ29sdW1ucyIsImluZm9JdGVtcyIsInNjb3BlZFNsb3RzIiwiX3UiLCJrZXkiLCJmbiIsInJlZiIsInZhbHVlIiwiaXRlbSIsImRvbVByb3BzIiwiX3MiLCIkaTE4biIsIiRuIiwicGVyY2VudGFnZUZvcm1hdCIsIm1heEZpbmRzQ29sdW1ucyIsIm1heEZpbmRzSXRlbXMiLCJmaW5kcyIsImxlbmd0aCIsIlNoaXBUeXBlIiwiYmF0dGxlc2hpcCIsInNoaXBVbml0cyIsImRhcmtNYXR0ZXJDb2x1bW5zIiwiZGFya01hdHRlckl0ZW1zIiwiYW1vdW50IiwiJHQiLCJleHRlbnNpb24iLCJleHBlZGl0aW9ucyIsInBvc3NpYmxlRmluZHMiLCJsaXN0T2ZQb3NzaWJsZUZpbmRzIiwiX2wiLCJmaW5kU2l6ZXMiLCJleHBlZGl0aW9uRXZlbnRTaXplcyIsInNpemVDb2xvcnMiLCJjb2x1bW5zIl0sInNvdXJjZVJvb3QiOiIifQ==