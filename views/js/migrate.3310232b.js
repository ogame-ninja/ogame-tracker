(()=>{"use strict";var e={4384:(e,t,r)=>{r.d(t,{_N:()=>d,DI:()=>u});var a=r(6531),o=r(6538),n=r(2927);const i={};async function s(e,t){let r=i[e];if(null==r){i[e]=r=(0,a.X3)(e,n.J,{upgrade:t});const o=await r;o.addEventListener("close",(t=>delete i[e]))}return await r}function c(e){return e.serverId<=0&&(0,o.A)("Server ID is 0 or less"),e.playerId<=0&&(0,o.A)("Player ID is 0 or less"),`s${e.serverId}-${e.language}-${e.playerId}`}async function d(e){const t=c(e);return await s(t,((e,t,r,a)=>{t<1&&(e.createObjectStore("combatReports",{keyPath:"id"}),e.createObjectStore("debrisFieldReports",{keyPath:"id"}),e.createObjectStore("expeditions",{keyPath:"id"}),e.createObjectStore("empire")),t<3&&e.createObjectStore("universeSpecificSettings"),t<7&&e.createObjectStore("lifeformDiscoveries",{keyPath:"id"}),t<8&&e.createObjectStore("combatReports.ignored")}))}const l="ogame-tracker";async function u(){return await s(l,((e,t,r,a)=>{t<1&&(e.createObjectStore("settings"),e.createObjectStore("accounts",{keyPath:["serverId","serverLanguage","id"]}),e.createObjectStore("servers",{keyPath:["id","language"]})),t<2&&a.objectStore("accounts").createIndex("server",["serverId","serverLanguage"])}))}},6403:(e,t,r)=>{var a=r(144),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("h3",[e._v("(DE) Daten-Migration")]),e._m(0),r("hr"),r("h3",[e._v("(EN) Data migration")]),e._m(1),r("hr"),r("h3",[e._v("(PT) Migração de dados")]),e._m(2),r("br"),r("button",{attrs:{disabled:e.isImporting},domProps:{textContent:e._s("Daten migrieren/Migrate data/Migrar dados")},on:{click:function(t){return e.migrateData()}}}),e.isImporting?[r("br"),r("loading-spinner")]:e._e()],2)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" Willkommen zur neuen Version vom OGame Tracker!"),r("br"),e._v(" Einiges hat sich im Hintergrund geändert, weshalb du deine bestehenden Daten migrieren musst."),r("br"),e._v(" Die Migration der Daten ist jedoch einmalig und deine Altdaten werden nicht entfernt, sollte bei der Migration ein Fehler auftreten."),r("br"),r("br"),e._v(" Bitte beginne die Migration der Daten, indem du den Button unter dieser Nachricht klickst."),r("br"),e._v(" Ist die Migration abgeschlossen, sollte sich dieses Fenster von selbst schließen. ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" Welcome to the new OGame Tracker version!"),r("br"),e._v(" A lot changed in the background which is why you have to migrate already tracked data."),r("br"),e._v(" However, you only have to do this once and your existing data will be not be deleted in case an error occurs."),r("br"),r("br"),e._v(" Please start the migration by clicking the button below."),r("br"),e._v(" When the migration is done this window should close by itself. ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" Bem vindo à nova versão do OGame Tracker!"),r("br"),e._v(" Muitas coisas mudaram no background e essa é a razão para teres que fazer a migração dos dados já monitorizados."),r("br"),e._v(" No entanto, tu apenas terás que fazer isto uma única vez e os dados existentes não serão apagados no caso de algum erro ocorrer."),r("br"),r("br"),e._v(" Para começar a migração dos dados basta clicares no botão abaixo."),r("br"),e._v(" Quando a migração terminar esta janela/tab irá fechar-se automaticamente. ")])}],i=r(655),s=r(4384),c=r(329),d=r(4028);let l=class extends d.w3{fileInput;file=null;isImporting=!1;onFileChanged(){this.file=this.fileInput.files?.[0]??null}async mounted(){this.fadeSplashscreen()}async migrateData(){this.isImporting=!0,await(0,c.g)(250);try{const e=await this.getV1Data();for(const t of e.accounts)await this.importAccount(t)}catch(e){alert("Migration failed with the following error, please contact the developer:\n"+e)}await chrome.storage.local.set({"migration-v1-to-v2":!0}),window.close()}fadeSplashscreen(){const e=document.querySelector("#splashscreen");e?.classList.add("fade"),setTimeout((()=>e?.remove()),500)}async importAccount(e){console.log("importing from account",{language:e.language,serverId:e.serverId,playerId:e.playerId});const t=await(0,s.DI)();await t.put("accounts",{serverId:e.serverId,serverLanguage:e.language,id:e.playerId,name:e.playerName}),await t.put("servers",{id:e.serverId,language:e.language,name:e.universeName});const r=await(0,s._N)(e),a=r.transaction(["expeditions","combatReports","debrisFieldReports"],"readwrite"),o=a.objectStore("expeditions");for(const s of Object.values(e.data.expeditions))await o.put(s);const n=a.objectStore("combatReports");for(const s of Object.values(e.data.combatReports))await n.put(s);const i=a.objectStore("debrisFieldReports");for(const s of Object.values(e.data.debrisFieldReports))await i.put(s);await a.done,console.log("imported account",{language:e.language,serverId:e.serverId,playerId:e.playerId})}async getV1Data(){const e=await chrome.storage.local.get(),t=Object.keys(e).filter((t=>t.endsWith("-version")&&"1.1"==e[t])).map((e=>e.replace(/-version$/,""))),r={type:"v1-to-v2-export",accounts:[]};return t.forEach((t=>{const{serverId:a,language:o,playerId:n}=t.match(/s(?<serverId>\d+)-(?<language>\w+)-(?<playerId>\d+)$/).groups,i={language:o,serverId:parseInt(a),playerId:parseInt(n),universeName:`${o.toUpperCase()} ${a}`,playerName:n,data:{expeditions:e[`${t}-expoEvents`]??{},combatReports:e[`${t}-battleReports`]??{},debrisFieldReports:e[`${t}-debrisFieldReports`]??{}}},s=e[`${t}-local-player`];null!=s&&(i.playerName=s.name??i.playerName,i.universeName=s.universeName??i.universeName),r.accounts.push(i)})),r}};(0,i.gn)([(0,d.Rl)("file-input")],l.prototype,"fileInput",void 0),l=(0,i.gn)([(0,d.wA)({components:{}})],l);const u=l,p=u;var g=r(1001),v=(0,g.Z)(p,o,n,!1,null,"3089e416",null);const m=v.exports;var b=r(1821);a.ZP.prototype.$forceCompute=function(e){this._computedWatchers[e]?.run()},Object.defineProperty(a.ZP.prototype,"$lang",{get:()=>navigator.language}),Object.defineProperty(a.ZP.prototype,"$i18n",{get:()=>b.j});r(7402),r(5524);var h=r(5599);(0,h.d)(),a.ZP.config.productionTip=!1,new a.ZP({render:e=>e(m)}).$mount("#app")}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,r),n.exports}r.m=e,(()=>{var e=[];r.O=(t,a,o,n)=>{if(!a){var i=1/0;for(l=0;l<e.length;l++){for(var[a,o,n]=e[l],s=!0,c=0;c<a.length;c++)(!1&n||i>=n)&&Object.keys(r.O).every((e=>r.O[e](a[c])))?a.splice(c--,1):(s=!1,n<i&&(i=n));if(s){e.splice(l--,1);var d=o();void 0!==d&&(t=d)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[a,o,n]}})(),(()=>{r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{r.j=5061})(),(()=>{var e={5061:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var o,n,[i,s,c]=a,d=0;if(i.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(c)var l=c(r)}for(t&&t(a);d<i.length;d++)n=i[d],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(l)},a=globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=r.O(void 0,[4998,3064],(()=>r(6403)));a=r.O(a)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBSFQ1QixFQUFVZ0MsRUFBYUMsR0FBV0YsRUFHaEIxQixFQUFJLEVBQzNCLEdBQUdMLEVBQVNrQyxNQUFNQyxHQUFnQyxJQUF4QlIsRUFBZ0JRLEtBQWEsQ0FDdEQsSUFBSTlDLEtBQVkyQyxFQUNaNUMsRUFBb0I0QixFQUFFZ0IsRUFBYTNDLEtBQ3JDRCxFQUFvQlEsRUFBRVAsR0FBWTJDLEVBQVkzQyxJQUdoRCxHQUFHNEMsRUFBUyxJQUFJbEMsRUFBU2tDLEVBQVE3QyxHQUdsQyxJQURHMEMsR0FBNEJBLEVBQTJCQyxHQUNyRDFCLEVBQUlMLEVBQVNNLE9BQVFELElBQ3pCdUIsRUFBVTVCLEVBQVNLLEdBQ2hCakIsRUFBb0I0QixFQUFFVyxFQUFpQkMsSUFBWUQsRUFBZ0JDLElBQ3JFRCxFQUFnQkMsR0FBUyxLQUUxQkQsRUFBZ0JDLEdBQVcsRUFFNUIsT0FBT3hDLEVBQW9CVSxFQUFFQyxJQUcxQnFDLEVBQXFCakIsV0FBVyw2QkFBK0JBLFdBQVcsOEJBQWdDLEdBQzlHaUIsRUFBbUJDLFFBQVFSLEVBQXFCUyxLQUFLLEtBQU0sSUFDM0RGLEVBQW1CRyxLQUFPVixFQUFxQlMsS0FBSyxLQUFNRixFQUFtQkcsS0FBS0QsS0FBS0YsSyxHQzdDdkYsSUFBSUksRUFBc0JwRCxFQUFvQlUsT0FBRVAsRUFBVyxDQUFDLEtBQUssT0FBTyxJQUFPSCxFQUFvQixRQUNuR29ELEVBQXNCcEQsRUFBb0JVLEVBQUUwQyxJIiwic291cmNlcyI6WyJvZ2FtZS10cmFja2VyOi8vLy4vc3JjL3NoYXJlZC9kYi9hY2Nlc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL21pZ3JhdGUvQXBwLnZ1ZT8xMTA0Iiwid2VicGFjazovLy9zcmMvdmlld3MvbWlncmF0ZS9BcHAudnVlPzQwMWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL21pZ3JhdGUvQXBwLnZ1ZT8wYmQxIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9taWdyYXRlL0FwcC52dWU/ZDJjNyIsIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvdmlld3MvbWlncmF0ZS9leHRlbmQtdnVlLnRzIiwib2dhbWUtdHJhY2tlcjovLy8uL3NyYy92aWV3cy9taWdyYXRlL21haW4udHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwPzVjM2UiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jaHVuayBsb2FkZWQ/MjI4NSIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzPzY5YzEiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nbG9iYWw/NWY0NSIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZD82YTExIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvcnVudGltZUlkPzliODgiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nPzc2NWEiLG51bGxdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJREJQRGF0YWJhc2UsIElEQlBUcmFuc2FjdGlvbiwgb3BlbkRCLCBTdG9yZU5hbWVzLCB1bndyYXAgfSBmcm9tIFwiaWRiXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VPZ2FtZU1ldGEgfSBmcm9tIFwiLi4vbWVzc2FnZXMvTWVzc2FnZVwiO1xyXG5pbXBvcnQgeyBfdGhyb3cgfSBmcm9tIFwiLi4vdXRpbHMvX3Rocm93XCI7XHJcbmltcG9ydCB7IERiVmVyc2lvbiwgT2dhbWVUcmFja2VyR2xvYmFsRGJTY2hlbWEsIE9nYW1lVHJhY2tlclBsYXllckRiU2NoZW1hLCBPZ2FtZVRyYWNrZXJTZXJ2ZXJEYlNjaGVtYSwgT2dhbWVUcmFja2VyVW5pdmVyc2VIaXN0b3J5RGJTY2hlbWEgfSBmcm9tIFwiLi9zY2hlbWFcIjtcclxuXHJcbmNvbnN0IGRhdGFiYXNlczogUGFydGlhbDxSZWNvcmQ8c3RyaW5nLCBQcm9taXNlPElEQlBEYXRhYmFzZTxhbnk+Pj4+ID0ge307XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJvcERhdGFiYXNlQ29ubmVjdGlvbnMoKSB7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhkYXRhYmFzZXMpKSB7XHJcbiAgICAgICAgZGVsZXRlIGRhdGFiYXNlc1trZXldO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXREYXRhYmFzZTxUU2NoZW1hPihcclxuICAgIG5hbWU6IHN0cmluZyxcclxuICAgIHVwZ3JhZGU6IChkYjogSURCUERhdGFiYXNlPFRTY2hlbWE+LCBvbGRWZXJzaW9uOiBudW1iZXIsIG5ld1ZlcnNpb246IG51bWJlciB8IG51bGwsIHRyYW5zYWN0aW9uOiBJREJQVHJhbnNhY3Rpb248VFNjaGVtYSwgU3RvcmVOYW1lczxUU2NoZW1hPltdLCBcInZlcnNpb25jaGFuZ2VcIj4pID0+IHZvaWRcclxuKTogUHJvbWlzZTxJREJQRGF0YWJhc2U8VFNjaGVtYT4+IHtcclxuXHJcbiAgICBsZXQgZGJQcm9taXNlID0gZGF0YWJhc2VzW25hbWVdO1xyXG4gICAgaWYgKGRiUHJvbWlzZSA9PSBudWxsKSB7XHJcbiAgICAgICAgZGF0YWJhc2VzW25hbWVdID0gZGJQcm9taXNlID0gb3BlbkRCPFRTY2hlbWE+KG5hbWUsIERiVmVyc2lvbiwgeyB1cGdyYWRlIH0pO1xyXG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgZGJQcm9taXNlO1xyXG4gICAgICAgIGRiLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgZXYgPT4gZGVsZXRlIGRhdGFiYXNlc1tuYW1lXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGF3YWl0IGRiUHJvbWlzZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBsYXllckRhdGFiYXNlTmFtZShtZXRhOiBNZXNzYWdlT2dhbWVNZXRhKTogc3RyaW5nIHtcclxuICAgIGlmKG1ldGEuc2VydmVySWQgPD0gMCkge1xyXG4gICAgICAgIF90aHJvdygnU2VydmVyIElEIGlzIDAgb3IgbGVzcycpO1xyXG4gICAgfVxyXG4gICAgaWYobWV0YS5wbGF5ZXJJZCA8PSAwKSB7XHJcbiAgICAgICAgX3Rocm93KCdQbGF5ZXIgSUQgaXMgMCBvciBsZXNzJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYHMke21ldGEuc2VydmVySWR9LSR7bWV0YS5sYW5ndWFnZX0tJHttZXRhLnBsYXllcklkfWA7XHJcbn1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBsYXllckRhdGFiYXNlKG1ldGE6IE1lc3NhZ2VPZ2FtZU1ldGEpOiBQcm9taXNlPElEQlBEYXRhYmFzZTxPZ2FtZVRyYWNrZXJQbGF5ZXJEYlNjaGVtYT4+IHtcclxuICAgIGNvbnN0IG5hbWUgPSBnZXRQbGF5ZXJEYXRhYmFzZU5hbWUobWV0YSk7XHJcbiAgICByZXR1cm4gYXdhaXQgZ2V0RGF0YWJhc2UobmFtZSwgKGRiLCBvbGRWZXJzaW9uLCBuZXdWZXJzaW9uLCB0eCkgPT4ge1xyXG4gICAgICAgIGlmIChvbGRWZXJzaW9uIDwgMSkge1xyXG4gICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnY29tYmF0UmVwb3J0cycsIHsga2V5UGF0aDogJ2lkJyB9KTtcclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ2RlYnJpc0ZpZWxkUmVwb3J0cycsIHsga2V5UGF0aDogJ2lkJyB9KTtcclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ2V4cGVkaXRpb25zJywgeyBrZXlQYXRoOiAnaWQnIH0pO1xyXG4gICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnZW1waXJlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG9sZFZlcnNpb24gPCAzKSB7XHJcbiAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCd1bml2ZXJzZVNwZWNpZmljU2V0dGluZ3MnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYob2xkVmVyc2lvbiA8IDcpIHtcclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ2xpZmVmb3JtRGlzY292ZXJpZXMnLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG9sZFZlcnNpb24gPCA4KSB7XHJcbiAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdjb21iYXRSZXBvcnRzLmlnbm9yZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJ2ZXJEYXRhYmFzZU5hbWUobWV0YTogTWVzc2FnZU9nYW1lTWV0YSk6IHN0cmluZyB7XHJcbiAgICBpZihtZXRhLnNlcnZlcklkIDw9IDApIHtcclxuICAgICAgICBfdGhyb3coJ1NlcnZlciBJRCBpcyAwIG9yIGxlc3MnKTtcclxuICAgIH1cclxuICAgIHJldHVybiBgcyR7bWV0YS5zZXJ2ZXJJZH0tJHttZXRhLmxhbmd1YWdlfWA7XHJcbn1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlckRhdGFiYXNlKG1ldGE6IE1lc3NhZ2VPZ2FtZU1ldGEpOiBQcm9taXNlPElEQlBEYXRhYmFzZTxPZ2FtZVRyYWNrZXJTZXJ2ZXJEYlNjaGVtYT4+IHtcclxuICAgIGNvbnN0IG5hbWUgPSBnZXRTZXJ2ZXJEYXRhYmFzZU5hbWUobWV0YSk7XHJcbiAgICByZXR1cm4gYXdhaXQgZ2V0RGF0YWJhc2UobmFtZSwgKGRiLCBvbGRWZXJzaW9uLCBuZXdWZXJzaW9uLCB0eCkgPT4ge1xyXG4gICAgICAgIGlmIChvbGRWZXJzaW9uIDwgMSkge1xyXG4gICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnc2VydmVyU2V0dGluZ3MnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVuaXZlcnNlSGlzdG9yeURhdGFiYXNlTmFtZShtZXRhOiBNZXNzYWdlT2dhbWVNZXRhKTogc3RyaW5nIHtcclxuICAgIGlmKG1ldGEuc2VydmVySWQgPD0gMCkge1xyXG4gICAgICAgIF90aHJvdygnU2VydmVyIElEIGlzIDAgb3IgbGVzcycpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGBzJHttZXRhLnNlcnZlcklkfS0ke21ldGEubGFuZ3VhZ2V9LnVuaXZlcnNlSGlzdG9yeWA7XHJcbn1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVuaXZlcnNlSGlzdG9yeURhdGFiYXNlKG1ldGE6IE1lc3NhZ2VPZ2FtZU1ldGEpOiBQcm9taXNlPElEQlBEYXRhYmFzZTxPZ2FtZVRyYWNrZXJVbml2ZXJzZUhpc3RvcnlEYlNjaGVtYT4+IHtcclxuICAgIGNvbnN0IG5hbWUgPSBnZXRVbml2ZXJzZUhpc3RvcnlEYXRhYmFzZU5hbWUobWV0YSk7XHJcbiAgICByZXR1cm4gYXdhaXQgZ2V0RGF0YWJhc2UobmFtZSwgKGRiLCBvbGRWZXJzaW9uLCBuZXdWZXJzaW9uLCB0eCkgPT4ge1xyXG4gICAgICAgIGlmIChvbGRWZXJzaW9uIDwgMSkge1xyXG4gICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnX2xhc3RVcGRhdGUnKTtcclxuXHJcbiAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdhbGxpYW5jZXMnLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdhbGxpYW5jZVRhZ3MnLCB7IGtleVBhdGg6IFsnYWxsaWFuY2VJZCcsICdkYXRlJ10gfSlcclxuICAgICAgICAgICAgICAgIC5jcmVhdGVJbmRleCgnYWxsaWFuY2VJZCcsICdhbGxpYW5jZUlkJyk7XHJcbiAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdhbGxpYW5jZU5hbWVzJywgeyBrZXlQYXRoOiBbJ2FsbGlhbmNlSWQnLCAnZGF0ZSddIH0pXHJcbiAgICAgICAgICAgICAgICAuY3JlYXRlSW5kZXgoJ2FsbGlhbmNlSWQnLCAnYWxsaWFuY2VJZCcpO1xyXG4gICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnYWxsaWFuY2VNZW1iZXJzJywgeyBrZXlQYXRoOiBbJ2FsbGlhbmNlSWQnLCAnZGF0ZSddIH0pXHJcbiAgICAgICAgICAgICAgICAuY3JlYXRlSW5kZXgoJ2FsbGlhbmNlSWQnLCAnYWxsaWFuY2VJZCcpO1xyXG4gICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnYWxsaWFuY2VTdGF0ZXMnLCB7IGtleVBhdGg6IFsnYWxsaWFuY2VJZCcsICdkYXRlJ10gfSlcclxuICAgICAgICAgICAgICAgIC5jcmVhdGVJbmRleCgnYWxsaWFuY2VJZCcsICdhbGxpYW5jZUlkJyk7XHJcbiAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdhbGxpYW5jZVNjb3JlcycsIHsga2V5UGF0aDogWydhbGxpYW5jZUlkJywgJ2RhdGUnLCAndHlwZSddIH0pXHJcbiAgICAgICAgICAgICAgICAuY3JlYXRlSW5kZXgoJ2FsbGlhbmNlSWQnLCAnYWxsaWFuY2VJZCcpO1xyXG5cclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ3BsYXllcnMnLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdwbGF5ZXJOYW1lcycsIHsga2V5UGF0aDogWydwbGF5ZXJJZCcsICdkYXRlJ10gfSlcclxuICAgICAgICAgICAgICAgIC5jcmVhdGVJbmRleCgncGxheWVySWQnLCAncGxheWVySWQnKTtcclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ3BsYXllclN0YXRlcycsIHsga2V5UGF0aDogWydwbGF5ZXJJZCcsICdkYXRlJ10gfSlcclxuICAgICAgICAgICAgICAgIC5jcmVhdGVJbmRleCgncGxheWVySWQnLCAncGxheWVySWQnKTtcclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ3BsYXllckFsbGlhbmNlcycsIHsga2V5UGF0aDogWydwbGF5ZXJJZCcsICdkYXRlJ10gfSlcclxuICAgICAgICAgICAgICAgIC5jcmVhdGVJbmRleCgncGxheWVySWQnLCAncGxheWVySWQnKTtcclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ3BsYXllclNjb3JlcycsIHsga2V5UGF0aDogWydwbGF5ZXJJZCcsICdkYXRlJywgJ3R5cGUnXSB9KVxyXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUluZGV4KCdwbGF5ZXJJZCcsICdwbGF5ZXJJZCcpO1xyXG5cclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ3BsYW5ldHMnLCB7IGtleVBhdGg6ICdpZCcgfSlcclxuICAgICAgICAgICAgICAgIC5jcmVhdGVJbmRleCgncGxheWVySWQnLCAncGxheWVySWQnKTtcclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ3BsYW5ldE5hbWVzJywgeyBrZXlQYXRoOiBbJ3BsYW5ldElkJywgJ2RhdGUnXSB9KVxyXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUluZGV4KCdwbGFuZXRJZCcsICdwbGFuZXRJZCcpO1xyXG4gICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgncGxhbmV0U3RhdGVzJywgeyBrZXlQYXRoOiBbJ3BsYW5ldElkJywgJ2RhdGUnXSB9KVxyXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUluZGV4KCdwbGFuZXRJZCcsICdwbGFuZXRJZCcpO1xyXG4gICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgncGxhbmV0Q29vcmRpbmF0ZXMnLCB7IGtleVBhdGg6IFsncGxhbmV0SWQnLCAnZGF0ZSddIH0pXHJcbiAgICAgICAgICAgICAgICAuY3JlYXRlSW5kZXgoJ3BsYW5ldElkJywgJ3BsYW5ldElkJyk7XHJcblxyXG4gICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnbW9vbnMnLCB7IGtleVBhdGg6ICdpZCcgfSlcclxuICAgICAgICAgICAgICAgIC5jcmVhdGVJbmRleCgncGxhbmV0SWQnLCAncGxhbmV0SWQnKTtcclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ21vb25OYW1lcycsIHsga2V5UGF0aDogWydtb29uSWQnLCAnZGF0ZSddIH0pXHJcbiAgICAgICAgICAgICAgICAuY3JlYXRlSW5kZXgoJ21vb25JZCcsICdtb29uSWQnKTtcclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ21vb25TdGF0ZXMnLCB7IGtleVBhdGg6IFsnbW9vbklkJywgJ2RhdGUnXSB9KVxyXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUluZGV4KCdtb29uSWQnLCAnbW9vbklkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnbG9iYWxEYXRhYmFzZU5hbWUgPSAnb2dhbWUtdHJhY2tlcic7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0R2xvYmFsRGF0YWJhc2UoKTogUHJvbWlzZTxJREJQRGF0YWJhc2U8T2dhbWVUcmFja2VyR2xvYmFsRGJTY2hlbWE+PiB7XHJcbiAgICByZXR1cm4gYXdhaXQgZ2V0RGF0YWJhc2UoZ2xvYmFsRGF0YWJhc2VOYW1lLCAoZGIsIG9sZFZlcnNpb24sIG5ld1ZlcnNpb24sIHR4KSA9PiB7XHJcbiAgICAgICAgaWYgKG9sZFZlcnNpb24gPCAxKSB7XHJcbiAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdzZXR0aW5ncycpO1xyXG4gICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnYWNjb3VudHMnLCB7IGtleVBhdGg6IFsnc2VydmVySWQnLCAnc2VydmVyTGFuZ3VhZ2UnLCAnaWQnXSB9KTtcclxuICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ3NlcnZlcnMnLCB7IGtleVBhdGg6IFsnaWQnLCAnbGFuZ3VhZ2UnXSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9sZFZlcnNpb24gPCAyKSB7XHJcbiAgICAgICAgICAgIHR4Lm9iamVjdFN0b3JlKCdhY2NvdW50cycpLmNyZWF0ZUluZGV4KCdzZXJ2ZXInLCBbJ3NlcnZlcklkJywgJ3NlcnZlckxhbmd1YWdlJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2Rpdicse2F0dHJzOntcImlkXCI6XCJhcHBcIn19LFtfYygnaDMnLFtfdm0uX3YoXCIoREUpIERhdGVuLU1pZ3JhdGlvblwiKV0pLF92bS5fbSgwKSxfYygnaHInKSxfYygnaDMnLFtfdm0uX3YoXCIoRU4pIERhdGEgbWlncmF0aW9uXCIpXSksX3ZtLl9tKDEpLF9jKCdocicpLF9jKCdoMycsW192bS5fdihcIihQVCkgTWlncmHDp8OjbyBkZSBkYWRvc1wiKV0pLF92bS5fbSgyKSxfYygnYnInKSxfYygnYnV0dG9uJyx7YXR0cnM6e1wiZGlzYWJsZWRcIjpfdm0uaXNJbXBvcnRpbmd9LGRvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKCdEYXRlbiBtaWdyaWVyZW4vTWlncmF0ZSBkYXRhL01pZ3JhciBkYWRvcycpfSxvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5taWdyYXRlRGF0YSgpfX19KSwoX3ZtLmlzSW1wb3J0aW5nKT9bX2MoJ2JyJyksX2MoJ2xvYWRpbmctc3Bpbm5lcicpXTpfdm0uX2UoKV0sMil9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW2Z1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2RpdicsW192bS5fdihcIiBXaWxsa29tbWVuIHp1ciBuZXVlbiBWZXJzaW9uIHZvbSBPR2FtZSBUcmFja2VyIVwiKSxfYygnYnInKSxfdm0uX3YoXCIgRWluaWdlcyBoYXQgc2ljaCBpbSBIaW50ZXJncnVuZCBnZcOkbmRlcnQsIHdlc2hhbGIgZHUgZGVpbmUgYmVzdGVoZW5kZW4gRGF0ZW4gbWlncmllcmVuIG11c3N0LlwiKSxfYygnYnInKSxfdm0uX3YoXCIgRGllIE1pZ3JhdGlvbiBkZXIgRGF0ZW4gaXN0IGplZG9jaCBlaW5tYWxpZyB1bmQgZGVpbmUgQWx0ZGF0ZW4gd2VyZGVuIG5pY2h0IGVudGZlcm50LCBzb2xsdGUgYmVpIGRlciBNaWdyYXRpb24gZWluIEZlaGxlciBhdWZ0cmV0ZW4uXCIpLF9jKCdicicpLF9jKCdicicpLF92bS5fdihcIiBCaXR0ZSBiZWdpbm5lIGRpZSBNaWdyYXRpb24gZGVyIERhdGVuLCBpbmRlbSBkdSBkZW4gQnV0dG9uIHVudGVyIGRpZXNlciBOYWNocmljaHQga2xpY2tzdC5cIiksX2MoJ2JyJyksX3ZtLl92KFwiIElzdCBkaWUgTWlncmF0aW9uIGFiZ2VzY2hsb3NzZW4sIHNvbGx0ZSBzaWNoIGRpZXNlcyBGZW5zdGVyIHZvbiBzZWxic3Qgc2NobGllw59lbi4gXCIpXSl9LGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2RpdicsW192bS5fdihcIiBXZWxjb21lIHRvIHRoZSBuZXcgT0dhbWUgVHJhY2tlciB2ZXJzaW9uIVwiKSxfYygnYnInKSxfdm0uX3YoXCIgQSBsb3QgY2hhbmdlZCBpbiB0aGUgYmFja2dyb3VuZCB3aGljaCBpcyB3aHkgeW91IGhhdmUgdG8gbWlncmF0ZSBhbHJlYWR5IHRyYWNrZWQgZGF0YS5cIiksX2MoJ2JyJyksX3ZtLl92KFwiIEhvd2V2ZXIsIHlvdSBvbmx5IGhhdmUgdG8gZG8gdGhpcyBvbmNlIGFuZCB5b3VyIGV4aXN0aW5nIGRhdGEgd2lsbCBiZSBub3QgYmUgZGVsZXRlZCBpbiBjYXNlIGFuIGVycm9yIG9jY3Vycy5cIiksX2MoJ2JyJyksX2MoJ2JyJyksX3ZtLl92KFwiIFBsZWFzZSBzdGFydCB0aGUgbWlncmF0aW9uIGJ5IGNsaWNraW5nIHRoZSBidXR0b24gYmVsb3cuXCIpLF9jKCdicicpLF92bS5fdihcIiBXaGVuIHRoZSBtaWdyYXRpb24gaXMgZG9uZSB0aGlzIHdpbmRvdyBzaG91bGQgY2xvc2UgYnkgaXRzZWxmLiBcIildKX0sZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2JyxbX3ZtLl92KFwiIEJlbSB2aW5kbyDDoCBub3ZhIHZlcnPDo28gZG8gT0dhbWUgVHJhY2tlciFcIiksX2MoJ2JyJyksX3ZtLl92KFwiIE11aXRhcyBjb2lzYXMgbXVkYXJhbSBubyBiYWNrZ3JvdW5kIGUgZXNzYSDDqSBhIHJhesOjbyBwYXJhIHRlcmVzIHF1ZSBmYXplciBhIG1pZ3Jhw6fDo28gZG9zIGRhZG9zIGrDoSBtb25pdG9yaXphZG9zLlwiKSxfYygnYnInKSxfdm0uX3YoXCIgTm8gZW50YW50bywgdHUgYXBlbmFzIHRlcsOhcyBxdWUgZmF6ZXIgaXN0byB1bWEgw7puaWNhIHZleiBlIG9zIGRhZG9zIGV4aXN0ZW50ZXMgbsOjbyBzZXLDo28gYXBhZ2Fkb3Mgbm8gY2FzbyBkZSBhbGd1bSBlcnJvIG9jb3JyZXIuXCIpLF9jKCdicicpLF9jKCdicicpLF92bS5fdihcIiBQYXJhIGNvbWXDp2FyIGEgbWlncmHDp8OjbyBkb3MgZGFkb3MgYmFzdGEgY2xpY2FyZXMgbm8gYm90w6NvIGFiYWl4by5cIiksX2MoJ2JyJyksX3ZtLl92KFwiIFF1YW5kbyBhIG1pZ3Jhw6fDo28gdGVybWluYXIgZXN0YSBqYW5lbGEvdGFiIGlyw6EgZmVjaGFyLXNlIGF1dG9tYXRpY2FtZW50ZS4gXCIpXSl9XVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxyXG4gICAgPGRpdiBpZD1cImFwcFwiPlxyXG4gICAgICAgIDxoMz4oREUpIERhdGVuLU1pZ3JhdGlvbjwvaDM+XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgV2lsbGtvbW1lbiB6dXIgbmV1ZW4gVmVyc2lvbiB2b20gT0dhbWUgVHJhY2tlciE8YnIgLz5cclxuICAgICAgICAgICAgRWluaWdlcyBoYXQgc2ljaCBpbSBIaW50ZXJncnVuZCBnZcOkbmRlcnQsIHdlc2hhbGIgZHUgZGVpbmUgYmVzdGVoZW5kZW4gRGF0ZW4gbWlncmllcmVuIG11c3N0LjxiciAvPlxyXG4gICAgICAgICAgICBEaWUgTWlncmF0aW9uIGRlciBEYXRlbiBpc3QgamVkb2NoIGVpbm1hbGlnIHVuZCBkZWluZSBBbHRkYXRlbiB3ZXJkZW4gbmljaHQgZW50ZmVybnQsIHNvbGx0ZSBiZWkgZGVyIE1pZ3JhdGlvbiBlaW4gRmVobGVyIGF1ZnRyZXRlbi48YnIgLz5cclxuICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgIEJpdHRlIGJlZ2lubmUgZGllIE1pZ3JhdGlvbiBkZXIgRGF0ZW4sIGluZGVtIGR1IGRlbiBCdXR0b24gdW50ZXIgZGllc2VyIE5hY2hyaWNodCBrbGlja3N0LjxiciAvPlxyXG4gICAgICAgICAgICBJc3QgZGllIE1pZ3JhdGlvbiBhYmdlc2NobG9zc2VuLCBzb2xsdGUgc2ljaCBkaWVzZXMgRmVuc3RlciB2b24gc2VsYnN0IHNjaGxpZcOfZW4uXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGhyIC8+XHJcbiAgICAgICAgPGgzPihFTikgRGF0YSBtaWdyYXRpb248L2gzPlxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIFdlbGNvbWUgdG8gdGhlIG5ldyBPR2FtZSBUcmFja2VyIHZlcnNpb24hPGJyIC8+XHJcbiAgICAgICAgICAgIEEgbG90IGNoYW5nZWQgaW4gdGhlIGJhY2tncm91bmQgd2hpY2ggaXMgd2h5IHlvdSBoYXZlIHRvIG1pZ3JhdGUgYWxyZWFkeSB0cmFja2VkIGRhdGEuPGJyIC8+XHJcbiAgICAgICAgICAgIEhvd2V2ZXIsIHlvdSBvbmx5IGhhdmUgdG8gZG8gdGhpcyBvbmNlIGFuZCB5b3VyIGV4aXN0aW5nIGRhdGEgd2lsbCBiZSBub3QgYmUgZGVsZXRlZCBpbiBjYXNlIGFuIGVycm9yIG9jY3Vycy48YnIgLz5cclxuICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgIFBsZWFzZSBzdGFydCB0aGUgbWlncmF0aW9uIGJ5IGNsaWNraW5nIHRoZSBidXR0b24gYmVsb3cuPGJyIC8+XHJcbiAgICAgICAgICAgIFdoZW4gdGhlIG1pZ3JhdGlvbiBpcyBkb25lIHRoaXMgd2luZG93IHNob3VsZCBjbG9zZSBieSBpdHNlbGYuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGhyIC8+XHJcbiAgICAgICAgPGgzPihQVCkgTWlncmHDp8OjbyBkZSBkYWRvczwvaDM+XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIEJlbSB2aW5kbyDDoCBub3ZhIHZlcnPDo28gZG8gT0dhbWUgVHJhY2tlciE8YnIgLz5cclxuICAgICAgICAgIE11aXRhcyBjb2lzYXMgbXVkYXJhbSBubyBiYWNrZ3JvdW5kIGUgZXNzYSDDqSBhIHJhesOjbyBwYXJhIHRlcmVzIHF1ZSBmYXplciBhIG1pZ3Jhw6fDo28gZG9zIGRhZG9zIGrDoSBtb25pdG9yaXphZG9zLjxiciAvPlxyXG4gICAgICAgICAgTm8gZW50YW50bywgdHUgYXBlbmFzIHRlcsOhcyBxdWUgZmF6ZXIgaXN0byB1bWEgw7puaWNhIHZleiBlIG9zIGRhZG9zIGV4aXN0ZW50ZXMgbsOjbyBzZXLDo28gYXBhZ2Fkb3Mgbm8gY2FzbyBkZSBhbGd1bSBlcnJvIG9jb3JyZXIuPGJyIC8+XHJcbiAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgIFBhcmEgY29tZcOnYXIgYSBtaWdyYcOnw6NvIGRvcyBkYWRvcyBiYXN0YSBjbGljYXJlcyBubyBib3TDo28gYWJhaXhvLjxiciAvPlxyXG4gICAgICAgICAgUXVhbmRvIGEgbWlncmHDp8OjbyB0ZXJtaW5hciBlc3RhIGphbmVsYS90YWIgaXLDoSBmZWNoYXItc2UgYXV0b21hdGljYW1lbnRlLlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxiciAvPlxyXG5cclxuICAgICAgICA8YnV0dG9uIHYtdGV4dD1cIidEYXRlbiBtaWdyaWVyZW4vTWlncmF0ZSBkYXRhL01pZ3JhciBkYWRvcydcIiA6ZGlzYWJsZWQ9XCJpc0ltcG9ydGluZ1wiIEBjbGljaz1cIm1pZ3JhdGVEYXRhKClcIiAvPlxyXG5cclxuICAgICAgICA8dGVtcGxhdGUgdi1pZj1cImlzSW1wb3J0aW5nXCI+XHJcbiAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICA8bG9hZGluZy1zcGlubmVyIC8+XHJcbiAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICAgIGltcG9ydCB7IGdldEdsb2JhbERhdGFiYXNlLCBnZXRQbGF5ZXJEYXRhYmFzZSB9IGZyb20gJ0Avc2hhcmVkL2RiL2FjY2Vzcyc7XHJcbiAgICBpbXBvcnQgeyBWMVRvVjJFeHBvcnQsIFYxVG9WMkV4cG9ydGVkQWNjb3VudCB9IGZyb20gJ0Avc2hhcmVkL2ltcG9ydC1leHBvcnQvdjEtdG8tdjIvJztcclxuICAgIGltcG9ydCB7IGRlbGF5IH0gZnJvbSAnQC9zaGFyZWQvdXRpbHMvZGVsYXknO1xyXG4gICAgaW1wb3J0IHsgQ29tcG9uZW50LCBSZWYsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG5cclxuICAgIEBDb21wb25lbnQoe1xyXG4gICAgICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICB9LFxyXG4gICAgfSlcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcCBleHRlbmRzIFZ1ZSB7XHJcblxyXG4gICAgICAgIEBSZWYoJ2ZpbGUtaW5wdXQnKVxyXG4gICAgICAgIHByaXZhdGUgZmlsZUlucHV0ITogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBmaWxlOiBGaWxlIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgcHJpdmF0ZSBpc0ltcG9ydGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICBwcml2YXRlIG9uRmlsZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZSA9IHRoaXMuZmlsZUlucHV0LmZpbGVzPy5bMF0gPz8gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgYXN5bmMgbW91bnRlZCgpIHtcclxuICAgICAgICAgICAgdGhpcy5mYWRlU3BsYXNoc2NyZWVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGFzeW5jIG1pZ3JhdGVEYXRhKCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzSW1wb3J0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXdhaXQgZGVsYXkoMjUwKTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5nZXRWMURhdGEoKTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYWNjb3VudCBvZiBkYXRhLmFjY291bnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbXBvcnRBY2NvdW50KGFjY291bnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdNaWdyYXRpb24gZmFpbGVkIHdpdGggdGhlIGZvbGxvd2luZyBlcnJvciwgcGxlYXNlIGNvbnRhY3QgdGhlIGRldmVsb3BlcjpcXG4nICsgZXJyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgJ21pZ3JhdGlvbi12MS10by12Mic6IHRydWUgfSk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZmFkZVNwbGFzaHNjcmVlbigpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3BsYXNoc2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NwbGFzaHNjcmVlbicpO1xyXG4gICAgICAgICAgICBzcGxhc2hzY3JlZW4/LmNsYXNzTGlzdC5hZGQoJ2ZhZGUnKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzcGxhc2hzY3JlZW4/LnJlbW92ZSgpLCA1MDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhc3luYyBpbXBvcnRBY2NvdW50KGFjY291bnQ6IFYxVG9WMkV4cG9ydGVkQWNjb3VudCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW1wb3J0aW5nIGZyb20gYWNjb3VudCcsIHtcclxuICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBhY2NvdW50Lmxhbmd1YWdlLFxyXG4gICAgICAgICAgICAgICAgc2VydmVySWQ6IGFjY291bnQuc2VydmVySWQsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogYWNjb3VudC5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBnbG9iYWxEYiA9IGF3YWl0IGdldEdsb2JhbERhdGFiYXNlKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IGdsb2JhbERiLnB1dCgnYWNjb3VudHMnLCB7XHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJJZDogYWNjb3VudC5zZXJ2ZXJJZCxcclxuICAgICAgICAgICAgICAgIHNlcnZlckxhbmd1YWdlOiBhY2NvdW50Lmxhbmd1YWdlLFxyXG4gICAgICAgICAgICAgICAgaWQ6IGFjY291bnQucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBhY2NvdW50LnBsYXllck5hbWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhd2FpdCBnbG9iYWxEYi5wdXQoJ3NlcnZlcnMnLCB7XHJcbiAgICAgICAgICAgICAgICBpZDogYWNjb3VudC5zZXJ2ZXJJZCxcclxuICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBhY2NvdW50Lmxhbmd1YWdlLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogYWNjb3VudC51bml2ZXJzZU5hbWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0UGxheWVyRGF0YWJhc2UoYWNjb3VudCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oWydleHBlZGl0aW9ucycsICdjb21iYXRSZXBvcnRzJywgJ2RlYnJpc0ZpZWxkUmVwb3J0cyddLCAncmVhZHdyaXRlJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBleHBlZGl0aW9uU3RvcmUgPSB0eC5vYmplY3RTdG9yZSgnZXhwZWRpdGlvbnMnKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBleHBlZGl0aW9uIG9mIE9iamVjdC52YWx1ZXMoYWNjb3VudC5kYXRhLmV4cGVkaXRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgZXhwZWRpdGlvblN0b3JlLnB1dChleHBlZGl0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgY29tYmF0UmVwb3J0U3RvcmUgPSB0eC5vYmplY3RTdG9yZSgnY29tYmF0UmVwb3J0cycpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbWJhdFJlcG9ydCBvZiBPYmplY3QudmFsdWVzKGFjY291bnQuZGF0YS5jb21iYXRSZXBvcnRzKSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY29tYmF0UmVwb3J0U3RvcmUucHV0KGNvbWJhdFJlcG9ydCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRlYnJpc0ZpZWxkUmVwb3J0U3RvcmUgPSB0eC5vYmplY3RTdG9yZSgnZGVicmlzRmllbGRSZXBvcnRzJyk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGVicmlzRmllbGRSZXBvcnQgb2YgT2JqZWN0LnZhbHVlcyhhY2NvdW50LmRhdGEuZGVicmlzRmllbGRSZXBvcnRzKSkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgZGVicmlzRmllbGRSZXBvcnRTdG9yZS5wdXQoZGVicmlzRmllbGRSZXBvcnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0eC5kb25lO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW1wb3J0ZWQgYWNjb3VudCcsIHtcclxuICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBhY2NvdW50Lmxhbmd1YWdlLFxyXG4gICAgICAgICAgICAgICAgc2VydmVySWQ6IGFjY291bnQuc2VydmVySWQsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogYWNjb3VudC5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhc3luYyBnZXRWMURhdGEoKTogUHJvbWlzZTxWMVRvVjJFeHBvcnQ+IHtcclxuICAgICAgICAgICAgY29uc3QgYWxsRGF0YSA9IGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldCgpO1xyXG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYWxsRGF0YSlcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoa2V5ID0+IGtleS5lbmRzV2l0aCgnLXZlcnNpb24nKSAmJiBhbGxEYXRhW2tleV0gPT0gJzEuMScpXHJcbiAgICAgICAgICAgICAgICAubWFwKGtleSA9PiBrZXkucmVwbGFjZSgvLXZlcnNpb24kLywgJycpKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydERhdGE6IFYxVG9WMkV4cG9ydCA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICd2MS10by12Mi1leHBvcnQnLFxyXG4gICAgICAgICAgICAgICAgYWNjb3VudHM6IFtdLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlcnZlcklkLCBsYW5ndWFnZSwgcGxheWVySWQgfSA9IGtleS5tYXRjaCgvcyg/PHNlcnZlcklkPlxcZCspLSg/PGxhbmd1YWdlPlxcdyspLSg/PHBsYXllcklkPlxcZCspJC8pIS5ncm91cHMhO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnQ6IFYxVG9WMkV4cG9ydGVkQWNjb3VudCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZSxcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJJZDogcGFyc2VJbnQoc2VydmVySWQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcklkOiBwYXJzZUludChwbGF5ZXJJZCksXHJcbiAgICAgICAgICAgICAgICAgICAgdW5pdmVyc2VOYW1lOiBgJHtsYW5ndWFnZS50b1VwcGVyQ2FzZSgpfSAke3NlcnZlcklkfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyTmFtZTogcGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlZGl0aW9uczogYWxsRGF0YVtgJHtrZXl9LWV4cG9FdmVudHNgXSA/PyB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tYmF0UmVwb3J0czogYWxsRGF0YVtgJHtrZXl9LWJhdHRsZVJlcG9ydHNgXSA/PyB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVicmlzRmllbGRSZXBvcnRzOiBhbGxEYXRhW2Ake2tleX0tZGVicmlzRmllbGRSZXBvcnRzYF0gPz8ge30sXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxQbGF5ZXJEYXRhID0gYWxsRGF0YVtgJHtrZXl9LWxvY2FsLXBsYXllcmBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsUGxheWVyRGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudC5wbGF5ZXJOYW1lID0gbG9jYWxQbGF5ZXJEYXRhLm5hbWUgPz8gYWNjb3VudC5wbGF5ZXJOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnQudW5pdmVyc2VOYW1lID0gbG9jYWxQbGF5ZXJEYXRhLnVuaXZlcnNlTmFtZSA/PyBhY2NvdW50LnVuaXZlcnNlTmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBleHBvcnREYXRhLmFjY291bnRzLnB1c2goYWNjb3VudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydERhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cclxuICAgICNhcHAge1xyXG4gICAgICAgIC0tY29sb3I6IDY0LCAxMjAsIDE2ODtcclxuXHJcbiAgICAgICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICAgICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsIGhzbCgyMDhkZWcgMjclIDUlKSwgIzEwMWUyYSk7XHJcbiAgICAgICAgcGFkZGluZzogMTZweDtcclxuICAgIH1cclxuPC9zdHlsZT5cclxuIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0FwcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9BcHAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTMwODllNDE2JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL0FwcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL0FwcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vQXBwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTMwODllNDE2Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMzA4OWU0MTZcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgeyAkaTE4biB9IGZyb20gJ0Avc2hhcmVkL2kxOG4vZXh0ZW5zaW9uLyRpMThuJztcclxuaW1wb3J0IFZ1ZSBmcm9tICd2dWUnO1xyXG5cclxuVnVlLnByb3RvdHlwZS4kZm9yY2VDb21wdXRlID0gZnVuY3Rpb24obmFtZTogc3RyaW5nKSB7XHJcbiAgICAgdGhpcy5fY29tcHV0ZWRXYXRjaGVyc1tuYW1lXT8ucnVuKCk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGxhbmcnLCB7XHJcbiAgICBnZXQ6ICgpID0+IG5hdmlnYXRvci5sYW5ndWFnZSxcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGkxOG4nLCB7XHJcbiAgICBnZXQ6ICgpID0+ICRpMThuLFxyXG59KTsiLCJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XHJcbmltcG9ydCBBcHAgZnJvbSAnLi9BcHAudnVlJztcclxuXHJcbmltcG9ydCAnLi9leHRlbmQtdnVlJztcclxuXHJcbmltcG9ydCAnQG1kaS9mb250L2Nzcy9tYXRlcmlhbGRlc2lnbmljb25zLm1pbi5jc3MnO1xyXG5cclxuaW1wb3J0ICdAL3ZpZXdzL19zaGFyZWQvc3R5bGVzL2luZGV4LnNjc3MnO1xyXG5pbXBvcnQgJ0Avdmlld3MvX3NoYXJlZC9jb21wb25lbnRzL2NvbW1vbic7XHJcbmltcG9ydCAnQC92aWV3cy9fc2hhcmVkL2NvbXBvbmVudHMvb2dhbWUnO1xyXG5cclxuaW1wb3J0IHsgYWRkSWNvbkZvbnRzIH0gZnJvbSAnLi4vX3NoYXJlZC9hZGRJY29uRm9udHMnO1xyXG5hZGRJY29uRm9udHMoKTtcclxuICAgIFxyXG5WdWUuY29uZmlnLnByb2R1Y3Rpb25UaXAgPSBmYWxzZTtcclxubmV3IFZ1ZSh7XHJcbiAgICByZW5kZXI6IGggPT4gaChBcHApXHJcbn0pLiRtb3VudCgnI2FwcCcpOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5qID0gNTA2MTsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0NTA2MTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5PLmogPSAoY2h1bmtJZCkgPT4gKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMCk7XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0aWYoY2h1bmtJZHMuc29tZSgoaWQpID0+IChpbnN0YWxsZWRDaHVua3NbaWRdICE9PSAwKSkpIHtcblx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR9XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0fVxuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHJlc3VsdCk7XG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBnbG9iYWxUaGlzW1wid2VicGFja0NodW5rb2dhbWVfdHJhY2tlclwiXSA9IGdsb2JhbFRoaXNbXCJ3ZWJwYWNrQ2h1bmtvZ2FtZV90cmFja2VyXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGRlcGVuZHMgb24gb3RoZXIgbG9hZGVkIGNodW5rcyBhbmQgZXhlY3V0aW9uIG5lZWQgdG8gYmUgZGVsYXllZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbNDk5OCwzMDY0XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNjQwMykpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJkYXRhYmFzZXMiLCJhc3luYyIsImdldERhdGFiYXNlIiwibmFtZSIsInVwZ3JhZGUiLCJkYlByb21pc2UiLCJkYiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsImdldFBsYXllckRhdGFiYXNlTmFtZSIsIm1ldGEiLCJzZXJ2ZXJJZCIsInBsYXllcklkIiwibGFuZ3VhZ2UiLCJnZXRQbGF5ZXJEYXRhYmFzZSIsIm9sZFZlcnNpb24iLCJuZXdWZXJzaW9uIiwidHgiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJnbG9iYWxEYXRhYmFzZU5hbWUiLCJnZXRHbG9iYWxEYXRhYmFzZSIsIm9iamVjdFN0b3JlIiwiY3JlYXRlSW5kZXgiLCJyZW5kZXIiLCJfdm0iLCJ0aGlzIiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9jIiwiX3NlbGYiLCJhdHRycyIsIl92IiwiX20iLCJpc0ltcG9ydGluZyIsImRvbVByb3BzIiwiX3MiLCJvbiIsIiRldmVudCIsIm1pZ3JhdGVEYXRhIiwiX2UiLCJzdGF0aWNSZW5kZXJGbnMiLCJjb21wb25lbnQiLCJfY29tcHV0ZWRXYXRjaGVycyIsInJ1biIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwibmF2aWdhdG9yIiwiJGkxOG4iLCJhZGRJY29uRm9udHMiLCJoIiwiJG1vdW50IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwibSIsImRlZmVycmVkIiwiTyIsInJlc3VsdCIsImNodW5rSWRzIiwiZm4iLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiaSIsImxlbmd0aCIsImZ1bGZpbGxlZCIsImoiLCJrZXlzIiwiZXZlcnkiLCJrZXkiLCJzcGxpY2UiLCJyIiwiZCIsImRlZmluaXRpb24iLCJvIiwiZW51bWVyYWJsZSIsImciLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtJZCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJkYXRhIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwic29tZSIsImlkIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwiZm9yRWFjaCIsImJpbmQiLCJwdXNoIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJzb3VyY2VSb290IjoiIn0=