"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[8568],{1184:(e,t,s)=>{s.d(t,{Z:()=>y});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table-container"},[s("ranged-stats-table",{attrs:{dataItems:e.expos,items:e.items,footerItems:e.footerItems,"show-percentage":""},scopedSlots:e._u([{key:"cell-label",fn:function(t){var a=t.value;return[s("span",{domProps:{textContent:e._s(a)}}),a==e.$i18n.$t.extension.expeditions.expeditionEventSizes.small?s("span",{staticClass:"mdi mdi-hexagon-slice-1",style:{color:e.colors.small}}):a==e.$i18n.$t.extension.expeditions.expeditionEventSizes.medium?s("span",{staticClass:"mdi mdi-hexagon-slice-3",style:{color:e.colors.medium}}):a==e.$i18n.$t.extension.expeditions.expeditionEventSizes.large?s("span",{staticClass:"mdi mdi-hexagon-slice-5",style:{color:e.colors.large}}):e._e()]}}])}),s("floating-menu",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(){return[s("button",{on:{click:function(t){e.showSettings=!e.showSettings}}},[s("span",{staticClass:"mdi mdi-cog"})])]},proxy:!0}]),model:{value:e.showSettings,callback:function(t){e.showSettings=t},expression:"showSettings"}},[s("date-range-settings")],1)],1)},n=[],o=s(655),r=s(4028),l=s(4310),i=s(776),u=s(7090),c=s(4329),d=s(917),m=s(7331);let p=class extends r.w3{resource;showSettings=!1;get colors(){return d.V.settings.colors.expeditions.sizes}get expos(){return u.m.dailyResultsArray}get items(){return i.Fg.map((e=>({label:this.$i18n.$t.extension.expeditions.expeditionEventSizes[e],getValue:t=>t.reduce(((t,s)=>t+s.eventSizes.resourceCount[this.resource][e]),0)})))}get footerItems(){return[{label:this.$i18n.$t.extension.common.sum,getValue:e=>e.reduce(((e,t)=>e+t.findings.resourceCount[this.resource]),0)}]}};(0,o.gn)([(0,r.fI)({required:!0,type:String,validator:e=>m.P.includes(e)})],p.prototype,"resource",void 0),p=(0,o.gn)([(0,r.wA)({components:{RangedStatsTable:l.Z,DateRangeSettings:c.Z}})],p);const g=p,f=g;var h=s(1001),b=(0,h.Z)(f,a,n,!1,null,"0e1fa9d1",null);const y=b.exports},4310:(e,t,s)=>{s.d(t,{Z:()=>b});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("grid-table",{staticClass:"ranged-stats-table",attrs:{columns:e.columns,items:e.rows,"footer-items":e.footerRows,"cell-class-provider":function(t){return e.getCellClass(t)}},scopedSlots:e._u([e._l(e.columns,(function(t,a){return{key:"cell-"+t.key,fn:function(n){var o=n.value,r=n.item;return[s("span",{key:t.key,staticClass:"ranged-stats-table-cell"},["label"==t.key?[null!=t.slotName&&null!=e.$scopedSlots[t.slotName]?e._t(t.slotName,null,{value:o}):s("span",{key:a,domProps:{textContent:e._s(o)}})]:"subLabel"==t.key?e._l(r.items,(function(a,n){return s("span",{key:n,class:a.labelClass},[null!=t.slotName&&null!=e.$scopedSlots[t.slotName]?e._t(t.slotName,null,{value:a.label}):s("span",{domProps:{textContent:e._s(a.label)}})],2)})):e._l(r.items||[r],(function(a,n){return s("span",{key:n,class:[e.getCellClass(a[t.key]),a.class]},[null!=t.formatter?s("span",{domProps:{textContent:e._s(t.formatter(a[t.key]))}}):s("span",{domProps:{textContent:e._s(a[t.key])}})])}))],2)]}}})),e._l(e.$scopedSlots,(function(t,s){return{key:s,fn:function(t){return[e._t(s,null,null,t)]}}}))],null,!0)})},n=[],o=s(655),r=s(4028),l=s(9858),i=s(6538),u=s(4749),c=s.n(u),d=s(917);let m=class extends r.w3{showPercentage;showAverage;items;footerItems;numberFormatOptions;averageNumberFormatOptions;dataItems;get hasGroupedItems(){return this.items.some((e=>"items"in e))}get dateRanges(){return d.V.settings.dateRanges}get dataItemsByRange(){const e=this.dataItems,t=this.dateRanges.map((()=>[]));return e.forEach((e=>{this.dateRanges.forEach(((s,a)=>{(0,l.m)(e.date,s)&&t[a].push(e)}))})),t}get firstDay(){return this.dataItemsByRange.reduce(((e,t)=>Math.min(e,Math.min(...t.map((e=>e.date))))),Date.now())}get columns(){const e=[{key:"label",label:"",slotName:"label"}];return this.hasGroupedItems&&e.push({key:"subLabel",label:"",slotName:"subLabel"}),e.push(...this.dateRanges.map(((e,t)=>({key:t,label:e.label??this.$i18n.$t.extension.settings.dateRanges.since(this.$i18n.$d(this.firstDay,"date")),formatter:e=>this.$i18n.$n(e,this.numberFormatOptions)})))),this.showAverage&&e.push({key:"average",label:this.$i18n.$t.extension.common.averagePerDay,formatter:e=>this.$i18n.$n(e,this.averageNumberFormatOptions??this.numberFormatOptions)}),this.showPercentage&&e.push({key:"percentage",label:"%",formatter:e=>""!=e?this.$i18n.$n(e,{minimumFractionDigits:3,maximumFractionDigits:3}):e}),e}get rows(){const e=this.dataItemsByRange,t=this.dateRanges.findIndex((e=>"all"==e.type))??(0,i.A)("failed to find range 'all'"),s=e[t].map((e=>c()(e.date).getTime())),a=new Set(s).size,n=Math.max(1,this.items.map((s=>"getValue"in s?s.getValue(e[t]):s.items.reduce(((s,a)=>s+a.getValue(e[t])),0))).reduce(((e,t)=>e+t),0));return this.items.map((s=>this.mapItemToRow(s,e,t,a,n)))}mapItemToRow(e,t,s,a,n){if("getValue"in e){const o={label:e.label,class:e.class,labelClass:e.labelClass,...this.dateRanges.map(((s,a)=>e.getValue(t[a])))},r=o[s];return this.showAverage&&(o.average=r/Math.max(1,a)),this.showPercentage&&(o.percentage=100*r/n),o}return{label:e.label,items:e.items.map((e=>this.mapItemToRow(e,t,s,a,n)))}}get footerRows(){const e=this.dataItemsByRange,t=this.dateRanges.findIndex((e=>"all"==e.type))??(0,i.A)("failed to find range 'all'"),s=e[t].map((e=>c()(e.date).getTime())),a=new Set(s).size;return this.footerItems.map((s=>{const n={label:s.label,...this.dateRanges.map(((t,a)=>"getValue"in s?s.getValue(e[a]):s.items.reduce(((t,s)=>t+s.getValue(e[a])),0))),percentage:""};if(this.showAverage){const e=n[t];n.average=e/Math.max(1,a)}return n}))}getCellClass(e){return 0==e?"fade-value":""}};(0,o.gn)([(0,r.fI)({required:!1,type:Boolean})],m.prototype,"showPercentage",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Boolean})],m.prototype,"showAverage",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Array})],m.prototype,"items",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Array,default:()=>[]})],m.prototype,"footerItems",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Object,default:void 0})],m.prototype,"numberFormatOptions",void 0),(0,o.gn)([(0,r.fI)({required:!1,type:Object,default:void 0})],m.prototype,"averageNumberFormatOptions",void 0),(0,o.gn)([(0,r.fI)({required:!0,type:Array})],m.prototype,"dataItems",void 0),m=(0,o.gn)([(0,r.wA)({})],m);const p=m,g=p;var f=s(1001),h=(0,f.Z)(g,a,n,!1,null,"1526beca",null);const b=h.exports},1239:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("size-table",{attrs:{resource:"metal"}})},n=[],o=s(655),r=s(4028),l=s(1184);let i=class extends r.w3{};i=(0,o.gn)([(0,r.wA)({components:{SizeTable:l.Z}})],i);const u=i,c=u;var d=s(1001),m=(0,d.Z)(c,a,n,!1,null,null,null);const p=m.exports},8734:(e,t)=>{function s(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s,e.exports=t.default},4749:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=o(s(1171)),n=o(s(8734));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){(0,n.default)(1,arguments);var t=(0,a.default)(e);return t.setHours(0,0,0,0),t}e.exports=t.default},1171:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(s(8734));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){(0,a.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}e.exports=t.default}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxFQUFJQyxXQUFhRCxFQUFNLENBQUVMLFFBQVNLLEdBZ0N2RixTQUFTTSxFQUFPQyxJQUNkLEVBQUlWLEVBQU9GLFNBQVMsRUFBR1EsV0FDdkIsSUFBSUssRUFBU2pCLE9BQU9rQixVQUFVQyxTQUFTQyxLQUFLSixHQUU1QyxPQUFJQSxhQUFvQkssTUFBNEIsa0JBQWJMLEdBQW9DLGtCQUFYQyxFQUV2RCxJQUFJSSxLQUFLTCxFQUFTTSxXQUNJLGtCQUFiTixHQUFvQyxvQkFBWEMsRUFDbEMsSUFBSUksS0FBS0wsSUFFUyxrQkFBYkEsR0FBb0Msb0JBQVhDLEdBQW9ELHFCQUFaTSxVQUUzRUEsUUFBUUMsS0FBSyxvSkFFYkQsUUFBUUMsTUFBSyxJQUFJQyxPQUFRQyxRQUdwQixJQUFJTCxLQUFLTSxNQUlwQnhCLEVBQU9ELFFBQVVBLEVBQVFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvZXhwZWRpdGlvbnMvcmVzb3VyY2VzL3NpemVzLWJ5LXJlc291cmNlL1RhYmxlLnZ1ZT9hNGU2Iiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy9leHBlZGl0aW9ucy9yZXNvdXJjZXMvc2l6ZXMtYnktcmVzb3VyY2UvVGFibGUudnVlPzUwOWIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvZXhwZWRpdGlvbnMvcmVzb3VyY2VzL3NpemVzLWJ5LXJlc291cmNlL1RhYmxlLnZ1ZT9hOGFlIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL2V4cGVkaXRpb25zL3Jlc291cmNlcy9zaXplcy1ieS1yZXNvdXJjZS9UYWJsZS52dWU/MTgwMCIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy9zdGF0cy9SYW5nZWRTdGF0c1RhYmxlLnZ1ZT84MWRjIiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy9zdGF0cy9SYW5nZWRTdGF0c1RhYmxlLnZ1ZT81Nzk3Iiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3N0YXRzL1JhbmdlZFN0YXRzVGFibGUudnVlP2Y3NWEiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvc3RhdHMvUmFuZ2VkU3RhdHNUYWJsZS52dWU/NzBhYyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvZXhwZWRpdGlvbnMvcmVzb3VyY2VzL3NpemUtYnJlYWtkb3duL21ldGFsL1RhYmxlLnZ1ZT9iODE1Iiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvdmlld3MvZXhwZWRpdGlvbnMvcmVzb3VyY2VzL3NpemUtYnJlYWtkb3duL21ldGFsL1RhYmxlLnZ1ZT80MDMwIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy9leHBlZGl0aW9ucy9yZXNvdXJjZXMvc2l6ZS1icmVha2Rvd24vbWV0YWwvVGFibGUudnVlPzU0NzIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL3ZpZXdzL2V4cGVkaXRpb25zL3Jlc291cmNlcy9zaXplLWJyZWFrZG93bi9tZXRhbC9UYWJsZS52dWU/ODQzYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanM/Mjk1YiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZkRheS9pbmRleC5qcz85MWExIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy90b0RhdGUvaW5kZXguanM/YWQ2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ0YWJsZS1jb250YWluZXJcIn0sW19jKCdyYW5nZWQtc3RhdHMtdGFibGUnLHthdHRyczp7XCJkYXRhSXRlbXNcIjpfdm0uZXhwb3MsXCJpdGVtc1wiOl92bS5pdGVtcyxcImZvb3Rlckl0ZW1zXCI6X3ZtLmZvb3Rlckl0ZW1zLFwic2hvdy1wZXJjZW50YWdlXCI6XCJcIn0sc2NvcGVkU2xvdHM6X3ZtLl91KFt7a2V5OlwiY2VsbC1sYWJlbFwiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgdmFsdWUgPSByZWYudmFsdWU7XG5yZXR1cm4gW19jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3ModmFsdWUpfX0pLCh2YWx1ZSA9PSBfdm0uJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLmV4cGVkaXRpb25FdmVudFNpemVzLnNtYWxsKT9fYygnc3Bhbicse3N0YXRpY0NsYXNzOlwibWRpIG1kaS1oZXhhZ29uLXNsaWNlLTFcIixzdHlsZTooeyBjb2xvcjogX3ZtLmNvbG9ycy5zbWFsbCB9KX0pOih2YWx1ZSA9PSBfdm0uJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLmV4cGVkaXRpb25FdmVudFNpemVzLm1lZGl1bSk/X2MoJ3NwYW4nLHtzdGF0aWNDbGFzczpcIm1kaSBtZGktaGV4YWdvbi1zbGljZS0zXCIsc3R5bGU6KHsgY29sb3I6IF92bS5jb2xvcnMubWVkaXVtIH0pfSk6KHZhbHVlID09IF92bS4kaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMuZXhwZWRpdGlvbkV2ZW50U2l6ZXMubGFyZ2UpP19jKCdzcGFuJyx7c3RhdGljQ2xhc3M6XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtNVwiLHN0eWxlOih7IGNvbG9yOiBfdm0uY29sb3JzLmxhcmdlIH0pfSk6X3ZtLl9lKCldfX1dKX0pLF9jKCdmbG9hdGluZy1tZW51Jyx7YXR0cnM6e1wibGVmdFwiOlwiXCJ9LHNjb3BlZFNsb3RzOl92bS5fdShbe2tleTpcImFjdGl2YXRvclwiLGZuOmZ1bmN0aW9uKCl7cmV0dXJuIFtfYygnYnV0dG9uJyx7b246e1wiY2xpY2tcIjpmdW5jdGlvbigkZXZlbnQpe192bS5zaG93U2V0dGluZ3MgPSAhX3ZtLnNob3dTZXR0aW5nc319fSxbX2MoJ3NwYW4nLHtzdGF0aWNDbGFzczpcIm1kaSBtZGktY29nXCJ9KV0pXX0scHJveHk6dHJ1ZX1dKSxtb2RlbDp7dmFsdWU6KF92bS5zaG93U2V0dGluZ3MpLGNhbGxiYWNrOmZ1bmN0aW9uICgkJHYpIHtfdm0uc2hvd1NldHRpbmdzPSQkdn0sZXhwcmVzc2lvbjpcInNob3dTZXR0aW5nc1wifX0sW19jKCdkYXRlLXJhbmdlLXNldHRpbmdzJyldLDEpXSwxKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxyXG4gICAgPGRpdiBjbGFzcz1cInRhYmxlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgIDxyYW5nZWQtc3RhdHMtdGFibGUgOmRhdGFJdGVtcz1cImV4cG9zXCIgOml0ZW1zPVwiaXRlbXNcIiA6Zm9vdGVySXRlbXM9XCJmb290ZXJJdGVtc1wiIHNob3ctcGVyY2VudGFnZT5cclxuICAgICAgICAgICAgPHRlbXBsYXRlICNjZWxsLWxhYmVsPVwieyB2YWx1ZSB9XCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiB2LXRleHQ9XCJ2YWx1ZVwiIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgPHNwYW4gdi1pZj1cInZhbHVlID09ICRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy5leHBlZGl0aW9uRXZlbnRTaXplcy5zbWFsbFwiIGNsYXNzPVwibWRpIG1kaS1oZXhhZ29uLXNsaWNlLTFcIiA6c3R5bGU9XCJ7IGNvbG9yOiBjb2xvcnMuc21hbGwgfVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiB2LWVsc2UtaWY9XCJ2YWx1ZSA9PSAkaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMuZXhwZWRpdGlvbkV2ZW50U2l6ZXMubWVkaXVtXCIgY2xhc3M9XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtM1wiIDpzdHlsZT1cInsgY29sb3I6IGNvbG9ycy5tZWRpdW0gfVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiB2LWVsc2UtaWY9XCJ2YWx1ZSA9PSAkaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMuZXhwZWRpdGlvbkV2ZW50U2l6ZXMubGFyZ2VcIiBjbGFzcz1cIm1kaSBtZGktaGV4YWdvbi1zbGljZS01XCIgOnN0eWxlPVwieyBjb2xvcjogY29sb3JzLmxhcmdlIH1cIiAvPlxyXG4gICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgIDwvcmFuZ2VkLXN0YXRzLXRhYmxlPlxyXG5cclxuICAgICAgICA8ZmxvYXRpbmctbWVudSB2LW1vZGVsPVwic2hvd1NldHRpbmdzXCIgbGVmdD5cclxuICAgICAgICAgICAgPHRlbXBsYXRlICNhY3RpdmF0b3I+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIEBjbGljaz1cInNob3dTZXR0aW5ncyA9ICFzaG93U2V0dGluZ3NcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1kaSBtZGktY29nXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG5cclxuICAgICAgICAgICAgPGRhdGUtcmFuZ2Utc2V0dGluZ3MgLz5cclxuICAgICAgICA8L2Zsb2F0aW5nLW1lbnU+XHJcbiAgICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgeyBQcm9wVHlwZSB9IGZyb20gJ3Z1ZSc7XHJcbiAgICBpbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG4gICAgaW1wb3J0IFJhbmdlZFN0YXRzVGFibGUsIHsgUmFuZ2VkU3RhdHNUYWJsZUl0ZW0gfSBmcm9tICdAc3RhdHMvY29tcG9uZW50cy9zdGF0cy9SYW5nZWRTdGF0c1RhYmxlLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBFeHBlZGl0aW9uRXZlbnRTaXplcyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9leHBlZGl0aW9ucy9FeHBlZGl0aW9uRXZlbnRTaXplJztcclxuICAgIGltcG9ydCB7IERhaWx5RXhwZWRpdGlvblJlc3VsdCwgRXhwZWRpdGlvbkRhdGFNb2R1bGUgfSBmcm9tICdAL3ZpZXdzL3N0YXRzL2RhdGEvRXhwZWRpdGlvbkRhdGFNb2R1bGUnO1xyXG4gICAgaW1wb3J0IERhdGVSYW5nZVNldHRpbmdzIGZyb20gJ0BzdGF0cy9jb21wb25lbnRzL3NldHRpbmdzL0RhdGVSYW5nZVNldHRpbmdzLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBTZXR0aW5nc0RhdGFNb2R1bGUgfSBmcm9tICdAL3ZpZXdzL3N0YXRzL2RhdGEvU2V0dGluZ3NEYXRhTW9kdWxlJztcclxuICAgIGltcG9ydCB7IFJlc291cmNlVHlwZSwgUmVzb3VyY2VUeXBlcyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9yZXNvdXJjZXMvUmVzb3VyY2VUeXBlJztcclxuXHJcbiAgICBAQ29tcG9uZW50KHtcclxuICAgICAgICBjb21wb25lbnRzOiB7XHJcbiAgICAgICAgICAgIFJhbmdlZFN0YXRzVGFibGUsXHJcbiAgICAgICAgICAgIERhdGVSYW5nZVNldHRpbmdzLFxyXG4gICAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGUgZXh0ZW5kcyBWdWUge1xyXG5cclxuICAgICAgICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBTdHJpbmcgYXMgUHJvcFR5cGU8UmVzb3VyY2VUeXBlPiwgdmFsaWRhdG9yOiAodmFsdWU6IFJlc291cmNlVHlwZSkgPT4gUmVzb3VyY2VUeXBlcy5pbmNsdWRlcyh2YWx1ZSkgfSlcclxuICAgICAgICBwcml2YXRlIHJlc291cmNlITogUmVzb3VyY2VUeXBlO1xyXG5cclxuICAgICAgICBwcml2YXRlIHNob3dTZXR0aW5ncyA9IGZhbHNlO1xyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBjb2xvcnMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBTZXR0aW5nc0RhdGFNb2R1bGUuc2V0dGluZ3MuY29sb3JzLmV4cGVkaXRpb25zLnNpemVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgZXhwb3MoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBFeHBlZGl0aW9uRGF0YU1vZHVsZS5kYWlseVJlc3VsdHNBcnJheTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGl0ZW1zKCk6IFJhbmdlZFN0YXRzVGFibGVJdGVtPERhaWx5RXhwZWRpdGlvblJlc3VsdD5bXSB7XHJcbiAgICAgICAgICAgIHJldHVybiBFeHBlZGl0aW9uRXZlbnRTaXplcy5tYXAoc2l6ZSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLmV4cGVkaXRpb25FdmVudFNpemVzW3NpemVdLFxyXG4gICAgICAgICAgICAgICAgZ2V0VmFsdWU6IGV4cG9zID0+IGV4cG9zLnJlZHVjZSgoYWNjLCBleHBvKSA9PiBhY2MgKyBleHBvLmV2ZW50U2l6ZXMucmVzb3VyY2VDb3VudFt0aGlzLnJlc291cmNlXVtzaXplXSwgMCksXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGZvb3Rlckl0ZW1zKCk6IFJhbmdlZFN0YXRzVGFibGVJdGVtPERhaWx5RXhwZWRpdGlvblJlc3VsdD5bXSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbe1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmNvbW1vbi5zdW0sXHJcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZTogZXhwb3MgPT4gZXhwb3MucmVkdWNlKChhY2MsIGV4cG8pID0+IGFjYyArIGV4cG8uZmluZGluZ3MucmVzb3VyY2VDb3VudFt0aGlzLnJlc291cmNlXSwgMCksXHJcbiAgICAgICAgICAgIH1dO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuPC9zY3JpcHQ+XHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cclxuICAgIC5yYW5nZWQtc3RhdHMtdGFibGUgLm1kaSB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0zMCUpIHNjYWxlKDEuNik7XHJcbiAgICAgICAgd2lkdGg6IDI0cHg7XHJcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgfVxyXG5cclxuICAgIC50YWJsZS1jb250YWluZXIge1xyXG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICAgICAgY29sdW1uLWdhcDogNHB4O1xyXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIGF1dG87XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgIH1cclxuPC9zdHlsZT4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9UYWJsZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MGUxZmE5ZDEmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9UYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vVGFibGUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MGUxZmE5ZDEmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCIwZTFmYTlkMVwiLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdncmlkLXRhYmxlJyx7c3RhdGljQ2xhc3M6XCJyYW5nZWQtc3RhdHMtdGFibGVcIixhdHRyczp7XCJjb2x1bW5zXCI6X3ZtLmNvbHVtbnMsXCJpdGVtc1wiOl92bS5yb3dzLFwiZm9vdGVyLWl0ZW1zXCI6X3ZtLmZvb3RlclJvd3MsXCJjZWxsLWNsYXNzLXByb3ZpZGVyXCI6ZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBfdm0uZ2V0Q2VsbENsYXNzKHZhbHVlKTsgfX0sc2NvcGVkU2xvdHM6X3ZtLl91KFtfdm0uX2woKF92bS5jb2x1bW5zKSxmdW5jdGlvbihjb2x1bW4saSl7cmV0dXJuIHtrZXk6KFwiY2VsbC1cIiArIChjb2x1bW4ua2V5KSksZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnZhciBpdGVtID0gcmVmLml0ZW07XG5yZXR1cm4gW19jKCdzcGFuJyx7a2V5OmNvbHVtbi5rZXksc3RhdGljQ2xhc3M6XCJyYW5nZWQtc3RhdHMtdGFibGUtY2VsbFwifSxbKGNvbHVtbi5rZXkgPT0gJ2xhYmVsJyk/Wyhjb2x1bW4uc2xvdE5hbWUgIT0gbnVsbCAmJiBfdm0uJHNjb3BlZFNsb3RzW2NvbHVtbi5zbG90TmFtZV0gIT0gbnVsbCk/X3ZtLl90KGNvbHVtbi5zbG90TmFtZSxudWxsLHtcInZhbHVlXCI6dmFsdWV9KTpfYygnc3Bhbicse2tleTppLGRvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKHZhbHVlKX19KV06KGNvbHVtbi5rZXkgPT0gJ3N1YkxhYmVsJyk/X3ZtLl9sKChpdGVtLml0ZW1zKSxmdW5jdGlvbihpdGVtLGkpe3JldHVybiBfYygnc3Bhbicse2tleTppLGNsYXNzOml0ZW0ubGFiZWxDbGFzc30sWyhjb2x1bW4uc2xvdE5hbWUgIT0gbnVsbCAmJiBfdm0uJHNjb3BlZFNsb3RzW2NvbHVtbi5zbG90TmFtZV0gIT0gbnVsbCk/X3ZtLl90KGNvbHVtbi5zbG90TmFtZSxudWxsLHtcInZhbHVlXCI6aXRlbS5sYWJlbH0pOl9jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoaXRlbS5sYWJlbCl9fSldLDIpfSk6X3ZtLl9sKChpdGVtLml0ZW1zIHx8IFtpdGVtXSksZnVuY3Rpb24oaXRlbSxpKXtyZXR1cm4gX2MoJ3NwYW4nLHtrZXk6aSxjbGFzczpbX3ZtLmdldENlbGxDbGFzcyhpdGVtW2NvbHVtbi5rZXldKSwgaXRlbS5jbGFzc119LFsoY29sdW1uLmZvcm1hdHRlciAhPSBudWxsKT9fYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKGNvbHVtbi5mb3JtYXR0ZXIoaXRlbVtjb2x1bW4ua2V5XSkpfX0pOl9jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoaXRlbVtjb2x1bW4ua2V5XSl9fSldKX0pXSwyKV19fX0pLF92bS5fbCgoX3ZtLiRzY29wZWRTbG90cyksZnVuY3Rpb24oaW5kZXgsbmFtZSl7cmV0dXJuIHtrZXk6bmFtZSxmbjpmdW5jdGlvbihkYXRhKXtyZXR1cm4gW192bS5fdChuYW1lLG51bGwsbnVsbCxkYXRhKV19fX0pXSxudWxsLHRydWUpfSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cclxuICAgIDxncmlkLXRhYmxlIDpjb2x1bW5zPVwiY29sdW1uc1wiIDppdGVtcz1cInJvd3NcIiA6Zm9vdGVyLWl0ZW1zPVwiZm9vdGVyUm93c1wiIDpjZWxsLWNsYXNzLXByb3ZpZGVyPVwiKHZhbHVlKSA9PiBnZXRDZWxsQ2xhc3ModmFsdWUpXCIgY2xhc3M9XCJyYW5nZWQtc3RhdHMtdGFibGVcIj5cclxuICAgICAgICA8IS0tIG9oIGdvZCB0aGlzIGlzIHVnbHkgLS0+XHJcbiAgICAgICAgPHRlbXBsYXRlIHYtZm9yPVwiKGNvbHVtbiwgaSkgaW4gY29sdW1uc1wiIHYtc2xvdDpbYGNlbGwtJHtjb2x1bW4ua2V5fWBdPVwieyB2YWx1ZSwgaXRlbSB9XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIDprZXk9XCJjb2x1bW4ua2V5XCIgY2xhc3M9XCJyYW5nZWQtc3RhdHMtdGFibGUtY2VsbFwiPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtaWY9XCJjb2x1bW4ua2V5ID09ICdsYWJlbCdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c2xvdCB2LWlmPVwiY29sdW1uLnNsb3ROYW1lICE9IG51bGwgJiYgJHNjb3BlZFNsb3RzW2NvbHVtbi5zbG90TmFtZV0gIT0gbnVsbFwiIDpuYW1lPVwiY29sdW1uLnNsb3ROYW1lXCIgOnZhbHVlPVwidmFsdWVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtZWxzZSA6a2V5PVwiaVwiIHYtdGV4dD1cInZhbHVlXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1lbHNlLWlmPVwiY29sdW1uLmtleSA9PSAnc3ViTGFiZWwnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdi1mb3I9XCIoaXRlbSwgaSkgaW4gaXRlbS5pdGVtc1wiIDprZXk9XCJpXCIgOmNsYXNzPVwiaXRlbS5sYWJlbENsYXNzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzbG90IHYtaWY9XCJjb2x1bW4uc2xvdE5hbWUgIT0gbnVsbCAmJiAkc2NvcGVkU2xvdHNbY29sdW1uLnNsb3ROYW1lXSAhPSBudWxsXCIgOm5hbWU9XCJjb2x1bW4uc2xvdE5hbWVcIiA6dmFsdWU9XCJpdGVtLmxhYmVsXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gdi1lbHNlIHYtdGV4dD1cIml0ZW0ubGFiZWxcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1lbHNlPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtZm9yPVwiKGl0ZW0sIGkpIGluIGl0ZW0uaXRlbXMgfHwgW2l0ZW1dXCIgOmtleT1cImlcIiA6Y2xhc3M9XCJbZ2V0Q2VsbENsYXNzKGl0ZW1bY29sdW1uLmtleV0pLCBpdGVtLmNsYXNzXVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LWlmPVwiY29sdW1uLmZvcm1hdHRlciAhPSBudWxsXCIgdi10ZXh0PVwiY29sdW1uLmZvcm1hdHRlcihpdGVtW2NvbHVtbi5rZXldKVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtZWxzZSB2LXRleHQ9XCJpdGVtW2NvbHVtbi5rZXldXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC90ZW1wbGF0ZT5cclxuXHJcbiAgICAgICAgPHRlbXBsYXRlIHYtZm9yPVwiKGluZGV4LCBuYW1lKSBpbiAkc2NvcGVkU2xvdHNcIiB2LXNsb3Q6W25hbWVdPVwiZGF0YVwiPlxyXG4gICAgICAgICAgICA8c2xvdCA6bmFtZT1cIm5hbWVcIiB2LWJpbmQ9XCJkYXRhXCIgLz5cclxuICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgPC9ncmlkLXRhYmxlPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICAgIGltcG9ydCB7IFByb3BUeXBlIH0gZnJvbSAndnVlJztcclxuICAgIGltcG9ydCB7IFByb3AgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJztcclxuICAgIGltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7XHJcbiAgICBpbXBvcnQgeyBHcmlkVGFibGVDb2x1bW4gfSBmcm9tICdAc3RhdHMvY29tcG9uZW50cy9jb21tb24vR3JpZFRhYmxlLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBpc0luUmFuZ2UgfSBmcm9tICdAc3RhdHMvdXRpbHMvZGF0ZVJhbmdlcyc7XHJcbiAgICBpbXBvcnQgeyBfdGhyb3cgfSBmcm9tICdAL3NoYXJlZC91dGlscy9fdGhyb3cnO1xyXG4gICAgaW1wb3J0IHN0YXJ0T2ZEYXkgZnJvbSAnZGF0ZS1mbnMvc3RhcnRPZkRheS9pbmRleCc7XHJcbiAgICBpbXBvcnQgeyBTZXR0aW5nc0RhdGFNb2R1bGUgfSBmcm9tICcuLi8uLi9kYXRhL1NldHRpbmdzRGF0YU1vZHVsZSc7XHJcblxyXG4gICAgaW50ZXJmYWNlIFJhbmdlU3RhdHNUYWJsZUl0ZW1XaXRoRGF0ZSB7XHJcbiAgICAgICAgZGF0ZTogbnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIGludGVyZmFjZSBTaW5nbGVSYW5nZWRTdGF0c1RhYmxlSXRlbTxUIGV4dGVuZHMgUmFuZ2VTdGF0c1RhYmxlSXRlbVdpdGhEYXRlPiB7XHJcbiAgICAgICAgbGFiZWw6IHN0cmluZztcclxuICAgICAgICBnZXRWYWx1ZTogKGl0ZW1zOiBUW10pID0+IG51bWJlcjtcclxuICAgICAgICBjbGFzcz86IHN0cmluZztcclxuICAgICAgICBsYWJlbENsYXNzPzogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGludGVyZmFjZSBHcm91cGVkUmFuZ2VkU3RhdHNUYWJsZUl0ZW08VCBleHRlbmRzIFJhbmdlU3RhdHNUYWJsZUl0ZW1XaXRoRGF0ZT4ge1xyXG4gICAgICAgIGxhYmVsOiBzdHJpbmc7XHJcbiAgICAgICAgaXRlbXM6IFNpbmdsZVJhbmdlZFN0YXRzVGFibGVJdGVtPFQ+W107XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IHR5cGUgUmFuZ2VkU3RhdHNUYWJsZUl0ZW08VCBleHRlbmRzIFJhbmdlU3RhdHNUYWJsZUl0ZW1XaXRoRGF0ZT4gPSBTaW5nbGVSYW5nZWRTdGF0c1RhYmxlSXRlbTxUPiB8IEdyb3VwZWRSYW5nZWRTdGF0c1RhYmxlSXRlbTxUPjtcclxuXHJcbiAgICBpbnRlcmZhY2UgU2ltcGxlUmFuZ2VkU3RhdHNUYWJsZVJvdyB7XHJcbiAgICAgICAgbGFiZWw6IHN0cmluZztcclxuICAgICAgICBwZXJjZW50YWdlPzogbnVtYmVyIHwgJyc7XHJcbiAgICAgICAgYXZlcmFnZT86IG51bWJlcjtcclxuXHJcbiAgICAgICAgW2luZGV4OiBudW1iZXJdOiBudW1iZXI7XHJcbiAgICB9XHJcblxyXG4gICAgaW50ZXJmYWNlIEdyb3VwZWRSYW5nZWRTdGF0c1RhYmxlUm93IHtcclxuICAgICAgICBsYWJlbDogc3RyaW5nO1xyXG4gICAgICAgIGl0ZW1zOiBTaW1wbGVSYW5nZWRTdGF0c1RhYmxlUm93W107XHJcbiAgICB9XHJcblxyXG4gICAgdHlwZSBSYW5nZWRTdGF0c1RhYmxlUm93ID0gU2ltcGxlUmFuZ2VkU3RhdHNUYWJsZVJvdyB8IEdyb3VwZWRSYW5nZWRTdGF0c1RhYmxlUm93O1xyXG5cclxuICAgIGludGVyZmFjZSBSYW5nZVN0YXRzVGFibGVDb2x1bW4gZXh0ZW5kcyBHcmlkVGFibGVDb2x1bW48a2V5b2YgU2ltcGxlUmFuZ2VkU3RhdHNUYWJsZVJvdyB8ICdzdWJMYWJlbCcgfCBudW1iZXI+IHtcclxuICAgICAgICBzbG90TmFtZT86IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBAQ29tcG9uZW50KHt9KVxyXG4gICAgZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFuZ2VkU3RhdHNUYWJsZTxUIGV4dGVuZHMgUmFuZ2VTdGF0c1RhYmxlSXRlbVdpdGhEYXRlPiBleHRlbmRzIFZ1ZSB7XHJcblxyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBCb29sZWFuIH0pXHJcbiAgICAgICAgcHJpdmF0ZSBzaG93UGVyY2VudGFnZSE6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBCb29sZWFuIH0pXHJcbiAgICAgICAgcHJpdmF0ZSBzaG93QXZlcmFnZSE6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHR5cGU6IEFycmF5IGFzIFByb3BUeXBlPFJhbmdlZFN0YXRzVGFibGVJdGVtPFQ+W10+IH0pXHJcbiAgICAgICAgcHJpdmF0ZSBpdGVtcyE6IFJhbmdlZFN0YXRzVGFibGVJdGVtPFQ+W107XHJcblxyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBBcnJheSBhcyBQcm9wVHlwZTxSYW5nZWRTdGF0c1RhYmxlSXRlbTxUPltdPiwgZGVmYXVsdDogKCkgPT4gW10gfSlcclxuICAgICAgICBwcml2YXRlIGZvb3Rlckl0ZW1zITogUmFuZ2VkU3RhdHNUYWJsZUl0ZW08VD5bXTtcclxuXHJcbiAgICAgICAgQFByb3AoeyByZXF1aXJlZDogZmFsc2UsIHR5cGU6IE9iamVjdCBhcyBQcm9wVHlwZTxJbnRsLk51bWJlckZvcm1hdE9wdGlvbnM+LCBkZWZhdWx0OiB1bmRlZmluZWQgfSlcclxuICAgICAgICBwcml2YXRlIG51bWJlckZvcm1hdE9wdGlvbnM6IEludGwuTnVtYmVyRm9ybWF0T3B0aW9ucyB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgQFByb3AoeyByZXF1aXJlZDogZmFsc2UsIHR5cGU6IE9iamVjdCBhcyBQcm9wVHlwZTxJbnRsLk51bWJlckZvcm1hdE9wdGlvbnM+LCBkZWZhdWx0OiB1bmRlZmluZWQgfSlcclxuICAgICAgICBwcml2YXRlIGF2ZXJhZ2VOdW1iZXJGb3JtYXRPcHRpb25zOiBJbnRsLk51bWJlckZvcm1hdE9wdGlvbnMgfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHR5cGU6IEFycmF5IGFzIFByb3BUeXBlPFRbXT4gfSlcclxuICAgICAgICBwcml2YXRlIGRhdGFJdGVtcyE6IFRbXTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgaGFzR3JvdXBlZEl0ZW1zKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5zb21lKGl0ZW0gPT4gJ2l0ZW1zJyBpbiBpdGVtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGRhdGVSYW5nZXMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBTZXR0aW5nc0RhdGFNb2R1bGUuc2V0dGluZ3MuZGF0ZVJhbmdlcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGRhdGFJdGVtc0J5UmFuZ2UoKTogVFtdW10ge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhSXRlbXMgPSB0aGlzLmRhdGFJdGVtcztcclxuICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW1zQnlSYW5nZTogVFtdW10gPSB0aGlzLmRhdGVSYW5nZXMubWFwKCgpID0+IFtdKTtcclxuXHJcbiAgICAgICAgICAgIGRhdGFJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlUmFuZ2VzLmZvckVhY2goKHJhbmdlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW5SYW5nZShpdGVtLmRhdGUsIHJhbmdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbXNCeVJhbmdlW2ldLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGFJdGVtc0J5UmFuZ2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBmaXJzdERheSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUl0ZW1zQnlSYW5nZS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBNYXRoLm1pbihcclxuICAgICAgICAgICAgICAgIGFjYyxcclxuICAgICAgICAgICAgICAgIE1hdGgubWluKC4uLmN1ci5tYXAodCA9PiB0LmRhdGUpKSxcclxuICAgICAgICAgICAgKSwgRGF0ZS5ub3coKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBjb2x1bW5zKCk6IFJhbmdlU3RhdHNUYWJsZUNvbHVtbltdIHtcclxuICAgICAgICAgICAgY29uc3QgY29sdW1uczogUmFuZ2VTdGF0c1RhYmxlQ29sdW1uW10gPSBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnbGFiZWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICBzbG90TmFtZTogJ2xhYmVsJyxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzR3JvdXBlZEl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3N1YkxhYmVsJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xvdE5hbWU6ICdzdWJMYWJlbCcsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29sdW1ucy5wdXNoKC4uLnRoaXMuZGF0ZVJhbmdlcy5tYXAoKHJhbmdlLCBpKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAga2V5OiBpLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHJhbmdlLmxhYmVsID8/IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLnNldHRpbmdzLmRhdGVSYW5nZXMuc2luY2UodGhpcy4kaTE4bi4kZCh0aGlzLmZpcnN0RGF5LCAnZGF0ZScpKSxcclxuICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogKHZhbHVlOiBudW1iZXIpID0+IHRoaXMuJGkxOG4uJG4odmFsdWUsIHRoaXMubnVtYmVyRm9ybWF0T3B0aW9ucyksXHJcbiAgICAgICAgICAgIH0pKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93QXZlcmFnZSkge1xyXG4gICAgICAgICAgICAgICAgY29sdW1ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdhdmVyYWdlJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uY29tbW9uLmF2ZXJhZ2VQZXJEYXksXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyOiAodmFsdWU6IG51bWJlcikgPT4gdGhpcy4kaTE4bi4kbih2YWx1ZSwgdGhpcy5hdmVyYWdlTnVtYmVyRm9ybWF0T3B0aW9ucyA/PyB0aGlzLm51bWJlckZvcm1hdE9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1BlcmNlbnRhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGVyY2VudGFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICclJyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6ICh2YWx1ZTogbnVtYmVyIHwgJycpID0+IHZhbHVlICE9ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy4kaTE4bi4kbih2YWx1ZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCByb3dzKCk6IChSYW5nZWRTdGF0c1RhYmxlUm93ICYgeyBjbGFzcz86IHN0cmluZyB9KVtdIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW1zQnlSYW5nZSA9IHRoaXMuZGF0YUl0ZW1zQnlSYW5nZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFsbFJhbmdlSW5kZXggPSB0aGlzLmRhdGVSYW5nZXMuZmluZEluZGV4KHJhbmdlID0+IHJhbmdlLnR5cGUgPT0gJ2FsbCcpXHJcbiAgICAgICAgICAgICAgICA/PyBfdGhyb3coYGZhaWxlZCB0byBmaW5kIHJhbmdlICdhbGwnYCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtRGF5cyA9IGRhdGFJdGVtc0J5UmFuZ2VbYWxsUmFuZ2VJbmRleF0ubWFwKGV4cG8gPT4gc3RhcnRPZkRheShleHBvLmRhdGUpLmdldFRpbWUoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRheXNXaXRoRGF0YUl0ZW1zID0gbmV3IFNldChkYXRhSXRlbURheXMpLnNpemU7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0b3RhbFZhbHVlID0gTWF0aC5tYXgoMSwgdGhpcy5pdGVtc1xyXG4gICAgICAgICAgICAgICAgLm1hcChpdGVtID0+ICdnZXRWYWx1ZScgaW4gaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgID8gaXRlbS5nZXRWYWx1ZShkYXRhSXRlbXNCeVJhbmdlW2FsbFJhbmdlSW5kZXhdKVxyXG4gICAgICAgICAgICAgICAgICAgIDogaXRlbS5pdGVtcy5yZWR1Y2UoKGFjYywgaSkgPT4gYWNjICsgaS5nZXRWYWx1ZShkYXRhSXRlbXNCeVJhbmdlW2FsbFJhbmdlSW5kZXhdKSwgMClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgKyBjdXIsIDApXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5tYXAoaXRlbSA9PiB0aGlzLm1hcEl0ZW1Ub1JvdyhpdGVtLCBkYXRhSXRlbXNCeVJhbmdlLCBhbGxSYW5nZUluZGV4LCBkYXlzV2l0aERhdGFJdGVtcywgdG90YWxWYWx1ZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBtYXBJdGVtVG9Sb3coaXRlbTogUmFuZ2VkU3RhdHNUYWJsZUl0ZW08VD4sIGRhdGFJdGVtc0J5UmFuZ2U6IFRbXVtdLCBhbGxSYW5nZUluZGV4OiBudW1iZXIsIGRheXNXaXRoRGF0YUl0ZW1zOiBudW1iZXIsIHRvdGFsVmFsdWU6IG51bWJlcik6IChSYW5nZWRTdGF0c1RhYmxlUm93ICYgeyBjbGFzcz86IHN0cmluZzsgbGFiZWxDbGFzcz86IHN0cmluZyB9KSB7XHJcbiAgICAgICAgICAgIGlmICgnZ2V0VmFsdWUnIGluIGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdzogU2ltcGxlUmFuZ2VkU3RhdHNUYWJsZVJvdyAmIHsgY2xhc3M/OiBzdHJpbmc7IGxhYmVsQ2xhc3M/OiBzdHJpbmcgfSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS5sYWJlbCxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzczogaXRlbS5jbGFzcyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzOiBpdGVtLmxhYmVsQ2xhc3MsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZGF0ZVJhbmdlcy5tYXAoKF8sIHJhbmdlSW5kZXgpID0+IGl0ZW0uZ2V0VmFsdWUoZGF0YUl0ZW1zQnlSYW5nZVtyYW5nZUluZGV4XSkpLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbGxSYW5nZVZhbHVlID0gcm93W2FsbFJhbmdlSW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dBdmVyYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93LmF2ZXJhZ2UgPSBhbGxSYW5nZVZhbHVlIC8gTWF0aC5tYXgoMSwgZGF5c1dpdGhEYXRhSXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dQZXJjZW50YWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93LnBlcmNlbnRhZ2UgPSAxMDAgKiBhbGxSYW5nZVZhbHVlIC8gdG90YWxWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByb3c7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS5sYWJlbCxcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtLml0ZW1zLm1hcChzdWJpdGVtID0+IHRoaXMubWFwSXRlbVRvUm93KHN1Yml0ZW0sIGRhdGFJdGVtc0J5UmFuZ2UsIGFsbFJhbmdlSW5kZXgsIGRheXNXaXRoRGF0YUl0ZW1zLCB0b3RhbFZhbHVlKSBhcyBTaW1wbGVSYW5nZWRTdGF0c1RhYmxlUm93ICYgeyBjbGFzcz86IHN0cmluZzsgbGFiZWxDbGFzcz86IHN0cmluZyB9KSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGZvb3RlclJvd3MoKTogUmFuZ2VkU3RhdHNUYWJsZVJvd1tdIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YUl0ZW1zQnlSYW5nZSA9IHRoaXMuZGF0YUl0ZW1zQnlSYW5nZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFsbFJhbmdlSW5kZXggPSB0aGlzLmRhdGVSYW5nZXMuZmluZEluZGV4KHJhbmdlID0+IHJhbmdlLnR5cGUgPT0gJ2FsbCcpXHJcbiAgICAgICAgICAgICAgICA/PyBfdGhyb3coYGZhaWxlZCB0byBmaW5kIHJhbmdlICdhbGwnYCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFJdGVtRGF5cyA9IGRhdGFJdGVtc0J5UmFuZ2VbYWxsUmFuZ2VJbmRleF0ubWFwKGV4cG8gPT4gc3RhcnRPZkRheShleHBvLmRhdGUpLmdldFRpbWUoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRheXNXaXRoRGF0YUl0ZW1zID0gbmV3IFNldChkYXRhSXRlbURheXMpLnNpemU7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb290ZXJJdGVtcy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByb3c6IFJhbmdlZFN0YXRzVGFibGVSb3cgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubGFiZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5kYXRlUmFuZ2VzLm1hcCgoXywgcmFuZ2VJbmRleCkgPT4gJ2dldFZhbHVlJyBpbiBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaXRlbS5nZXRWYWx1ZShkYXRhSXRlbXNCeVJhbmdlW3JhbmdlSW5kZXhdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGl0ZW0uaXRlbXMucmVkdWNlKChhY2MsIGkpID0+IGFjYyArIGkuZ2V0VmFsdWUoZGF0YUl0ZW1zQnlSYW5nZVtyYW5nZUluZGV4XSksIDApXHJcbiAgICAgICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAnJyxcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0F2ZXJhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxSYW5nZVZhbHVlID0gcm93W2FsbFJhbmdlSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdy5hdmVyYWdlID0gYWxsUmFuZ2VWYWx1ZSAvIE1hdGgubWF4KDEsIGRheXNXaXRoRGF0YUl0ZW1zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcm93O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0Q2VsbENsYXNzKHZhbHVlOiBhbnkpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdmYWRlLXZhbHVlJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuPC9zY3JpcHQ+XHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cclxuICAgIC5ncmlkLXRhYmxlIHtcclxuICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuXHJcbiAgICAgICAgJjo6di1kZWVwIC5mYWRlLXZhbHVlIHtcclxuICAgICAgICAgICAgY29sb3I6IHJnYmEod2hpdGUsIDAuMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5yYW5nZWQtc3RhdHMtdGFibGUtY2VsbCB7XHJcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIH1cclxuPC9zdHlsZT4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vUmFuZ2VkU3RhdHNUYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9SYW5nZWRTdGF0c1RhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vUmFuZ2VkU3RhdHNUYWJsZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MTUyNmJlY2Emc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vUmFuZ2VkU3RhdHNUYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL1JhbmdlZFN0YXRzVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL1JhbmdlZFN0YXRzVGFibGUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MTUyNmJlY2EmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCIxNTI2YmVjYVwiLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdzaXplLXRhYmxlJyx7YXR0cnM6e1wicmVzb3VyY2VcIjpcIm1ldGFsXCJ9fSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cclxuICAgIDxzaXplLXRhYmxlIHJlc291cmNlPVwibWV0YWxcIiAvPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICAgIGltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7XHJcbiAgICBpbXBvcnQgU2l6ZVRhYmxlIGZyb20gJ0BzdGF0cy9jb21wb25lbnRzL2V4cGVkaXRpb25zL3Jlc291cmNlcy9zaXplcy1ieS1yZXNvdXJjZS9UYWJsZS52dWUnO1xyXG5cclxuICAgIEBDb21wb25lbnQoe1xyXG4gICAgICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICAgICAgU2l6ZVRhYmxlLFxyXG4gICAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGUgZXh0ZW5kcyBWdWUge1xyXG4gICAgfVxyXG48L3NjcmlwdD4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9UYWJsZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9N2M1YmJlMjYmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9UYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gcmVxdWlyZWRBcmdzO1xuXG5mdW5jdGlvbiByZXF1aXJlZEFyZ3MocmVxdWlyZWQsIGFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoIDwgcmVxdWlyZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHJlcXVpcmVkICsgJyBhcmd1bWVudCcgKyAocmVxdWlyZWQgPiAxID8gJ3MnIDogJycpICsgJyByZXF1aXJlZCwgYnV0IG9ubHkgJyArIGFyZ3MubGVuZ3RoICsgJyBwcmVzZW50Jyk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBzdGFydE9mRGF5O1xuXG52YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vdG9EYXRlL2luZGV4LmpzXCIpKTtcblxudmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgb3JpZ2luYWwgZGF0ZVxuICogQHJldHVybnMge0RhdGV9IHRoZSBzdGFydCBvZiBhIGRheVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIGRheSBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZEYXkobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gVHVlIFNlcCAwMiAyMDE0IDAwOjAwOjAwXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0T2ZEYXkoZGlydHlEYXRlKSB7XG4gICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB0b0RhdGU7XG5cbnZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5mdW5jdGlvbiB0b0RhdGUoYXJndW1lbnQpIHtcbiAgKDAsIF9pbmRleC5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICB2YXIgYXJnU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KTsgLy8gQ2xvbmUgdGhlIGRhdGVcblxuICBpZiAoYXJndW1lbnQgaW5zdGFuY2VvZiBEYXRlIHx8IHR5cGVvZiBhcmd1bWVudCA9PT0gJ29iamVjdCcgJiYgYXJnU3RyID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAvLyBQcmV2ZW50IHRoZSBkYXRlIHRvIGxvc2UgdGhlIG1pbGxpc2Vjb25kcyB3aGVuIHBhc3NlZCB0byBuZXcgRGF0ZSgpIGluIElFMTBcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQuZ2V0VGltZSgpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnQgPT09ICdudW1iZXInIHx8IGFyZ1N0ciA9PT0gJ1tvYmplY3QgTnVtYmVyXScpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIGlmICgodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IFN0cmluZ10nKSAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXCJTdGFydGluZyB3aXRoIHYyLjAuMC1iZXRhLjEgZGF0ZS1mbnMgZG9lc24ndCBhY2NlcHQgc3RyaW5ncyBhcyBkYXRlIGFyZ3VtZW50cy4gUGxlYXNlIHVzZSBgcGFyc2VJU09gIHRvIHBhcnNlIHN0cmluZ3MuIFNlZTogaHR0cHM6Ly9naXQuaW8vZmp1bGVcIik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cbiAgICAgIGNvbnNvbGUud2FybihuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7Il0sIm5hbWVzIjpbInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwiYXR0cnMiLCJleHBvcyIsIml0ZW1zIiwiZm9vdGVySXRlbXMiLCJzY29wZWRTbG90cyIsIl91Iiwia2V5IiwiZm4iLCJyZWYiLCJ2YWx1ZSIsImRvbVByb3BzIiwiX3MiLCIkaTE4biIsIiR0IiwiZXh0ZW5zaW9uIiwiZXhwZWRpdGlvbnMiLCJleHBlZGl0aW9uRXZlbnRTaXplcyIsInNtYWxsIiwic3R5bGUiLCJjb2xvciIsImNvbG9ycyIsIm1lZGl1bSIsImxhcmdlIiwiX2UiLCJvbiIsIiRldmVudCIsInNob3dTZXR0aW5ncyIsInByb3h5IiwibW9kZWwiLCJjYWxsYmFjayIsIiQkdiIsImV4cHJlc3Npb24iLCJzdGF0aWNSZW5kZXJGbnMiLCJjb21wb25lbnQiLCJjb2x1bW5zIiwicm93cyIsImZvb3RlclJvd3MiLCJnZXRDZWxsQ2xhc3MiLCJfbCIsImNvbHVtbiIsImkiLCJpdGVtIiwic2xvdE5hbWUiLCIkc2NvcGVkU2xvdHMiLCJfdCIsImNsYXNzIiwibGFiZWxDbGFzcyIsImxhYmVsIiwiZm9ybWF0dGVyIiwiaW5kZXgiLCJuYW1lIiwiZGF0YSIsInJlcXVpcmVkQXJncyIsInJlcXVpcmVkIiwiYXJncyIsImxlbmd0aCIsIlR5cGVFcnJvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmF1bHQiLCJzdGFydE9mRGF5IiwiX2luZGV4IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9pbmRleDIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGlydHlEYXRlIiwiYXJndW1lbnRzIiwiZGF0ZSIsInNldEhvdXJzIiwidG9EYXRlIiwiYXJndW1lbnQiLCJhcmdTdHIiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJEYXRlIiwiZ2V0VGltZSIsImNvbnNvbGUiLCJ3YXJuIiwiRXJyb3IiLCJzdGFjayIsIk5hTiJdLCJzb3VyY2VSb290IjoiIn0=