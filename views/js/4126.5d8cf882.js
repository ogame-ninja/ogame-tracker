"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[4126],{9781:(e,t,s)=>{s.d(t,{L:()=>i});var n=s(776);const i={[n.Mm.small]:[25e4,3e5,35e4,4e5,45e4,5e5,55e4,6e5,65e4,7e5,75e4,8e5,85e4,9e5,95e4,1e6,105e4,11e5,115e4,12e5,125e4],[n.Mm.medium]:[125e4,13e5,135e4,14e5,145e4,15e5,155e4,16e5,165e4,17e5,175e4,18e5,185e4,19e5,195e4,2e6,205e4,21e5,215e4,22e5,225e4,23e5,235e4,24e5,245e4,25e5],[n.Mm.large]:[25e5,255e4,26e5,265e4,27e5,275e4,28e5,285e4,29e5,295e4,3e6,305e4,31e5,315e4,32e5,325e4,33e5,335e4,34e5,345e4,35e5,355e4,36e5,365e4,37e5,375e4,38e5,385e4,39e5,395e4,4e6,405e4,41e5,415e4,42e5,425e4,43e5,435e4,44e5,445e4,45e5,455e4,46e5,465e4,47e5,475e4,48e5,485e4,49e5,495e4,5e6]}},2611:(e,t,s)=>{function n(e){return e<1e5?.1:e<1e6?.24:e<5e6?.36:e<25e6?.48:e<5e7?.6:e<75e6?.72:e<1e8?.84:1}s.d(t,{Q:()=>n})},147:(e,t,s)=>{s.d(t,{g1:()=>i,g4:()=>o,_Z:()=>r});const n=.001;function i(e){const t=o(e);return t*n}function o(e){for(let t=0;;t++){const s=r(t+1);if(s>e)return t}}function r(e){return 900*e*(e+1)/2}},1786:(e,t,s)=>{s.d(t,{I5:()=>l,io:()=>a,qH:()=>c,g5:()=>u});var n=s(602),i=s(5128),o=s(6119),r=s(4846);function l(e){return r._i.filter((t=>e.activeLifeformTechnologies.includes(t.type))).reduce(((t,s)=>t+s.getClassBonus(n.D0.collector,e.lifeformTechnologies[s.type])),0)}function a(e){return o.cQ[e.activeLifeform].reduce(((t,s)=>t+s.getLifeformTechnologyBonus(e.lifeformBuildings[s.type])),0)}function c(e){return o.wJ[e.activeLifeform].reduce(((t,s)=>(0,i.aV)(t,s.getProductionBonus(e.lifeformBuildings[s.type]))),{metal:0,crystal:0,deuterium:0,energy:0})}function u(e){return r.rE.filter((t=>e.activeLifeformTechnologies.includes(t.type))).reduce(((t,s)=>(0,i.aV)(t,s.getProductionBonus(e.lifeformTechnologies[s.type]))),{metal:0,crystal:0,deuterium:0,energy:0})}},8288:(e,t,s)=>{s.d(t,{B:()=>o});var n=s(7331),i=s(917);function o(e,t={}){const s={metal:0,crystal:0,deuterium:0,...e},o={metal:1,crystal:1,deuterium:1,...t};n.P.forEach((e=>s[e]*=o[e]));const{mode:r,msu:l,dsu:a}=i.V.settings.conversionRates;return"msu"==r?s.metal+s.crystal*l.crystal+s.deuterium*l.deuterium:s.deuterium+s.crystal/a.crystal+s.metal/a.metal}},2836:(e,t,s)=>{s.d(t,{Z:()=>f});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.size==e.ExpeditionEventSize.small?s("span",{staticClass:"mdi mdi-hexagon-slice-1",style:{color:e.colors.small}}):e.size==e.ExpeditionEventSize.medium?s("span",{staticClass:"mdi mdi-hexagon-slice-3",style:{color:e.colors.medium}}):e.size==e.ExpeditionEventSize.large?s("span",{staticClass:"mdi mdi-hexagon-slice-5",style:{color:e.colors.large}}):e._e()},i=[],o=s(655),r=s(776),l=s(4028),a=s(917);let c=class extends l.w3{size;ExpeditionEventSize=r.Mm;get colors(){return a.V.settings.colors.expeditions.sizes}};(0,o.gn)([(0,l.fI)({required:!0,type:String})],c.prototype,"size",void 0),c=(0,o.gn)([(0,l.wA)({})],c);const u=c,d=u;var m=s(1001),p=(0,m.Z)(d,n,i,!1,null,null,null);const f=p.exports},4126:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"small-tables"},[s("grid-table",{attrs:{inline:"",columns:e.infoColumns,items:e.infoItems,"no-header":""},scopedSlots:e._u([{key:"cell-value",fn:function(t){var n=t.value,i=t.item;return["playerClass"==i.type?s("o-player-class",{attrs:{"player-class":n}}):"number"==i.type?s("span",{domProps:{textContent:e._s(n)}}):s("span",{domProps:{textContent:e._s(e.$i18n.$n(100*n,e.percentageFormat)+"%")}})]}}])}),s("grid-table",{attrs:{inline:"",columns:e.maxFindsColumns,items:e.maxFindsItems},scopedSlots:e._u([{key:"cell-key",fn:function(t){var n=t.value;return["metal"==n?[s("o-resource",{attrs:{resource:"metal",size:"24px"}}),s("span",{domProps:{textContent:e._s(e.$i18n.$n(e.finds.large[e.finds.large.length-1].metal))}})]:"crystal"==n?[s("o-resource",{attrs:{resource:"crystal",size:"24px"}}),s("span",{domProps:{textContent:e._s(e.$i18n.$n(e.finds.large[e.finds.large.length-1].crystal))}})]:"deuterium"==n?[s("o-resource",{attrs:{resource:"deuterium",size:"24px"}}),s("span",{domProps:{textContent:e._s(e.$i18n.$n(e.finds.large[e.finds.large.length-1].deuterium))}})]:"shipUnits"==n?[s("o-ship",{attrs:{ship:e.ShipType.battleship,size:"24px"}}),s("span",{domProps:{textContent:e._s(e.$i18n.$n(e.finds.large[e.finds.large.length-1].shipUnits))}})]:e._e()]}}])}),s("grid-table",{attrs:{inline:"",columns:e.darkMatterColumns,items:e.darkMatterItems},scopedSlots:e._u([{key:"cell-size",fn:function(e){var t=e.value;return[s("expedition-size-icon",{staticClass:"scaled-icon",attrs:{size:t}})]}},{key:"cell-amount",fn:function(t){var n=t.item;return[s("o-resource",{attrs:{resource:"dark-matter",size:"24px"}}),s("span",{domProps:{textContent:e._s(e.$i18n.$n(n.amount[0])+" - "+e.$i18n.$n(n.amount[1]))}})]}}])})],1),s("hr"),s("h3",{domProps:{textContent:e._s(e.$i18n.$t.extension.expeditions.possibleFinds.listOfPossibleFinds)}}),e._l(e.sizes,(function(t){return s("div",{key:t,staticClass:"find-col"},[s("h3",{staticClass:"table-title"},[s("expedition-size-icon",{attrs:{size:t}}),s("span",{domProps:{textContent:e._s(e.$i18n.$t.extension.expeditions.possibleFinds.findSizes(e.$i18n.$t.extension.expeditions.expeditionEventSizes[t]))}})],1),s("grid-table",{style:"--color: "+e.sizeColors[t],attrs:{inline:"",items:e.finds[t],columns:e.columns},scopedSlots:e._u([{key:"cell-.+",fn:function(t){var n=t.value;return[s("span",{domProps:{textContent:e._s(e.$i18n.$n(n))}})]}}],null,!0)})],1)}))],2)},i=[],o=s(655),r=s(776),l=s(602),a=s(2057),c=s(9751),u=s(4028),d=s(8395),m=s(917),p=s(7048),f=s(2836),g=s(4846),y=s(5424),h=s(1786),x=s(3418),v=s(147),$=s(7076),b=s(2611),k=s(9781),C=s(9563),z=s(248),F=s(8288);let M=class extends u.w3{ShipType=a.g;ExpeditionEventSize=r.Mm;sizes=r.Fg;percentageFormat={maximumFractionDigits:3,minimumFractionDigits:3};get sizeColors(){const e=m.V.settings.colors.expeditions.sizes;return{[r.Mm.small]:(0,p.U)(e.small),[r.Mm.medium]:(0,p.U)(e.medium),[r.Mm.large]:(0,p.U)(e.large)}}get columns(){return[{key:"metal",label:this.$i18n.$t.ogame.resources.metal},{key:"crystal",label:this.$i18n.$t.ogame.resources.crystal},{key:"deuterium",label:this.$i18n.$t.ogame.resources.deuterium},{key:"shipUnits",label:this.$i18n.$t.extension.expeditions.possibleFinds.shipUnits},{key:"maxShipUnitsConverted",label:this.$i18n.$t.extension.expeditions.possibleFinds.shipMaxUnitsConverted+` (${"msu"==m.V.settings.conversionRates.mode?this.$i18n.$t.extension.common.msu:this.$i18n.$t.extension.common.dsu})`}]}get infoColumns(){return[{key:"label"},{key:"value"}]}get infoItems(){const e=this.info;return[{type:"playerClass",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.playerClass,value:e.playerClass},{type:"number",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.economySpeed,value:e.ecoSpeed},{type:"percentage",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.resourceFindBonus,value:e.resourceFindBonus},{type:"percentage",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.shipFindBonus,value:e.shipFindBonus},{type:"percentage",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.darkMatterFindBonus,value:e.darkMatterBonus},{type:"percentage",label:this.$i18n.$t.extension.expeditions.possibleFinds.info.discovererBonus,value:e.discovererBonus}]}get maxFindsColumns(){return[{key:"key",label:this.$i18n.$t.extension.expeditions.possibleFinds.maximumFinds,style:{"justify-content":"space-between",gap:"4px"}}]}get maxFindsItems(){return[{key:"metal"},{key:"crystal"},{key:"deuterium"},{key:"shipUnits"},{key:"maxShipUnitsConverted"}]}get darkMatterColumns(){return[{key:"size"},{key:"amount",label:this.$i18n.$t.extension.expeditions.possibleFinds.findsDarkMatter,style:{"justify-content":"start",gap:"6px"}}]}get darkMatterItems(){const e=1+this.info.darkMatterBonus;return[{size:r.Mm.small,amount:[300,400].map((t=>Math.trunc(t*e)))},{size:r.Mm.medium,amount:[500,700].map((t=>Math.trunc(t*e)))},{size:r.Mm.large,amount:[1e3,1800].map((t=>Math.trunc(t*e)))}]}get info(){const e=d.p.empire,t=Object.values(e.planets).filter((e=>!e.isMoon)),s=(0,c.r)(t,(e=>e.id),(e=>(0,h.io)(e))),n=g.uv.reduce(((e,n)=>{let i=0;return t.forEach((e=>{const t=e.activeLifeformTechnologies.includes(n.type)?e.lifeformTechnologies[n.type]:0,o=n.getExpeditionBonus(y.r.resources,t),r=e.activeLifeform==x.e5.none?0:o*(0,v.g1)(d.p.lifeformExperience[e.activeLifeform]),l=o*s[e.id],a=o+r+l;i+=a})),e+i}),0),i=g.uv.reduce(((e,n)=>{let i=0;return t.forEach((e=>{const t=e.activeLifeformTechnologies.includes(n.type)?e.lifeformTechnologies[n.type]:0,o=n.getExpeditionBonus(y.r.fleet,t),r=e.activeLifeform==x.e5.none?0:o*(0,v.g1)(d.p.lifeformExperience[e.activeLifeform]),l=o*s[e.id],a=o+r+l;i+=a})),e+i}),0),o=g.uv.reduce(((e,n)=>{let i=0;return t.forEach((e=>{const t=e.activeLifeformTechnologies.includes(n.type)?e.lifeformTechnologies[n.type]:0,o=n.getExpeditionBonus(y.r.darkMatter,t),r=e.activeLifeform==x.e5.none?0:o*(0,v.g1)(d.p.lifeformExperience[e.activeLifeform]),l=o*s[e.id],a=o+r+l;i+=a})),e+i}),0),r=g._i.reduce(((e,n)=>{let i=0;return t.forEach((e=>{const t=e.activeLifeformTechnologies.includes(n.type)?e.lifeformTechnologies[n.type]:0,o=n.getClassBonus(l.D0.discoverer,t),r=e.activeLifeform==x.e5.none?0:o*(0,v.g1)(d.p.lifeformExperience[e.activeLifeform]),a=o*s[e.id],c=o+r+a;i+=c})),e+i}),0);return{playerClass:e.playerClass,ecoSpeed:$.s.serverSettings.speed.economy,resourceFindBonus:n,shipFindBonus:i,discovererBonus:r,darkMatterBonus:o}}get finds(){const e=2,t=this.info,s=t.playerClass==l.D0.discoverer?t.ecoSpeed*(1.5*(1+t.discovererBonus)):1,n=(0,b.Q)($.s.serverSettings.topScore??0),i=C.x.map((e=>{const t=z.lp[e],s=t.cost,n=(0,F.B)(s),i=s.metal+s.crystal;return{converted:n,units:i,score:n/i}})).sort(((e,t)=>t.score-e.score))[0];return(0,c.a)(r.Fg,(o=>k.L[o].map((o=>{const r=n*o*e*s*(1+t.resourceFindBonus),l=n*o*e*s*(1+t.shipFindBonus)/2,a=Math.trunc(l/i.units)*i.converted;return{metal:Math.trunc(r),crystal:Math.trunc(r/2),deuterium:Math.trunc(r/3),shipUnits:Math.trunc(l),maxShipUnitsConverted:a}}))))}};M=(0,o.gn)([(0,u.wA)({components:{ExpeditionSizeIcon:f.Z}})],M);const B=M,E=B;var _=s(1001),S=(0,_.Z)(E,n,i,!1,null,"8330e486",null);const L=S.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianMvNDEyNi41ZDhjZjg4Mi5qcyIsIm1hcHBpbmdzIjoiOEpBRU8sTUFBTUEsRUFBeUQsQ0FDbEUsQ0FBQyxZQUE0QixDQUN6QixLQUNBLElBQ0EsS0FDQSxJQUNBLEtBQ0EsSUFDQSxLQUNBLElBQ0EsS0FDQSxJQUNBLEtBQ0EsSUFDQSxLQUNBLElBQ0EsS0FDQSxJQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsT0FFSixDQUFDLGFBQTZCLENBQzFCLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLElBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsTUFFSixDQUFDLFlBQTRCLENBQ3pCLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsSUFDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLElBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxLQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxPLGVDekdELFNBQVNDLEVBQXdCQyxHQUNwQyxPQUFJQSxFQUFXLElBQWdCLEdBQzNCQSxFQUFXLElBQWtCLElBQzdCQSxFQUFXLElBQWtCLElBQzdCQSxFQUFXLEtBQW1CLElBQzlCQSxFQUFXLElBQW1CLEdBQzlCQSxFQUFXLEtBQW1CLElBQzlCQSxFQUFXLElBQW9CLElBRTVCLEUsb0VDVFgsTUFBTUMsRUFBZ0IsS0FFZixTQUFTQyxFQUFnQ0MsR0FDNUMsTUFBTUMsRUFBUUMsRUFBaUJGLEdBQy9CLE9BQU9DLEVBQVFILEVBR1osU0FBU0ksRUFBaUJGLEdBQzdCLElBQUksSUFBSUMsRUFBUSxHQUFLQSxJQUFTLENBQzFCLE1BQU1FLEVBQWNDLEVBQW9DSCxFQUFRLEdBQ2hFLEdBQUdFLEVBQWNILEVBQ2IsT0FBT0MsR0FTWixTQUFTRyxFQUFvQ0gsR0FDaEQsT0FBTyxJQUFNQSxHQUFTQSxFQUFRLEdBQUssSSx1R0NmaEMsU0FBU0ksRUFBbUNDLEdBQy9DLE9BQU8sYUFDS0MsR0FBUUQsRUFBT0UsMkJBQTJCQyxTQUFTRixFQUFLRyxRQUMvREMsUUFDRyxDQUFDQyxFQUFPTCxJQUFTSyxFQUFRTCxFQUFLTSxjQUFjLGVBQXVCUCxFQUFPUSxxQkFBcUJQLEVBQUtHLFFBQ3BHLEdBSUwsU0FBU0ssRUFBaUNULEdBQzdDLE9BQU8sS0FBbURBLEVBQU9VLGdCQUM1REwsUUFDRyxDQUFDQyxFQUFPSyxJQUFhTCxFQUFRSyxFQUFTQywyQkFBMkJaLEVBQU9hLGtCQUFrQkYsRUFBU1AsUUFDbkcsR0FJTCxTQUFTVSxFQUErQ2QsR0FDM0QsT0FBTyxLQUFtREEsRUFBT1UsZ0JBQWdCTCxRQUM3RSxDQUFDQyxFQUFPSyxLQUFhLFFBQVFMLEVBQU9LLEVBQVNJLG1CQUFtQmYsRUFBT2Esa0JBQWtCRixFQUFTUCxTQUNsRyxDQUFFWSxNQUFPLEVBQUdDLFFBQVMsRUFBR0MsVUFBVyxFQUFHQyxPQUFRLElBSS9DLFNBQVNDLEVBQWlEcEIsR0FDN0QsT0FBTyxhQUNLQyxHQUFRRCxFQUFPRSwyQkFBMkJDLFNBQVNGLEVBQUtHLFFBQy9EQyxRQUNHLENBQUNDLEVBQU9MLEtBQVMsUUFBUUssRUFBT0wsRUFBS2MsbUJBQW1CZixFQUFPUSxxQkFBcUJQLEVBQUtHLFNBQ3pGLENBQUVZLE1BQU8sRUFBR0MsUUFBUyxFQUFHQyxVQUFXLEVBQUdDLE9BQVEsTSx1RENoQ25ELFNBQVNFLEVBQVlDLEVBQWtEQyxFQUFpRCxJQUMzSCxNQUFNQyxFQUFxQyxDQUN2Q1IsTUFBTyxFQUNQQyxRQUFTLEVBQ1RDLFVBQVcsS0FDUkksR0FFREcsRUFBNEMsQ0FDOUNULE1BQU8sRUFDUEMsUUFBUyxFQUNUQyxVQUFXLEtBQ1JLLEdBRVAsYUFBc0JHLEdBQVlGLEVBQUtFLElBQWFELEVBQVlDLEtBRWhFLE1BQU0sS0FBRUMsRUFBSSxJQUFFQyxFQUFHLElBQUVDLEdBQVEsNkJBQzNCLE1BQVksT0FBUkYsRUFDT0gsRUFBS1IsTUFBUVEsRUFBS1AsUUFBVVcsRUFBSVgsUUFBVU8sRUFBS04sVUFBWVUsRUFBSVYsVUFHbkVNLEVBQUtOLFVBQVlNLEVBQUtQLFFBQVVZLEVBQUlaLFFBQVVPLEVBQUtSLE1BQVFhLEVBQUliLFEsZ0NDdkIxRSxJQUFJYyxFQUFTLFdBQWEsSUFBSUMsRUFBSUMsS0FBU0MsRUFBR0YsRUFBSUcsZUFBbUJDLEVBQUdKLEVBQUlLLE1BQU1ELElBQUlGLEVBQUcsT0FBUUYsRUFBSU0sTUFBUU4sRUFBSU8sb0JBQW9CQyxNQUFPSixFQUFHLE9BQU8sQ0FBQ0ssWUFBWSwwQkFBMEJDLE1BQU0sQ0FBR0MsTUFBT1gsRUFBSVksT0FBT0osU0FBWVIsRUFBSU0sTUFBUU4sRUFBSU8sb0JBQW9CTSxPQUFRVCxFQUFHLE9BQU8sQ0FBQ0ssWUFBWSwwQkFBMEJDLE1BQU0sQ0FBR0MsTUFBT1gsRUFBSVksT0FBT0MsVUFBYWIsRUFBSU0sTUFBUU4sRUFBSU8sb0JBQW9CTyxNQUFPVixFQUFHLE9BQU8sQ0FBQ0ssWUFBWSwwQkFBMEJDLE1BQU0sQ0FBR0MsTUFBT1gsRUFBSVksT0FBT0UsU0FBV2QsRUFBSWUsTUFDM2VDLEVBQWtCLEcscUNDWXRCLHlCQUVBLEtBRUEseUJBRUEsYUFDQSxnREFMQSxVQURBLG9DLDJCQURBLGFBREEsYUFDQSxHLFVDYjZjLEksY0NPemNDLEdBQVksT0FDZCxFQUNBbEIsRUFDQWlCLEdBQ0EsRUFDQSxLQUNBLEtBQ0EsTUFJRixRQUFlQyxFQUFpQixTLDZDQ2xCaEMsSUFBSWxCLEVBQVMsV0FBYSxJQUFJQyxFQUFJQyxLQUFTQyxFQUFHRixFQUFJRyxlQUFtQkMsRUFBR0osRUFBSUssTUFBTUQsSUFBSUYsRUFBRyxPQUFPRSxFQUFHLE1BQU0sQ0FBQ0EsRUFBRyxNQUFNLENBQUNLLFlBQVksZ0JBQWdCLENBQUNMLEVBQUcsYUFBYSxDQUFDYyxNQUFNLENBQUMsT0FBUyxHQUFHLFFBQVVsQixFQUFJbUIsWUFBWSxNQUFRbkIsRUFBSW9CLFVBQVUsWUFBWSxJQUFJQyxZQUFZckIsRUFBSXNCLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLGFBQWFDLEdBQUcsU0FBU0MsR0FDdlMsSUFBSUMsRUFBUUQsRUFBSUMsTUFDWkMsRUFBT0YsRUFBSUUsS0FDZixNQUFPLENBQWUsZUFBYkEsRUFBS3RELEtBQXVCK0IsRUFBRyxpQkFBaUIsQ0FBQ2MsTUFBTSxDQUFDLGVBQWVRLEtBQXVCLFVBQWJDLEVBQUt0RCxLQUFrQitCLEVBQUcsT0FBTyxDQUFDd0IsU0FBUyxDQUFDLFlBQWM1QixFQUFJNkIsR0FBR0gsTUFBVXRCLEVBQUcsT0FBTyxDQUFDd0IsU0FBUyxDQUFDLFlBQWM1QixFQUFJNkIsR0FBRzdCLEVBQUk4QixNQUFNQyxHQUFXLElBQVJMLEVBQWExQixFQUFJZ0Msa0JBQW9CLGVBQWU1QixFQUFHLGFBQWEsQ0FBQ2MsTUFBTSxDQUFDLE9BQVMsR0FBRyxRQUFVbEIsRUFBSWlDLGdCQUFnQixNQUFRakMsRUFBSWtDLGVBQWViLFlBQVlyQixFQUFJc0IsR0FBRyxDQUFDLENBQUNDLElBQUksV0FBV0MsR0FBRyxTQUFTQyxHQUM3WixJQUFJQyxFQUFRRCxFQUFJQyxNQUNoQixNQUFPLENBQVcsU0FBVEEsRUFBa0IsQ0FBQ3RCLEVBQUcsYUFBYSxDQUFDYyxNQUFNLENBQUMsU0FBVyxRQUFRLEtBQU8sVUFBVWQsRUFBRyxPQUFPLENBQUN3QixTQUFTLENBQUMsWUFBYzVCLEVBQUk2QixHQUFHN0IsRUFBSThCLE1BQU1DLEdBQUcvQixFQUFJbUMsTUFBTXJCLE1BQU1kLEVBQUltQyxNQUFNckIsTUFBTXNCLE9BQVMsR0FBR25ELFlBQXNCLFdBQVR5QyxFQUFvQixDQUFDdEIsRUFBRyxhQUFhLENBQUNjLE1BQU0sQ0FBQyxTQUFXLFVBQVUsS0FBTyxVQUFVZCxFQUFHLE9BQU8sQ0FBQ3dCLFNBQVMsQ0FBQyxZQUFjNUIsRUFBSTZCLEdBQUc3QixFQUFJOEIsTUFBTUMsR0FBRy9CLEVBQUltQyxNQUFNckIsTUFBTWQsRUFBSW1DLE1BQU1yQixNQUFNc0IsT0FBUyxHQUFHbEQsY0FBd0IsYUFBVHdDLEVBQXNCLENBQUN0QixFQUFHLGFBQWEsQ0FBQ2MsTUFBTSxDQUFDLFNBQVcsWUFBWSxLQUFPLFVBQVVkLEVBQUcsT0FBTyxDQUFDd0IsU0FBUyxDQUFDLFlBQWM1QixFQUFJNkIsR0FBRzdCLEVBQUk4QixNQUFNQyxHQUFHL0IsRUFBSW1DLE1BQU1yQixNQUFNZCxFQUFJbUMsTUFBTXJCLE1BQU1zQixPQUFTLEdBQUdqRCxnQkFBMEIsYUFBVHVDLEVBQXNCLENBQUN0QixFQUFHLFNBQVMsQ0FBQ2MsTUFBTSxDQUFDLEtBQU9sQixFQUFJcUMsU0FBU0MsV0FBVyxLQUFPLFVBQVVsQyxFQUFHLE9BQU8sQ0FBQ3dCLFNBQVMsQ0FBQyxZQUFjNUIsRUFBSTZCLEdBQUc3QixFQUFJOEIsTUFBTUMsR0FBRy9CLEVBQUltQyxNQUFNckIsTUFBTWQsRUFBSW1DLE1BQU1yQixNQUFNc0IsT0FBUyxHQUFHRyxnQkFBZ0J2QyxFQUFJZSxZQUFZWCxFQUFHLGFBQWEsQ0FBQ2MsTUFBTSxDQUFDLE9BQVMsR0FBRyxRQUFVbEIsRUFBSXdDLGtCQUFrQixNQUFReEMsRUFBSXlDLGlCQUFpQnBCLFlBQVlyQixFQUFJc0IsR0FBRyxDQUFDLENBQUNDLElBQUksWUFBWUMsR0FBRyxTQUFTQyxHQUN4OEIsSUFBSUMsRUFBUUQsRUFBSUMsTUFDaEIsTUFBTyxDQUFDdEIsRUFBRyx1QkFBdUIsQ0FBQ0ssWUFBWSxjQUFjUyxNQUFNLENBQUMsS0FBT1EsUUFBWSxDQUFDSCxJQUFJLGNBQWNDLEdBQUcsU0FBU0MsR0FDdEgsSUFBSUUsRUFBT0YsRUFBSUUsS0FDZixNQUFPLENBQUN2QixFQUFHLGFBQWEsQ0FBQ2MsTUFBTSxDQUFDLFNBQVcsY0FBYyxLQUFPLFVBQVVkLEVBQUcsT0FBTyxDQUFDd0IsU0FBUyxDQUFDLFlBQWM1QixFQUFJNkIsR0FBSzdCLEVBQUk4QixNQUFNQyxHQUFHSixFQUFLZSxPQUFPLElBQU8sTUFBUzFDLEVBQUk4QixNQUFNQyxHQUFHSixFQUFLZSxPQUFPLGdCQUFrQixHQUFHdEMsRUFBRyxNQUFNQSxFQUFHLEtBQUssQ0FBQ3dCLFNBQVMsQ0FBQyxZQUFjNUIsRUFBSTZCLEdBQUc3QixFQUFJOEIsTUFBTWEsR0FBR0MsVUFBVUMsWUFBWUMsY0FBY0Msd0JBQXdCL0MsRUFBSWdELEdBQUloRCxFQUFTLE9BQUUsU0FBU00sR0FBTSxPQUFPRixFQUFHLE1BQU0sQ0FBQ21CLElBQUlqQixFQUFLRyxZQUFZLFlBQVksQ0FBQ0wsRUFBRyxLQUFLLENBQUNLLFlBQVksZUFBZSxDQUFDTCxFQUFHLHVCQUF1QixDQUFDYyxNQUFNLENBQUMsS0FBT1osS0FBUUYsRUFBRyxPQUFPLENBQUN3QixTQUFTLENBQUMsWUFBYzVCLEVBQUk2QixHQUFHN0IsRUFBSThCLE1BQU1hLEdBQUdDLFVBQVVDLFlBQVlDLGNBQWNHLFVBQVVqRCxFQUFJOEIsTUFBTWEsR0FBR0MsVUFBVUMsWUFBWUsscUJBQXFCNUMsU0FBWSxHQUFHRixFQUFHLGFBQWEsQ0FBQ00sTUFBUSxZQUFlVixFQUFJbUQsV0FBVzdDLEdBQVNZLE1BQU0sQ0FBQyxPQUFTLEdBQUcsTUFBUWxCLEVBQUltQyxNQUFNN0IsR0FBTSxRQUFVTixFQUFJb0QsU0FBUy9CLFlBQVlyQixFQUFJc0IsR0FBRyxDQUFDLENBQUNDLElBQUksVUFBVUMsR0FBRyxTQUFTQyxHQUMvMEIsSUFBSUMsRUFBUUQsRUFBSUMsTUFDaEIsTUFBTyxDQUFDdEIsRUFBRyxPQUFPLENBQUN3QixTQUFTLENBQUMsWUFBYzVCLEVBQUk2QixHQUFHN0IsRUFBSThCLE1BQU1DLEdBQUdMLFdBQWUsTUFBSyxNQUFTLE9BQU0sSUFDOUZWLEVBQWtCLEcsNE1Dc0Z0Qix5QkFFQSxhQUNBLHlCQUNBLFdBRUEsa0JBQ0Esd0JBQ0EseUJBR0EsaUJBQ0EsOENBRUEsT0FDQSw4QkFDQSxnQ0FDQSwrQkFJQSxjQUNBLE9BQ0EsQ0FDQSxZQUNBLDJDQUVBLENBQ0EsY0FDQSw2Q0FFQSxDQUNBLGdCQUNBLCtDQUVBLENBQ0EsZ0JBQ0EsbUVBRUEsQ0FDQSw0QkFDQSxtRkFDQSx5Q0FDQSxtQ0FDQSx3Q0FNQSxrQkFDQSxPQUNBLGNBQ0EsZUFHQSxnQkFDQSxrQkFFQSxPQUNBLENBQ0EsbUJBQ0EseUVBQ0EscUJBRUEsQ0FDQSxjQUNBLDBFQUNBLGtCQUVBLENBQ0Esa0JBQ0EsK0VBQ0EsMkJBRUEsQ0FDQSxrQkFDQSwyRUFDQSx1QkFFQSxDQUNBLGtCQUNBLGlGQUNBLHlCQUVBLENBQ0Esa0JBQ0EsNkVBQ0EsMEJBS0Esc0JBQ0EsT0FDQSxDQUNBLFVBQ0EscUVBQ0EsT0FDQSxrQ0FDQSxhQUtBLG9CQUNBLE9BQ0EsY0FDQSxnQkFDQSxrQkFDQSxrQkFDQSwrQkFJQSx3QkFDQSxPQUNBLGFBQ0EsQ0FDQSxhQUNBLHdFQUNBLE9BQ0EsMEJBQ0EsYUFLQSxzQkFDQSxvQ0FFQSxPQUNBLENBQ0EsZ0JBQ0EsNENBRUEsQ0FDQSxpQkFDQSw0Q0FFQSxDQUNBLGdCQUNBLDhDQUtBLFdBQ0EsbUJBRUEsa0RBQ0EsVUFDQSxHQUNBLFVBQ0EsaUJBR0EsdUJBQ0EsUUFnQkEsT0FmQSxlQUNBLHNEQUNBLCtCQUNBLEVBRUEsd0NBQ0EsOEJBQ0EsRUFDQSxxREFDQSxZQUVBLFFBQ0EsUUFHQSxNQUNBLEdBRUEsdUJBQ0EsUUFnQkEsT0FmQSxlQUNBLHNEQUNBLCtCQUNBLEVBRUEsb0NBQ0EsOEJBQ0EsRUFDQSxxREFDQSxZQUVBLFFBQ0EsUUFHQSxNQUNBLEdBRUEsdUJBQ0EsUUFnQkEsT0FmQSxlQUNBLHNEQUNBLCtCQUNBLEVBRUEseUNBQ0EsOEJBQ0EsRUFDQSxxREFDQSxZQUVBLFFBQ0EsUUFHQSxNQUNBLEdBRUEsdUJBQ0EsUUFnQkEsT0FmQSxlQUNBLHNEQUNBLCtCQUNBLEVBRUEscUNBQ0EsOEJBQ0EsRUFDQSxxREFDQSxZQUVBLFFBQ0EsUUFHQSxNQUNBLEdBRUEsT0FDQSwwQkFDQSwwQ0FDQSxvQkFDQSxnQkFDQSxrQkFDQSxtQkFJQSxZQUNBLFVBQ0EsWUFFQSxpQ0FDQSx1Q0FDQSxFQUVBLDBDQUVBLGVBQ0EsZ0JBQ0EsU0FFQSxhQUNBLG9CQUVBLE9BQ0EsWUFDQSxRQUNBLGNBRUEsa0NBRUEsY0FDQSxNQUNBLG1CQUNBLHdDQUNBLGdDQUNBLG9DQUVBLE9BQ0Esb0JBQ0Esd0JBQ0EsMEJBQ0Esd0JBQ0EsZ0NBM1JBLGFBTEEsU0FDQSxZQUNBLDJCQUdBLEcsVUNsR3dkLEksY0NRcGRDLEdBQVksT0FDZCxFQUNBbEIsRUFDQWlCLEdBQ0EsRUFDQSxLQUNBLFdBQ0EsTUFJRixRQUFlQyxFQUFpQiIsInNvdXJjZXMiOlsib2dhbWUtdHJhY2tlcjovLy8uL3NyYy9zaGFyZWQvbW9kZWxzL2V4cGVkaXRpb25zL2ZpbmRCYXNlQW1vdW50cy50cyIsIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvc2hhcmVkL21vZGVscy9leHBlZGl0aW9ucy9nZXRFeHBlZGl0aW9uRmluZEZhY3Rvci50cyIsIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvZXhwZXJpZW5jZS50cyIsIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvbW9kZWxzL2xpZmVmb3Jtcy9pbmRleC50cyIsIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvbW9kZWxzL3NldHRpbmdzL2dldE1zdU9yRHN1LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL2V4cGVkaXRpb25zL0V4cGVkaXRpb25TaXplSWNvbi52dWU/YWE2MiIsIndlYnBhY2s6Ly8vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvZXhwZWRpdGlvbnMvRXhwZWRpdGlvblNpemVJY29uLnZ1ZT9lMGNlIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL2V4cGVkaXRpb25zL0V4cGVkaXRpb25TaXplSWNvbi52dWU/MjZjMyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy9leHBlZGl0aW9ucy9FeHBlZGl0aW9uU2l6ZUljb24udnVlPzJjZjYiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL3ZpZXdzL2V4cGVkaXRpb25zL2luZm8vUG9zc2libGUtRmluZHMudnVlPzI1ZDIiLCJ3ZWJwYWNrOi8vL3NyYy92aWV3cy9zdGF0cy92aWV3cy9leHBlZGl0aW9ucy9pbmZvL1Bvc3NpYmxlLUZpbmRzLnZ1ZT80M2ZiIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy9leHBlZGl0aW9ucy9pbmZvL1Bvc3NpYmxlLUZpbmRzLnZ1ZT8wNDc3Iiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy9leHBlZGl0aW9ucy9pbmZvL1Bvc3NpYmxlLUZpbmRzLnZ1ZT9iZjE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4cGVkaXRpb25FdmVudFNpemUgfSBmcm9tIFwiLi9FeHBlZGl0aW9uRXZlbnRTaXplXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZmluZEJhc2VBbW91bnRzOiBSZWNvcmQ8RXhwZWRpdGlvbkV2ZW50U2l6ZSwgbnVtYmVyW10+ID0ge1xyXG4gICAgW0V4cGVkaXRpb25FdmVudFNpemUuc21hbGxdOiBbXHJcbiAgICAgICAgMjUwXzAwMCxcclxuICAgICAgICAzMDBfMDAwLFxyXG4gICAgICAgIDM1MF8wMDAsXHJcbiAgICAgICAgNDAwXzAwMCxcclxuICAgICAgICA0NTBfMDAwLFxyXG4gICAgICAgIDUwMF8wMDAsXHJcbiAgICAgICAgNTUwXzAwMCxcclxuICAgICAgICA2MDBfMDAwLFxyXG4gICAgICAgIDY1MF8wMDAsXHJcbiAgICAgICAgNzAwXzAwMCxcclxuICAgICAgICA3NTBfMDAwLFxyXG4gICAgICAgIDgwMF8wMDAsXHJcbiAgICAgICAgODUwXzAwMCxcclxuICAgICAgICA5MDBfMDAwLFxyXG4gICAgICAgIDk1MF8wMDAsXHJcbiAgICAgICAgMV8wMDBfMDAwLFxyXG4gICAgICAgIDFfMDUwXzAwMCxcclxuICAgICAgICAxXzEwMF8wMDAsXHJcbiAgICAgICAgMV8xNTBfMDAwLFxyXG4gICAgICAgIDFfMjAwXzAwMCxcclxuICAgICAgICAxXzI1MF8wMDAsXHJcbiAgICBdLFxyXG4gICAgW0V4cGVkaXRpb25FdmVudFNpemUubWVkaXVtXTogW1xyXG4gICAgICAgIDFfMjUwXzAwMCxcclxuICAgICAgICAxXzMwMF8wMDAsXHJcbiAgICAgICAgMV8zNTBfMDAwLFxyXG4gICAgICAgIDFfNDAwXzAwMCxcclxuICAgICAgICAxXzQ1MF8wMDAsXHJcbiAgICAgICAgMV81MDBfMDAwLFxyXG4gICAgICAgIDFfNTUwXzAwMCxcclxuICAgICAgICAxXzYwMF8wMDAsXHJcbiAgICAgICAgMV82NTBfMDAwLFxyXG4gICAgICAgIDFfNzAwXzAwMCxcclxuICAgICAgICAxXzc1MF8wMDAsXHJcbiAgICAgICAgMV84MDBfMDAwLFxyXG4gICAgICAgIDFfODUwXzAwMCxcclxuICAgICAgICAxXzkwMF8wMDAsXHJcbiAgICAgICAgMV85NTBfMDAwLFxyXG4gICAgICAgIDJfMDAwXzAwMCxcclxuICAgICAgICAyXzA1MF8wMDAsXHJcbiAgICAgICAgMl8xMDBfMDAwLFxyXG4gICAgICAgIDJfMTUwXzAwMCxcclxuICAgICAgICAyXzIwMF8wMDAsXHJcbiAgICAgICAgMl8yNTBfMDAwLFxyXG4gICAgICAgIDJfMzAwXzAwMCxcclxuICAgICAgICAyXzM1MF8wMDAsXHJcbiAgICAgICAgMl80MDBfMDAwLFxyXG4gICAgICAgIDJfNDUwXzAwMCxcclxuICAgICAgICAyXzUwMF8wMDAsXHJcbiAgICBdLFxyXG4gICAgW0V4cGVkaXRpb25FdmVudFNpemUubGFyZ2VdOiBbXHJcbiAgICAgICAgMl81MDBfMDAwLFxyXG4gICAgICAgIDJfNTUwXzAwMCxcclxuICAgICAgICAyXzYwMF8wMDAsXHJcbiAgICAgICAgMl82NTBfMDAwLFxyXG4gICAgICAgIDJfNzAwXzAwMCxcclxuICAgICAgICAyXzc1MF8wMDAsXHJcbiAgICAgICAgMl84MDBfMDAwLFxyXG4gICAgICAgIDJfODUwXzAwMCxcclxuICAgICAgICAyXzkwMF8wMDAsXHJcbiAgICAgICAgMl85NTBfMDAwLFxyXG4gICAgICAgIDNfMDAwXzAwMCxcclxuICAgICAgICAzXzA1MF8wMDAsXHJcbiAgICAgICAgM18xMDBfMDAwLFxyXG4gICAgICAgIDNfMTUwXzAwMCxcclxuICAgICAgICAzXzIwMF8wMDAsXHJcbiAgICAgICAgM18yNTBfMDAwLFxyXG4gICAgICAgIDNfMzAwXzAwMCxcclxuICAgICAgICAzXzM1MF8wMDAsXHJcbiAgICAgICAgM180MDBfMDAwLFxyXG4gICAgICAgIDNfNDUwXzAwMCxcclxuICAgICAgICAzXzUwMF8wMDAsXHJcbiAgICAgICAgM181NTBfMDAwLFxyXG4gICAgICAgIDNfNjAwXzAwMCxcclxuICAgICAgICAzXzY1MF8wMDAsXHJcbiAgICAgICAgM183MDBfMDAwLFxyXG4gICAgICAgIDNfNzUwXzAwMCxcclxuICAgICAgICAzXzgwMF8wMDAsXHJcbiAgICAgICAgM184NTBfMDAwLFxyXG4gICAgICAgIDNfOTAwXzAwMCxcclxuICAgICAgICAzXzk1MF8wMDAsXHJcbiAgICAgICAgNF8wMDBfMDAwLFxyXG4gICAgICAgIDRfMDUwXzAwMCxcclxuICAgICAgICA0XzEwMF8wMDAsXHJcbiAgICAgICAgNF8xNTBfMDAwLFxyXG4gICAgICAgIDRfMjAwXzAwMCxcclxuICAgICAgICA0XzI1MF8wMDAsXHJcbiAgICAgICAgNF8zMDBfMDAwLFxyXG4gICAgICAgIDRfMzUwXzAwMCxcclxuICAgICAgICA0XzQwMF8wMDAsXHJcbiAgICAgICAgNF80NTBfMDAwLFxyXG4gICAgICAgIDRfNTAwXzAwMCxcclxuICAgICAgICA0XzU1MF8wMDAsXHJcbiAgICAgICAgNF82MDBfMDAwLFxyXG4gICAgICAgIDRfNjUwXzAwMCxcclxuICAgICAgICA0XzcwMF8wMDAsXHJcbiAgICAgICAgNF83NTBfMDAwLFxyXG4gICAgICAgIDRfODAwXzAwMCxcclxuICAgICAgICA0Xzg1MF8wMDAsXHJcbiAgICAgICAgNF85MDBfMDAwLFxyXG4gICAgICAgIDRfOTUwXzAwMCxcclxuICAgICAgICA1XzAwMF8wMDAsXHJcbiAgICBdLFxyXG59OyIsImV4cG9ydCBmdW5jdGlvbiBnZXRFeHBlZGl0aW9uRmluZEZhY3Rvcih0b3BTY29yZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGlmICh0b3BTY29yZSA8IDEwMF8wMDApIHJldHVybiAwLjEwO1xyXG4gICAgaWYgKHRvcFNjb3JlIDwgMV8wMDBfMDAwKSByZXR1cm4gMC4yNDtcclxuICAgIGlmICh0b3BTY29yZSA8IDVfMDAwXzAwMCkgcmV0dXJuIDAuMzY7XHJcbiAgICBpZiAodG9wU2NvcmUgPCAyNV8wMDBfMDAwKSByZXR1cm4gMC40ODtcclxuICAgIGlmICh0b3BTY29yZSA8IDUwXzAwMF8wMDApIHJldHVybiAwLjYwO1xyXG4gICAgaWYgKHRvcFNjb3JlIDwgNzVfMDAwXzAwMCkgcmV0dXJuIDAuNzI7XHJcbiAgICBpZiAodG9wU2NvcmUgPCAxMDBfMDAwXzAwMCkgcmV0dXJuIDAuODQ7XHJcblxyXG4gICAgcmV0dXJuIDEuMDA7XHJcbn0iLCJjb25zdCBib251c1BlckxldmVsID0gMC4wMF8xOyAvLzAuMSVcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzKGV4cGVyaWVuY2U6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBjb25zdCBsZXZlbCA9IGdldExpZmVmb3JtTGV2ZWwoZXhwZXJpZW5jZSk7XHJcbiAgICByZXR1cm4gbGV2ZWwgKiBib251c1BlckxldmVsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlmZWZvcm1MZXZlbChleHBlcmllbmNlOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgZm9yKGxldCBsZXZlbCA9IDA7IDsgbGV2ZWwrKykge1xyXG4gICAgICAgIGNvbnN0IGV4cEZvckxldmVsID0gZ2V0TGlmZWZvcm1FeHBlcmllbmNlTmVlZGVkRm9yTGV2ZWwobGV2ZWwgKyAxKTtcclxuICAgICAgICBpZihleHBGb3JMZXZlbCA+IGV4cGVyaWVuY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxldmVsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEV4cGVyaWVuY2VOZWVkZWRGb3JMZXZlbFVwKGxldmVsOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIDkwMCAqIGxldmVsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlmZWZvcm1FeHBlcmllbmNlTmVlZGVkRm9yTGV2ZWwobGV2ZWw6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gOTAwICogbGV2ZWwgKiAobGV2ZWwgKyAxKSAvIDI7IC8vIGdhdXNzaWFuIHN1bW1hdGlvbiBmb3JtdWxhXHJcbn0iLCJpbXBvcnQgeyBQbGFuZXREYXRhIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9lbXBpcmUvUGxhbmV0RGF0YVwiO1xyXG5pbXBvcnQgeyBQbGF5ZXJDbGFzcyB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvb2dhbWUvY2xhc3Nlcy9QbGF5ZXJDbGFzc1wiO1xyXG5pbXBvcnQgeyBhZGRDb3N0LCBDb3N0IH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9jb21tb24vQ29zdFwiO1xyXG5pbXBvcnQgeyBMaWZlZm9ybVRlY2hub2xvZ3lCb251c0xpZmVmb3JtQnVpbGRpbmdzQnlMaWZlZm9ybSwgUmVzb3VyY2VQcm9kdWN0aW9uQm9udXNMaWZlZm9ybUJ1aWxkaW5nc0J5TGlmZWZvcm0gfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9idWlsZGluZ3MvTGlmZWZvcm1CdWlsZGluZ3NcIjtcclxuaW1wb3J0IHsgQ2xhc3NCb251c0xpZmVmb3JtVGVjaG5vbG9naWVzLCBSZXNvdXJjZVByb2R1Y3Rpb25Cb251c0xpZmVmb3JtVGVjaG5vbG9naWVzIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvdGVjaG5vbG9naWVzL0xpZmVmb3JtVGVjaG5vbG9naWVzXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGxhbmV0Q29sbGVjdG9yQ2xhc3NCb251c0ZhY3RvcihwbGFuZXQ6IFBsYW5ldERhdGEpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIENsYXNzQm9udXNMaWZlZm9ybVRlY2hub2xvZ2llc1xyXG4gICAgICAgIC5maWx0ZXIodGVjaCA9PiBwbGFuZXQuYWN0aXZlTGlmZWZvcm1UZWNobm9sb2dpZXMuaW5jbHVkZXModGVjaC50eXBlKSlcclxuICAgICAgICAucmVkdWNlKFxyXG4gICAgICAgICAgICAodG90YWwsIHRlY2gpID0+IHRvdGFsICsgdGVjaC5nZXRDbGFzc0JvbnVzKFBsYXllckNsYXNzLmNvbGxlY3RvciwgcGxhbmV0LmxpZmVmb3JtVGVjaG5vbG9naWVzW3RlY2gudHlwZV0pLFxyXG4gICAgICAgICAgICAwXHJcbiAgICAgICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBsYW5ldExpZmVmb3JtVGVjaG5vbG9neUJvb3N0KHBsYW5ldDogUGxhbmV0RGF0YSk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTGlmZWZvcm1UZWNobm9sb2d5Qm9udXNMaWZlZm9ybUJ1aWxkaW5nc0J5TGlmZWZvcm1bcGxhbmV0LmFjdGl2ZUxpZmVmb3JtXVxyXG4gICAgICAgIC5yZWR1Y2UoXHJcbiAgICAgICAgICAgICh0b3RhbCwgYnVpbGRpbmcpID0+IHRvdGFsICsgYnVpbGRpbmcuZ2V0TGlmZWZvcm1UZWNobm9sb2d5Qm9udXMocGxhbmV0LmxpZmVmb3JtQnVpbGRpbmdzW2J1aWxkaW5nLnR5cGVdKSxcclxuICAgICAgICAgICAgMFxyXG4gICAgICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGFuZXRMaWZlZm9ybUJ1aWxkaW5nQm9udXNQcm9kdWN0aW9uRmFjdG9yKHBsYW5ldDogUGxhbmV0RGF0YSk6IENvc3Qge1xyXG4gICAgcmV0dXJuIFJlc291cmNlUHJvZHVjdGlvbkJvbnVzTGlmZWZvcm1CdWlsZGluZ3NCeUxpZmVmb3JtW3BsYW5ldC5hY3RpdmVMaWZlZm9ybV0ucmVkdWNlPENvc3Q+KFxyXG4gICAgICAgICh0b3RhbCwgYnVpbGRpbmcpID0+IGFkZENvc3QodG90YWwsIGJ1aWxkaW5nLmdldFByb2R1Y3Rpb25Cb251cyhwbGFuZXQubGlmZWZvcm1CdWlsZGluZ3NbYnVpbGRpbmcudHlwZV0pKSxcclxuICAgICAgICB7IG1ldGFsOiAwLCBjcnlzdGFsOiAwLCBkZXV0ZXJpdW06IDAsIGVuZXJneTogMCB9LFxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBsYW5ldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzUHJvZHVjdGlvbkZhY3RvcihwbGFuZXQ6IFBsYW5ldERhdGEpOiBDb3N0IHtcclxuICAgIHJldHVybiBSZXNvdXJjZVByb2R1Y3Rpb25Cb251c0xpZmVmb3JtVGVjaG5vbG9naWVzXHJcbiAgICAgICAgLmZpbHRlcih0ZWNoID0+IHBsYW5ldC5hY3RpdmVMaWZlZm9ybVRlY2hub2xvZ2llcy5pbmNsdWRlcyh0ZWNoLnR5cGUpKVxyXG4gICAgICAgIC5yZWR1Y2U8Q29zdD4oXHJcbiAgICAgICAgICAgICh0b3RhbCwgdGVjaCkgPT4gYWRkQ29zdCh0b3RhbCwgdGVjaC5nZXRQcm9kdWN0aW9uQm9udXMocGxhbmV0LmxpZmVmb3JtVGVjaG5vbG9naWVzW3RlY2gudHlwZV0pKSxcclxuICAgICAgICAgICAgeyBtZXRhbDogMCwgY3J5c3RhbDogMCwgZGV1dGVyaXVtOiAwLCBlbmVyZ3k6IDAgfSxcclxuICAgICAgICApO1xyXG59IiwiaW1wb3J0IHsgUmVzb3VyY2VUeXBlLCBSZXNvdXJjZVR5cGVzIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9vZ2FtZS9yZXNvdXJjZXMvUmVzb3VyY2VUeXBlXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzRGF0YU1vZHVsZSB9IGZyb20gXCIuLi8uLi9kYXRhL1NldHRpbmdzRGF0YU1vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE1zdU9yRHN1KHJlc291cmNlczogUGFydGlhbDxSZWNvcmQ8UmVzb3VyY2VUeXBlLCBudW1iZXI+PiwgZmFjdG9yczogUGFydGlhbDxSZWNvcmQ8UmVzb3VyY2VUeXBlLCBudW1iZXI+PiA9IHt9KTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGNvc3Q6IFJlY29yZDxSZXNvdXJjZVR5cGUsIG51bWJlcj4gPSB7XHJcbiAgICAgICAgbWV0YWw6IDAsXHJcbiAgICAgICAgY3J5c3RhbDogMCxcclxuICAgICAgICBkZXV0ZXJpdW06IDAsXHJcbiAgICAgICAgLi4ucmVzb3VyY2VzLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGNvc3RGYWN0b3JzOiBSZWNvcmQ8UmVzb3VyY2VUeXBlLCBudW1iZXI+ID0ge1xyXG4gICAgICAgIG1ldGFsOiAxLFxyXG4gICAgICAgIGNyeXN0YWw6IDEsXHJcbiAgICAgICAgZGV1dGVyaXVtOiAxLFxyXG4gICAgICAgIC4uLmZhY3RvcnMsXHJcbiAgICB9O1xyXG4gICAgUmVzb3VyY2VUeXBlcy5mb3JFYWNoKHJlc291cmNlID0+IGNvc3RbcmVzb3VyY2VdICo9IGNvc3RGYWN0b3JzW3Jlc291cmNlXSk7XHJcblxyXG4gICAgY29uc3QgeyBtb2RlLCBtc3UsIGRzdSB9ID0gU2V0dGluZ3NEYXRhTW9kdWxlLnNldHRpbmdzLmNvbnZlcnNpb25SYXRlcztcclxuICAgIGlmIChtb2RlID09ICdtc3UnKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvc3QubWV0YWwgKyBjb3N0LmNyeXN0YWwgKiBtc3UuY3J5c3RhbCArIGNvc3QuZGV1dGVyaXVtICogbXN1LmRldXRlcml1bTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29zdC5kZXV0ZXJpdW0gKyBjb3N0LmNyeXN0YWwgLyBkc3UuY3J5c3RhbCArIGNvc3QubWV0YWwgLyBkc3UubWV0YWw7XHJcbn0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiAoX3ZtLnNpemUgPT0gX3ZtLkV4cGVkaXRpb25FdmVudFNpemUuc21hbGwpP19jKCdzcGFuJyx7c3RhdGljQ2xhc3M6XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtMVwiLHN0eWxlOih7IGNvbG9yOiBfdm0uY29sb3JzLnNtYWxsIH0pfSk6KF92bS5zaXplID09IF92bS5FeHBlZGl0aW9uRXZlbnRTaXplLm1lZGl1bSk/X2MoJ3NwYW4nLHtzdGF0aWNDbGFzczpcIm1kaSBtZGktaGV4YWdvbi1zbGljZS0zXCIsc3R5bGU6KHsgY29sb3I6IF92bS5jb2xvcnMubWVkaXVtIH0pfSk6KF92bS5zaXplID09IF92bS5FeHBlZGl0aW9uRXZlbnRTaXplLmxhcmdlKT9fYygnc3Bhbicse3N0YXRpY0NsYXNzOlwibWRpIG1kaS1oZXhhZ29uLXNsaWNlLTVcIixzdHlsZTooeyBjb2xvcjogX3ZtLmNvbG9ycy5sYXJnZSB9KX0pOl92bS5fZSgpfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XHJcbiAgICA8c3BhbiB2LWlmPVwic2l6ZSA9PSBFeHBlZGl0aW9uRXZlbnRTaXplLnNtYWxsXCIgY2xhc3M9XCJtZGkgbWRpLWhleGFnb24tc2xpY2UtMVwiIDpzdHlsZT1cInsgY29sb3I6IGNvbG9ycy5zbWFsbCB9XCIgLz5cclxuICAgIDxzcGFuIHYtZWxzZS1pZj1cInNpemUgPT0gRXhwZWRpdGlvbkV2ZW50U2l6ZS5tZWRpdW1cIiBjbGFzcz1cIm1kaSBtZGktaGV4YWdvbi1zbGljZS0zXCIgOnN0eWxlPVwieyBjb2xvcjogY29sb3JzLm1lZGl1bSB9XCIgLz5cclxuICAgIDxzcGFuIHYtZWxzZS1pZj1cInNpemUgPT0gRXhwZWRpdGlvbkV2ZW50U2l6ZS5sYXJnZVwiIGNsYXNzPVwibWRpIG1kaS1oZXhhZ29uLXNsaWNlLTVcIiA6c3R5bGU9XCJ7IGNvbG9yOiBjb2xvcnMubGFyZ2UgfVwiIC8+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG4gICAgaW1wb3J0IHsgRXhwZWRpdGlvbkV2ZW50U2l6ZSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9leHBlZGl0aW9ucy9FeHBlZGl0aW9uRXZlbnRTaXplJztcclxuICAgIGltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7XHJcbiAgICBpbXBvcnQgeyBQcm9wVHlwZSB9IGZyb20gJ3Z1ZSc7XHJcbiAgICBpbXBvcnQgeyBTZXR0aW5nc0RhdGFNb2R1bGUgfSBmcm9tICcuLi8uLi9kYXRhL1NldHRpbmdzRGF0YU1vZHVsZSc7XHJcblxyXG4gICAgQENvbXBvbmVudCh7fSlcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4cGVkaXRpb25TaXplSWNvbiBleHRlbmRzIFZ1ZSB7XHJcbiAgICAgICAgQFByb3AoeyByZXF1aXJlZDogdHJ1ZSwgdHlwZTogU3RyaW5nIGFzIFByb3BUeXBlPEV4cGVkaXRpb25FdmVudFNpemU+IH0pXHJcbiAgICAgICAgcHJpdmF0ZSBzaXplITogRXhwZWRpdGlvbkV2ZW50U2l6ZTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBFeHBlZGl0aW9uRXZlbnRTaXplID0gRXhwZWRpdGlvbkV2ZW50U2l6ZTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgY29sb3JzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gU2V0dGluZ3NEYXRhTW9kdWxlLnNldHRpbmdzLmNvbG9ycy5leHBlZGl0aW9ucy5zaXplcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbjwvc2NyaXB0PiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9FeHBlZGl0aW9uU2l6ZUljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vRXhwZWRpdGlvblNpemVJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vRXhwZWRpdGlvblNpemVJY29uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01ZDY2YWZjYiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9FeHBlZGl0aW9uU2l6ZUljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9FeHBlZGl0aW9uU2l6ZUljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2JyxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwic21hbGwtdGFibGVzXCJ9LFtfYygnZ3JpZC10YWJsZScse2F0dHJzOntcImlubGluZVwiOlwiXCIsXCJjb2x1bW5zXCI6X3ZtLmluZm9Db2x1bW5zLFwiaXRlbXNcIjpfdm0uaW5mb0l0ZW1zLFwibm8taGVhZGVyXCI6XCJcIn0sc2NvcGVkU2xvdHM6X3ZtLl91KFt7a2V5OlwiY2VsbC12YWx1ZVwiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgdmFsdWUgPSByZWYudmFsdWU7XG52YXIgaXRlbSA9IHJlZi5pdGVtO1xucmV0dXJuIFsoaXRlbS50eXBlID09ICdwbGF5ZXJDbGFzcycpP19jKCdvLXBsYXllci1jbGFzcycse2F0dHJzOntcInBsYXllci1jbGFzc1wiOnZhbHVlfX0pOihpdGVtLnR5cGUgPT0gJ251bWJlcicpP19jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3ModmFsdWUpfX0pOl9jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiRuKHZhbHVlICogMTAwLCBfdm0ucGVyY2VudGFnZUZvcm1hdCkgKyAnJScpfX0pXX19XSl9KSxfYygnZ3JpZC10YWJsZScse2F0dHJzOntcImlubGluZVwiOlwiXCIsXCJjb2x1bW5zXCI6X3ZtLm1heEZpbmRzQ29sdW1ucyxcIml0ZW1zXCI6X3ZtLm1heEZpbmRzSXRlbXN9LHNjb3BlZFNsb3RzOl92bS5fdShbe2tleTpcImNlbGwta2V5XCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnJldHVybiBbKHZhbHVlID09ICdtZXRhbCcpP1tfYygnby1yZXNvdXJjZScse2F0dHJzOntcInJlc291cmNlXCI6XCJtZXRhbFwiLFwic2l6ZVwiOlwiMjRweFwifX0pLF9jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiRuKF92bS5maW5kcy5sYXJnZVtfdm0uZmluZHMubGFyZ2UubGVuZ3RoIC0gMV0ubWV0YWwpKX19KV06KHZhbHVlID09ICdjcnlzdGFsJyk/W19jKCdvLXJlc291cmNlJyx7YXR0cnM6e1wicmVzb3VyY2VcIjpcImNyeXN0YWxcIixcInNpemVcIjpcIjI0cHhcIn19KSxfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKF92bS4kaTE4bi4kbihfdm0uZmluZHMubGFyZ2VbX3ZtLmZpbmRzLmxhcmdlLmxlbmd0aCAtIDFdLmNyeXN0YWwpKX19KV06KHZhbHVlID09ICdkZXV0ZXJpdW0nKT9bX2MoJ28tcmVzb3VyY2UnLHthdHRyczp7XCJyZXNvdXJjZVwiOlwiZGV1dGVyaXVtXCIsXCJzaXplXCI6XCIyNHB4XCJ9fSksX2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJG4oX3ZtLmZpbmRzLmxhcmdlW192bS5maW5kcy5sYXJnZS5sZW5ndGggLSAxXS5kZXV0ZXJpdW0pKX19KV06KHZhbHVlID09ICdzaGlwVW5pdHMnKT9bX2MoJ28tc2hpcCcse2F0dHJzOntcInNoaXBcIjpfdm0uU2hpcFR5cGUuYmF0dGxlc2hpcCxcInNpemVcIjpcIjI0cHhcIn19KSxfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKF92bS4kaTE4bi4kbihfdm0uZmluZHMubGFyZ2VbX3ZtLmZpbmRzLmxhcmdlLmxlbmd0aCAtIDFdLnNoaXBVbml0cykpfX0pXTpfdm0uX2UoKV19fV0pfSksX2MoJ2dyaWQtdGFibGUnLHthdHRyczp7XCJpbmxpbmVcIjpcIlwiLFwiY29sdW1uc1wiOl92bS5kYXJrTWF0dGVyQ29sdW1ucyxcIml0ZW1zXCI6X3ZtLmRhcmtNYXR0ZXJJdGVtc30sc2NvcGVkU2xvdHM6X3ZtLl91KFt7a2V5OlwiY2VsbC1zaXplXCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnJldHVybiBbX2MoJ2V4cGVkaXRpb24tc2l6ZS1pY29uJyx7c3RhdGljQ2xhc3M6XCJzY2FsZWQtaWNvblwiLGF0dHJzOntcInNpemVcIjp2YWx1ZX19KV19fSx7a2V5OlwiY2VsbC1hbW91bnRcIixmbjpmdW5jdGlvbihyZWYpe1xudmFyIGl0ZW0gPSByZWYuaXRlbTtcbnJldHVybiBbX2MoJ28tcmVzb3VyY2UnLHthdHRyczp7XCJyZXNvdXJjZVwiOlwiZGFyay1tYXR0ZXJcIixcInNpemVcIjpcIjI0cHhcIn19KSxfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKCgoX3ZtLiRpMThuLiRuKGl0ZW0uYW1vdW50WzBdKSkgKyBcIiAtIFwiICsgKF92bS4kaTE4bi4kbihpdGVtLmFtb3VudFsxXSkpKSl9fSldfX1dKX0pXSwxKSxfYygnaHInKSxfYygnaDMnLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMubGlzdE9mUG9zc2libGVGaW5kcyl9fSksX3ZtLl9sKChfdm0uc2l6ZXMpLGZ1bmN0aW9uKHNpemUpe3JldHVybiBfYygnZGl2Jyx7a2V5OnNpemUsc3RhdGljQ2xhc3M6XCJmaW5kLWNvbFwifSxbX2MoJ2gzJyx7c3RhdGljQ2xhc3M6XCJ0YWJsZS10aXRsZVwifSxbX2MoJ2V4cGVkaXRpb24tc2l6ZS1pY29uJyx7YXR0cnM6e1wic2l6ZVwiOnNpemV9fSksX2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMuZmluZFNpemVzKF92bS4kaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMuZXhwZWRpdGlvbkV2ZW50U2l6ZXNbc2l6ZV0pKX19KV0sMSksX2MoJ2dyaWQtdGFibGUnLHtzdHlsZTooKFwiLS1jb2xvcjogXCIgKyAoX3ZtLnNpemVDb2xvcnNbc2l6ZV0pKSksYXR0cnM6e1wiaW5saW5lXCI6XCJcIixcIml0ZW1zXCI6X3ZtLmZpbmRzW3NpemVdLFwiY29sdW1uc1wiOl92bS5jb2x1bW5zfSxzY29wZWRTbG90czpfdm0uX3UoW3trZXk6XCJjZWxsLS4rXCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnJldHVybiBbX2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJG4odmFsdWUpKX19KV19fV0sbnVsbCx0cnVlKX0pXSwxKX0pXSwyKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxyXG4gICAgPGRpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic21hbGwtdGFibGVzXCI+XHJcbiAgICAgICAgICAgIDxncmlkLXRhYmxlIGlubGluZSA6Y29sdW1ucz1cImluZm9Db2x1bW5zXCIgOml0ZW1zPVwiaW5mb0l0ZW1zXCIgbm8taGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlICNjZWxsLXZhbHVlPVwieyB2YWx1ZSwgaXRlbSB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPG8tcGxheWVyLWNsYXNzIHYtaWY9XCJpdGVtLnR5cGUgPT0gJ3BsYXllckNsYXNzJ1wiIDpwbGF5ZXItY2xhc3M9XCJ2YWx1ZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdi1lbHNlLWlmPVwiaXRlbS50eXBlID09ICdudW1iZXInXCIgdi10ZXh0PVwidmFsdWVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtZWxzZSB2LXRleHQ9XCIkaTE4bi4kbih2YWx1ZSAqIDEwMCwgcGVyY2VudGFnZUZvcm1hdCkgKyAnJSdcIiAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPC9ncmlkLXRhYmxlPlxyXG5cclxuICAgICAgICAgICAgPGdyaWQtdGFibGUgaW5saW5lIDpjb2x1bW5zPVwibWF4RmluZHNDb2x1bW5zXCIgOml0ZW1zPVwibWF4RmluZHNJdGVtc1wiPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlICNjZWxsLWtleT1cInsgdmFsdWUgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwidmFsdWUgPT0gJ21ldGFsJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8by1yZXNvdXJjZSByZXNvdXJjZT1cIm1ldGFsXCIgc2l6ZT1cIjI0cHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LXRleHQ9XCIkaTE4bi4kbihmaW5kcy5sYXJnZVtmaW5kcy5sYXJnZS5sZW5ndGggLSAxXS5tZXRhbClcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cInZhbHVlID09ICdjcnlzdGFsJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8by1yZXNvdXJjZSByZXNvdXJjZT1cImNyeXN0YWxcIiBzaXplPVwiMjRweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtdGV4dD1cIiRpMThuLiRuKGZpbmRzLmxhcmdlW2ZpbmRzLmxhcmdlLmxlbmd0aCAtIDFdLmNyeXN0YWwpXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWVsc2UtaWY9XCJ2YWx1ZSA9PSAnZGV1dGVyaXVtJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8by1yZXNvdXJjZSByZXNvdXJjZT1cImRldXRlcml1bVwiIHNpemU9XCIyNHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gdi10ZXh0PVwiJGkxOG4uJG4oZmluZHMubGFyZ2VbZmluZHMubGFyZ2UubGVuZ3RoIC0gMV0uZGV1dGVyaXVtKVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1lbHNlLWlmPVwidmFsdWUgPT0gJ3NoaXBVbml0cydcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG8tc2hpcCA6c2hpcD1cIlNoaXBUeXBlLmJhdHRsZXNoaXBcIiBzaXplPVwiMjRweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtdGV4dD1cIiRpMThuLiRuKGZpbmRzLmxhcmdlW2ZpbmRzLmxhcmdlLmxlbmd0aCAtIDFdLnNoaXBVbml0cylcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L2dyaWQtdGFibGU+XHJcblxyXG4gICAgICAgICAgICA8Z3JpZC10YWJsZSBpbmxpbmUgOmNvbHVtbnM9XCJkYXJrTWF0dGVyQ29sdW1uc1wiIDppdGVtcz1cImRhcmtNYXR0ZXJJdGVtc1wiPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlICNjZWxsLXNpemU9XCJ7IHZhbHVlIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZXhwZWRpdGlvbi1zaXplLWljb24gOnNpemU9XCJ2YWx1ZVwiIGNsYXNzPVwic2NhbGVkLWljb25cIiAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSAjY2VsbC1hbW91bnQ9XCJ7IGl0ZW0gfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvLXJlc291cmNlIHJlc291cmNlPVwiZGFyay1tYXR0ZXJcIiBzaXplPVwiMjRweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdi10ZXh0PVwiYCR7JGkxOG4uJG4oaXRlbS5hbW91bnRbMF0pfSAtICR7JGkxOG4uJG4oaXRlbS5hbW91bnRbMV0pfWBcIiAvPlxyXG4gICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPC9ncmlkLXRhYmxlPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8aHIgLz5cclxuXHJcbiAgICAgICAgPGgzIHYtdGV4dD1cIiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy5wb3NzaWJsZUZpbmRzLmxpc3RPZlBvc3NpYmxlRmluZHNcIiAvPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaW5kLWNvbFwiIHYtZm9yPVwic2l6ZSBpbiBzaXplc1wiIDprZXk9XCJzaXplXCI+XHJcbiAgICAgICAgICAgIDxoMyBjbGFzcz1cInRhYmxlLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICA8ZXhwZWRpdGlvbi1zaXplLWljb24gOnNpemU9XCJzaXplXCIgLz5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHYtdGV4dD1cIiRpMThuLiR0LmV4dGVuc2lvbi5leHBlZGl0aW9ucy5wb3NzaWJsZUZpbmRzLmZpbmRTaXplcygkaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMuZXhwZWRpdGlvbkV2ZW50U2l6ZXNbc2l6ZV0pXCIgLz5cclxuICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgICAgPGdyaWQtdGFibGUgaW5saW5lIDppdGVtcz1cImZpbmRzW3NpemVdXCIgOmNvbHVtbnM9XCJjb2x1bW5zXCIgOnN0eWxlPVwiYC0tY29sb3I6ICR7c2l6ZUNvbG9yc1tzaXplXX1gXCI+XHJcbiAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1zbG90OltgY2VsbC0uK2BdPVwieyB2YWx1ZSB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdi10ZXh0PVwiJGkxOG4uJG4odmFsdWUpXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgICAgIDwvZ3JpZC10YWJsZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICAgIGltcG9ydCB7IEV4cGVkaXRpb25FdmVudFNpemUsIEV4cGVkaXRpb25FdmVudFNpemVzIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL2V4cGVkaXRpb25zL0V4cGVkaXRpb25FdmVudFNpemUnO1xyXG4gICAgaW1wb3J0IHsgUGxheWVyQ2xhc3MgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvY2xhc3Nlcy9QbGF5ZXJDbGFzcyc7XHJcbiAgICBpbXBvcnQgeyBTaGlwVHlwZSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9zaGlwcy9TaGlwVHlwZSc7XHJcbiAgICBpbXBvcnQgeyBjcmVhdGVNYXBwZWRSZWNvcmQsIGNyZWF0ZVJlY29yZCB9IGZyb20gJ0Avc2hhcmVkL3V0aWxzL2NyZWF0ZVJlY29yZCc7XHJcbiAgICBpbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG4gICAgaW1wb3J0IHsgR3JpZFRhYmxlQ29sdW1uIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jb21tb24vR3JpZFRhYmxlLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBFbXBpcmVEYXRhTW9kdWxlIH0gZnJvbSAnLi4vLi4vLi4vZGF0YS9FbXBpcmVEYXRhTW9kdWxlJztcclxuICAgIGltcG9ydCB7IFNldHRpbmdzRGF0YU1vZHVsZSB9IGZyb20gJy4uLy4uLy4uL2RhdGEvU2V0dGluZ3NEYXRhTW9kdWxlJztcclxuICAgIGltcG9ydCB7IGdldFJHQlN0cmluZyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2dldFJHQlN0cmluZyc7XHJcbiAgICBpbXBvcnQgRXhwZWRpdGlvblNpemVJY29uIGZyb20gJ0Avdmlld3Mvc3RhdHMvY29tcG9uZW50cy9leHBlZGl0aW9ucy9FeHBlZGl0aW9uU2l6ZUljb24udnVlJztcclxuICAgIGltcG9ydCB7IFBsYW5ldERhdGEgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvZW1waXJlL1BsYW5ldERhdGEnO1xyXG4gICAgaW1wb3J0IHsgQ2xhc3NCb251c0xpZmVmb3JtVGVjaG5vbG9naWVzLCBFeHBlZGl0aW9uQm9udXNMaWZlZm9ybVRlY2hub2xvZ2llcyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvdGVjaG5vbG9naWVzL0xpZmVmb3JtVGVjaG5vbG9naWVzJztcclxuICAgIGltcG9ydCB7IEV4cGVkaXRpb25FdmVudFR5cGUgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvZXhwZWRpdGlvbnMvRXhwZWRpdGlvbkV2ZW50VHlwZSc7XHJcbiAgICBpbXBvcnQgeyBnZXRQbGFuZXRMaWZlZm9ybVRlY2hub2xvZ3lCb29zdCB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9saWZlZm9ybXMnO1xyXG4gICAgaW1wb3J0IHsgTGlmZWZvcm1UeXBlIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9MaWZlZm9ybVR5cGUnO1xyXG4gICAgaW1wb3J0IHsgZ2V0TGlmZWZvcm1MZXZlbFRlY2hub2xvZ3lCb251cyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvZXhwZXJpZW5jZSc7XHJcbiAgICBpbXBvcnQgeyBTZXJ2ZXJTZXR0aW5nc0RhdGFNb2R1bGUgfSBmcm9tICdAL3ZpZXdzL3N0YXRzL2RhdGEvU2VydmVyU2V0dGluZ3NEYXRhTW9kdWxlJztcclxuICAgIGltcG9ydCB7IGdldEV4cGVkaXRpb25GaW5kRmFjdG9yIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL2V4cGVkaXRpb25zL2dldEV4cGVkaXRpb25GaW5kRmFjdG9yJztcclxuICAgIGltcG9ydCB7IGZpbmRCYXNlQW1vdW50cyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9leHBlZGl0aW9ucy9maW5kQmFzZUFtb3VudHMnO1xyXG4gICAgaW1wb3J0IHsgRXhwZWRpdGlvbkZpbmRhYmxlU2hpcFR5cGVzIH0gZnJvbSBcIkAvc2hhcmVkL21vZGVscy9leHBlZGl0aW9ucy9FeHBlZGl0aW9uRXZlbnRzXCI7XHJcbiAgICBpbXBvcnQgeyBTaGlwQnlUeXBlcyB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvb2dhbWUvc2hpcHMvU2hpcFR5cGVzXCI7XHJcbiAgICBpbXBvcnQgeyBnZXRNc3VPckRzdSB9IGZyb20gXCJAL3ZpZXdzL3N0YXRzL21vZGVscy9zZXR0aW5ncy9nZXRNc3VPckRzdVwiO1xyXG5cclxuXHJcbiAgICB0eXBlIEZpbmRhYmxlVW5pdHMgPSB7XHJcbiAgICAgICAgbWV0YWw6IG51bWJlcjtcclxuICAgICAgICBjcnlzdGFsOiBudW1iZXI7XHJcbiAgICAgICAgZGV1dGVyaXVtOiBudW1iZXI7XHJcbiAgICAgICAgc2hpcFVuaXRzOiBudW1iZXI7XHJcbiAgICAgICAgbWF4U2hpcFVuaXRzQ29udmVydGVkOiBudW1iZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIEBDb21wb25lbnQoe1xyXG4gICAgICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICAgICAgRXhwZWRpdGlvblNpemVJY29uLFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICBleHBvcnQgZGVmYXVsdCBjbGFzcyBNYXhGaW5kcyBleHRlbmRzIFZ1ZSB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgU2hpcFR5cGUgPSBTaGlwVHlwZTtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IEV4cGVkaXRpb25FdmVudFNpemUgPSBFeHBlZGl0aW9uRXZlbnRTaXplO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgc2l6ZXMgPSBFeHBlZGl0aW9uRXZlbnRTaXplcztcclxuXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBwZXJjZW50YWdlRm9ybWF0OiBJbnRsLk51bWJlckZvcm1hdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMyxcclxuICAgICAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAzLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IHNpemVDb2xvcnMoKTogUmVjb3JkPEV4cGVkaXRpb25FdmVudFNpemUsIHN0cmluZz4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb2xvcnMgPSBTZXR0aW5nc0RhdGFNb2R1bGUuc2V0dGluZ3MuY29sb3JzLmV4cGVkaXRpb25zLnNpemVzO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIFtFeHBlZGl0aW9uRXZlbnRTaXplLnNtYWxsXTogZ2V0UkdCU3RyaW5nKGNvbG9ycy5zbWFsbCkhLFxyXG4gICAgICAgICAgICAgICAgW0V4cGVkaXRpb25FdmVudFNpemUubWVkaXVtXTogZ2V0UkdCU3RyaW5nKGNvbG9ycy5tZWRpdW0pISxcclxuICAgICAgICAgICAgICAgIFtFeHBlZGl0aW9uRXZlbnRTaXplLmxhcmdlXTogZ2V0UkdCU3RyaW5nKGNvbG9ycy5sYXJnZSkhLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgY29sdW1ucygpOiBHcmlkVGFibGVDb2x1bW48a2V5b2YgRmluZGFibGVVbml0cz5bXSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnbWV0YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0Lm9nYW1lLnJlc291cmNlcy5tZXRhbCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnY3J5c3RhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQub2dhbWUucmVzb3VyY2VzLmNyeXN0YWwsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2RldXRlcml1bScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQub2dhbWUucmVzb3VyY2VzLmRldXRlcml1bSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnc2hpcFVuaXRzJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMucG9zc2libGVGaW5kcy5zaGlwVW5pdHMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ21heFNoaXBVbml0c0NvbnZlcnRlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMuc2hpcE1heFVuaXRzQ29udmVydGVkICsgYCAoJHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NEYXRhTW9kdWxlLnNldHRpbmdzLmNvbnZlcnNpb25SYXRlcy5tb2RlID09ICdtc3UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmNvbW1vbi5tc3VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uY29tbW9uLmRzdVxyXG4gICAgICAgICAgICAgICAgICAgIH0pYCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBpbmZvQ29sdW1ucygpOiBHcmlkVGFibGVDb2x1bW48J2xhYmVsJyB8ICd2YWx1ZSc+W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdsYWJlbCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAndmFsdWUnIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGluZm9JdGVtcygpOiB7IHR5cGU6ICdwbGF5ZXJDbGFzcycgfCAncGVyY2VudGFnZScgfCAnbnVtYmVyJzsgbGFiZWw6IHN0cmluZzsgdmFsdWU6IG51bWJlciB8IFBsYXllckNsYXNzIH1bXSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZm8gPSB0aGlzLmluZm87XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwbGF5ZXJDbGFzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMuaW5mby5wbGF5ZXJDbGFzcyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5mby5wbGF5ZXJDbGFzcyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMuaW5mby5lY29ub215U3BlZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluZm8uZWNvU3BlZWQsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwZXJjZW50YWdlJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMucG9zc2libGVGaW5kcy5pbmZvLnJlc291cmNlRmluZEJvbnVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbmZvLnJlc291cmNlRmluZEJvbnVzLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGVyY2VudGFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMuaW5mby5zaGlwRmluZEJvbnVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbmZvLnNoaXBGaW5kQm9udXMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwZXJjZW50YWdlJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMucG9zc2libGVGaW5kcy5pbmZvLmRhcmtNYXR0ZXJGaW5kQm9udXMsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluZm8uZGFya01hdHRlckJvbnVzLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGVyY2VudGFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMuaW5mby5kaXNjb3ZlcmVyQm9udXMsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluZm8uZGlzY292ZXJlckJvbnVzLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IG1heEZpbmRzQ29sdW1ucygpOiBHcmlkVGFibGVDb2x1bW48J2tleSc+W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2tleScsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmV4cGVkaXRpb25zLnBvc3NpYmxlRmluZHMubWF4aW11bUZpbmRzLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdqdXN0aWZ5LWNvbnRlbnQnOiAnc3BhY2UtYmV0d2VlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdnYXAnOiAnNHB4JyxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgbWF4RmluZHNJdGVtcygpOiB7IGtleToga2V5b2YgRmluZGFibGVVbml0cyB9W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdtZXRhbCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnY3J5c3RhbCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAnZGV1dGVyaXVtJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdzaGlwVW5pdHMnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ21heFNoaXBVbml0c0NvbnZlcnRlZCcgfSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGRhcmtNYXR0ZXJDb2x1bW5zKCk6IEdyaWRUYWJsZUNvbHVtbjwnc2l6ZScgfCAnYW1vdW50Jz5bXSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ3NpemUnIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnYW1vdW50JyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uZXhwZWRpdGlvbnMucG9zc2libGVGaW5kcy5maW5kc0RhcmtNYXR0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2p1c3RpZnktY29udGVudCc6ICdzdGFydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdnYXAnOiAnNnB4JyxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgZGFya01hdHRlckl0ZW1zKCk6IHsgc2l6ZTogRXhwZWRpdGlvbkV2ZW50U2l6ZSwgYW1vdW50OiBbbWluOiBudW1iZXIsIG1heDogbnVtYmVyXSB9W10ge1xyXG4gICAgICAgICAgICBjb25zdCBmYWN0b3IgPSAxICsgdGhpcy5pbmZvLmRhcmtNYXR0ZXJCb251cztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogRXhwZWRpdGlvbkV2ZW50U2l6ZS5zbWFsbCxcclxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IFszMDAsIDQwMF0ubWFwKHggPT4gTWF0aC50cnVuYyh4ICogZmFjdG9yKSkgYXMgW251bWJlciwgbnVtYmVyXSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogRXhwZWRpdGlvbkV2ZW50U2l6ZS5tZWRpdW0sXHJcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBbNTAwLCA3MDBdLm1hcCh4ID0+IE1hdGgudHJ1bmMoeCAqIGZhY3RvcikpIGFzIFtudW1iZXIsIG51bWJlcl0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IEV4cGVkaXRpb25FdmVudFNpemUubGFyZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBbMTAwMCwgMTgwMF0ubWFwKHggPT4gTWF0aC50cnVuYyh4ICogZmFjdG9yKSkgYXMgW251bWJlciwgbnVtYmVyXSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBpbmZvKCkge1xyXG4gICAgICAgICAgICBjb25zdCBlbXBpcmUgPSBFbXBpcmVEYXRhTW9kdWxlLmVtcGlyZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBsYW5ldHMgPSBPYmplY3QudmFsdWVzKGVtcGlyZS5wbGFuZXRzKS5maWx0ZXIocCA9PiAhcC5pc01vb24pIGFzIFBsYW5ldERhdGFbXTtcclxuICAgICAgICAgICAgY29uc3QgcGxhbmV0QnVpbGRpbmdCb29zdHMgPSBjcmVhdGVNYXBwZWRSZWNvcmQoXHJcbiAgICAgICAgICAgICAgICBwbGFuZXRzLFxyXG4gICAgICAgICAgICAgICAgcGxhbmV0ID0+IHBsYW5ldC5pZCxcclxuICAgICAgICAgICAgICAgIHBsYW5ldCA9PiBnZXRQbGFuZXRMaWZlZm9ybVRlY2hub2xvZ3lCb29zdChwbGFuZXQpLFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VGaW5kQm9udXMgPSBFeHBlZGl0aW9uQm9udXNMaWZlZm9ybVRlY2hub2xvZ2llcy5yZWR1Y2UoKHRvdGFsLCB0ZWNoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVjaEJvbnVzID0gMDtcclxuICAgICAgICAgICAgICAgIHBsYW5ldHMuZm9yRWFjaChwbGFuZXQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxldmVsID0gcGxhbmV0LmFjdGl2ZUxpZmVmb3JtVGVjaG5vbG9naWVzLmluY2x1ZGVzKHRlY2gudHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwbGFuZXQubGlmZWZvcm1UZWNobm9sb2dpZXNbdGVjaC50eXBlXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VCb251cyA9IHRlY2guZ2V0RXhwZWRpdGlvbkJvbnVzKEV4cGVkaXRpb25FdmVudFR5cGUucmVzb3VyY2VzLCBsZXZlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGV2ZWxCb251cyA9IHBsYW5ldC5hY3RpdmVMaWZlZm9ybSA9PSBMaWZlZm9ybVR5cGUubm9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBiYXNlQm9udXMgKiBnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzKEVtcGlyZURhdGFNb2R1bGUubGlmZWZvcm1FeHBlcmllbmNlW3BsYW5ldC5hY3RpdmVMaWZlZm9ybV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nQm9udXMgPSBiYXNlQm9udXMgKiBwbGFuZXRCdWlsZGluZ0Jvb3N0c1twbGFuZXQuaWRdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9IGJhc2VCb251cyArIGxldmVsQm9udXMgKyBidWlsZGluZ0JvbnVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlY2hCb251cyArPSB0b3RhbDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbCArIHRlY2hCb251cztcclxuICAgICAgICAgICAgfSwgMCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzaGlwRmluZEJvbnVzID0gRXhwZWRpdGlvbkJvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXMucmVkdWNlKCh0b3RhbCwgdGVjaCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRlY2hCb251cyA9IDA7XHJcbiAgICAgICAgICAgICAgICBwbGFuZXRzLmZvckVhY2gocGxhbmV0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXZlbCA9IHBsYW5ldC5hY3RpdmVMaWZlZm9ybVRlY2hub2xvZ2llcy5pbmNsdWRlcyh0ZWNoLnR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGxhbmV0LmxpZmVmb3JtVGVjaG5vbG9naWVzW3RlY2gudHlwZV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlQm9udXMgPSB0ZWNoLmdldEV4cGVkaXRpb25Cb251cyhFeHBlZGl0aW9uRXZlbnRUeXBlLmZsZWV0LCBsZXZlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGV2ZWxCb251cyA9IHBsYW5ldC5hY3RpdmVMaWZlZm9ybSA9PSBMaWZlZm9ybVR5cGUubm9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBiYXNlQm9udXMgKiBnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzKEVtcGlyZURhdGFNb2R1bGUubGlmZWZvcm1FeHBlcmllbmNlW3BsYW5ldC5hY3RpdmVMaWZlZm9ybV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nQm9udXMgPSBiYXNlQm9udXMgKiBwbGFuZXRCdWlsZGluZ0Jvb3N0c1twbGFuZXQuaWRdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9IGJhc2VCb251cyArIGxldmVsQm9udXMgKyBidWlsZGluZ0JvbnVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlY2hCb251cyArPSB0b3RhbDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbCArIHRlY2hCb251cztcclxuICAgICAgICAgICAgfSwgMCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkYXJrTWF0dGVyQm9udXMgPSBFeHBlZGl0aW9uQm9udXNMaWZlZm9ybVRlY2hub2xvZ2llcy5yZWR1Y2UoKHRvdGFsLCB0ZWNoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVjaEJvbnVzID0gMDtcclxuICAgICAgICAgICAgICAgIHBsYW5ldHMuZm9yRWFjaChwbGFuZXQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxldmVsID0gcGxhbmV0LmFjdGl2ZUxpZmVmb3JtVGVjaG5vbG9naWVzLmluY2x1ZGVzKHRlY2gudHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwbGFuZXQubGlmZWZvcm1UZWNobm9sb2dpZXNbdGVjaC50eXBlXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VCb251cyA9IHRlY2guZ2V0RXhwZWRpdGlvbkJvbnVzKEV4cGVkaXRpb25FdmVudFR5cGUuZGFya01hdHRlciwgbGV2ZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxldmVsQm9udXMgPSBwbGFuZXQuYWN0aXZlTGlmZWZvcm0gPT0gTGlmZWZvcm1UeXBlLm5vbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYmFzZUJvbnVzICogZ2V0TGlmZWZvcm1MZXZlbFRlY2hub2xvZ3lCb251cyhFbXBpcmVEYXRhTW9kdWxlLmxpZmVmb3JtRXhwZXJpZW5jZVtwbGFuZXQuYWN0aXZlTGlmZWZvcm1dKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ0JvbnVzID0gYmFzZUJvbnVzICogcGxhbmV0QnVpbGRpbmdCb29zdHNbcGxhbmV0LmlkXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSBiYXNlQm9udXMgKyBsZXZlbEJvbnVzICsgYnVpbGRpbmdCb251cztcclxuICAgICAgICAgICAgICAgICAgICB0ZWNoQm9udXMgKz0gdG90YWw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG90YWwgKyB0ZWNoQm9udXM7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGlzY292ZXJlckJvbnVzID0gQ2xhc3NCb251c0xpZmVmb3JtVGVjaG5vbG9naWVzLnJlZHVjZSgodG90YWwsIHRlY2gpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCB0ZWNoQm9udXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgcGxhbmV0cy5mb3JFYWNoKHBsYW5ldCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGV2ZWwgPSBwbGFuZXQuYWN0aXZlTGlmZWZvcm1UZWNobm9sb2dpZXMuaW5jbHVkZXModGVjaC50eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBsYW5ldC5saWZlZm9ybVRlY2hub2xvZ2llc1t0ZWNoLnR5cGVdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZUJvbnVzID0gdGVjaC5nZXRDbGFzc0JvbnVzKFBsYXllckNsYXNzLmRpc2NvdmVyZXIsIGxldmVsKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXZlbEJvbnVzID0gcGxhbmV0LmFjdGl2ZUxpZmVmb3JtID09IExpZmVmb3JtVHlwZS5ub25lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGJhc2VCb251cyAqIGdldExpZmVmb3JtTGV2ZWxUZWNobm9sb2d5Qm9udXMoRW1waXJlRGF0YU1vZHVsZS5saWZlZm9ybUV4cGVyaWVuY2VbcGxhbmV0LmFjdGl2ZUxpZmVmb3JtXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdCb251cyA9IGJhc2VCb251cyAqIHBsYW5ldEJ1aWxkaW5nQm9vc3RzW3BsYW5ldC5pZF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gYmFzZUJvbnVzICsgbGV2ZWxCb251cyArIGJ1aWxkaW5nQm9udXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVjaEJvbnVzICs9IHRvdGFsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsICsgdGVjaEJvbnVzO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJDbGFzczogZW1waXJlLnBsYXllckNsYXNzLFxyXG4gICAgICAgICAgICAgICAgZWNvU3BlZWQ6IFNlcnZlclNldHRpbmdzRGF0YU1vZHVsZS5zZXJ2ZXJTZXR0aW5ncy5zcGVlZC5lY29ub215LFxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VGaW5kQm9udXMsXHJcbiAgICAgICAgICAgICAgICBzaGlwRmluZEJvbnVzLFxyXG4gICAgICAgICAgICAgICAgZGlzY292ZXJlckJvbnVzLFxyXG4gICAgICAgICAgICAgICAgZGFya01hdHRlckJvbnVzLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgZmluZHMoKTogUmVjb3JkPEV4cGVkaXRpb25FdmVudFNpemUsIEZpbmRhYmxlVW5pdHNbXT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoZmluZGVyRmFjdG9yID0gMjtcclxuICAgICAgICAgICAgY29uc3QgaW5mbyA9IHRoaXMuaW5mbztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzRmFjdG9yID0gaW5mby5wbGF5ZXJDbGFzcyA9PSBQbGF5ZXJDbGFzcy5kaXNjb3ZlcmVyXHJcbiAgICAgICAgICAgICAgICA/IGluZm8uZWNvU3BlZWQgKiAoMS41ICogKDEgKyBpbmZvLmRpc2NvdmVyZXJCb251cykpXHJcbiAgICAgICAgICAgICAgICA6IDE7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCB0b3BQb2ludHNGYWN0b3JzID0gZ2V0RXhwZWRpdGlvbkZpbmRGYWN0b3IoU2VydmVyU2V0dGluZ3NEYXRhTW9kdWxlLnNlcnZlclNldHRpbmdzLnRvcFNjb3JlID8/IDApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbWF4Q29udmVydGVkU2hpcENvc3QgPSBFeHBlZGl0aW9uRmluZGFibGVTaGlwVHlwZXMubWFwKHNoaXBUeXBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGlwID0gU2hpcEJ5VHlwZXNbc2hpcFR5cGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBzaGlwLmNvc3Q7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IGdldE1zdU9yRHN1KGNvc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuaXRzID0gY29zdC5tZXRhbCArIGNvc3QuY3J5c3RhbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydGVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bml0cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmU6IGNvbnZlcnRlZCAvIHVuaXRzLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KS5zb3J0KChhLGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKVswXTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVSZWNvcmQoXHJcbiAgICAgICAgICAgICAgICBFeHBlZGl0aW9uRXZlbnRTaXplcyxcclxuICAgICAgICAgICAgICAgIHNpemUgPT4gZmluZEJhc2VBbW91bnRzW3NpemVdLm1hcDxGaW5kYWJsZVVuaXRzPihiYXNlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXRhbCA9IHRvcFBvaW50c0ZhY3RvcnMgKiBiYXNlICogcGF0aGZpbmRlckZhY3RvciAqIGNsYXNzRmFjdG9yICogKDEgKyBpbmZvLnJlc291cmNlRmluZEJvbnVzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGlwVW5pdHMgPSB0b3BQb2ludHNGYWN0b3JzICogYmFzZSAqIHBhdGhmaW5kZXJGYWN0b3IgKiBjbGFzc0ZhY3RvciAqICgxICsgaW5mby5zaGlwRmluZEJvbnVzKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4U2hpcFVuaXRzQ29udmVydGVkID0gTWF0aC50cnVuYyhzaGlwVW5pdHMgLyBtYXhDb252ZXJ0ZWRTaGlwQ29zdC51bml0cykgKiBtYXhDb252ZXJ0ZWRTaGlwQ29zdC5jb252ZXJ0ZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFsOiBNYXRoLnRydW5jKG1ldGFsKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3J5c3RhbDogTWF0aC50cnVuYyhtZXRhbCAvIDIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXV0ZXJpdW06IE1hdGgudHJ1bmMobWV0YWwgLyAzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpcFVuaXRzOiBNYXRoLnRydW5jKHNoaXBVbml0cyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFNoaXBVbml0c0NvbnZlcnRlZCxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG48L3NjcmlwdD5cclxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxyXG4gICAgLmZpbmQtY29sIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogMTZweDtcclxuICAgIH1cclxuXHJcbiAgICAudGFibGUtdGl0bGUge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBnYXA6IDRweDtcclxuXHJcbiAgICAgICAgLm1kaSB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnNtYWxsLXRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBnYXA6IDE2cHg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xyXG4gICAgfVxyXG4gICAgLnNjYWxlZC1pY29uIHtcclxuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuNik7XHJcbiAgICB9XHJcbjwvc3R5bGU+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1Bvc3NpYmxlLUZpbmRzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1Bvc3NpYmxlLUZpbmRzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vUG9zc2libGUtRmluZHMudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTgzMzBlNDg2JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL1Bvc3NpYmxlLUZpbmRzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vUG9zc2libGUtRmluZHMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL1Bvc3NpYmxlLUZpbmRzLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTgzMzBlNDg2Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiODMzMGU0ODZcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwibmFtZXMiOlsiZmluZEJhc2VBbW91bnRzIiwiZ2V0RXhwZWRpdGlvbkZpbmRGYWN0b3IiLCJ0b3BTY29yZSIsImJvbnVzUGVyTGV2ZWwiLCJnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzIiwiZXhwZXJpZW5jZSIsImxldmVsIiwiZ2V0TGlmZWZvcm1MZXZlbCIsImV4cEZvckxldmVsIiwiZ2V0TGlmZWZvcm1FeHBlcmllbmNlTmVlZGVkRm9yTGV2ZWwiLCJnZXRQbGFuZXRDb2xsZWN0b3JDbGFzc0JvbnVzRmFjdG9yIiwicGxhbmV0IiwidGVjaCIsImFjdGl2ZUxpZmVmb3JtVGVjaG5vbG9naWVzIiwiaW5jbHVkZXMiLCJ0eXBlIiwicmVkdWNlIiwidG90YWwiLCJnZXRDbGFzc0JvbnVzIiwibGlmZWZvcm1UZWNobm9sb2dpZXMiLCJnZXRQbGFuZXRMaWZlZm9ybVRlY2hub2xvZ3lCb29zdCIsImFjdGl2ZUxpZmVmb3JtIiwiYnVpbGRpbmciLCJnZXRMaWZlZm9ybVRlY2hub2xvZ3lCb251cyIsImxpZmVmb3JtQnVpbGRpbmdzIiwiZ2V0UGxhbmV0TGlmZWZvcm1CdWlsZGluZ0JvbnVzUHJvZHVjdGlvbkZhY3RvciIsImdldFByb2R1Y3Rpb25Cb251cyIsIm1ldGFsIiwiY3J5c3RhbCIsImRldXRlcml1bSIsImVuZXJneSIsImdldFBsYW5ldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzUHJvZHVjdGlvbkZhY3RvciIsImdldE1zdU9yRHN1IiwicmVzb3VyY2VzIiwiZmFjdG9ycyIsImNvc3QiLCJjb3N0RmFjdG9ycyIsInJlc291cmNlIiwibW9kZSIsIm1zdSIsImRzdSIsInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInNpemUiLCJFeHBlZGl0aW9uRXZlbnRTaXplIiwic21hbGwiLCJzdGF0aWNDbGFzcyIsInN0eWxlIiwiY29sb3IiLCJjb2xvcnMiLCJtZWRpdW0iLCJsYXJnZSIsIl9lIiwic3RhdGljUmVuZGVyRm5zIiwiY29tcG9uZW50IiwiYXR0cnMiLCJpbmZvQ29sdW1ucyIsImluZm9JdGVtcyIsInNjb3BlZFNsb3RzIiwiX3UiLCJrZXkiLCJmbiIsInJlZiIsInZhbHVlIiwiaXRlbSIsImRvbVByb3BzIiwiX3MiLCIkaTE4biIsIiRuIiwicGVyY2VudGFnZUZvcm1hdCIsIm1heEZpbmRzQ29sdW1ucyIsIm1heEZpbmRzSXRlbXMiLCJmaW5kcyIsImxlbmd0aCIsIlNoaXBUeXBlIiwiYmF0dGxlc2hpcCIsInNoaXBVbml0cyIsImRhcmtNYXR0ZXJDb2x1bW5zIiwiZGFya01hdHRlckl0ZW1zIiwiYW1vdW50IiwiJHQiLCJleHRlbnNpb24iLCJleHBlZGl0aW9ucyIsInBvc3NpYmxlRmluZHMiLCJsaXN0T2ZQb3NzaWJsZUZpbmRzIiwiX2wiLCJmaW5kU2l6ZXMiLCJleHBlZGl0aW9uRXZlbnRTaXplcyIsInNpemVDb2xvcnMiLCJjb2x1bW5zIl0sInNvdXJjZVJvb3QiOiIifQ==