"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[5996],{5483:(e,t,n)=>{n.d(t,{c:()=>l});var o=n(9751),i=n(147),s=n(3418),r=n(6119),c=n(9681);function l(e){const t=Object.values(e.planets).filter((e=>!e.isMoon)),n=(0,o.a)(t.map((e=>e.id)),(()=>(0,o.a)(c.Vs,0))),l=(0,o.a)(s.p3,(t=>(0,i.g1)(e.lifeformExperience[t])));for(const o of t){if(o.activeLifeform==s.e5.none)continue;const e=l[o.activeLifeform],t=r.cQ[o.activeLifeform];for(const i of c.Vs){const s=t.reduce(((e,t)=>{const n=o.lifeformBuildings[t.type],s=t.getLifeformTechnologyBonus(i,n);return e+s}),0),r=e+s;n[o.id][i]=r}}return n}},147:(e,t,n)=>{n.d(t,{g1:()=>i,g4:()=>s,_Z:()=>r});const o=.001;function i(e){const t=s(e);return t*o}function s(e){for(let t=0;;t++){const n=r(t+1);if(n>e)return t}}function r(e){return 900*e*(e+1)/2}},205:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("lifeform-planet-bonuses-component",{attrs:{technologyBonuses:e.technologyBonuses,types:e.bonusTypes,buildings:e.buildings,planets:e.planets,limits:e.limits,"research-bonus-breakdown-route-name":"lifeforms/bonus-breakdown/research-cost-time"}})},i=[],s=n(655),r=n(4028),c=n(2593),l=n(7848),a=n(7377),u=n(2816),f=n(6119),m=n(9751),p=n(8395),h=n(4846),g=n(5483),d=n(9681);let b=class extends r.w3{get bonusTypes(){return[{key:"cost",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.buildingCostTime.cost},{key:"time",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.buildingCostTime.time}]}buildings=f.ax.map((e=>e.type));get limits(){const e=d.Nw.intergalacticEnvoys,t=(0,l.K)({type:a.f.TechCostReduction,tech:e}),n=(0,l.K)({type:a.f.TechTimeReduction,tech:e});return{cost:e=>null!=t?Math.max(e,-t):e,time:e=>null!=n?Math.max(e,-n):e}}techs=h.LN;get technologyBonuses(){const e=d.Nw.intergalacticEnvoys,t=["cost","time"],n=(0,m.a)(t,(()=>0)),o=(0,g.c)(p.p.empire);return this.empirePlanets.forEach((i=>{this.techs.filter((e=>i.activeLifeformTechnologies.includes(e.type))).forEach((s=>t.forEach((t=>{const r=s.getResearchCostAndTimeReduction(e,i.lifeformTechnologies[s.type])[t],c=o[i.id][s.type];n[t]+=-1*r*(1+c)}))))})),n}get empirePlanets(){return p.p.empire.planetOrder.map((e=>p.p.empire.planets[e])).filter((e=>!e.isMoon))}get planets(){return(0,m.r)(this.empirePlanets,(e=>e.id),(e=>{const t=u.IU[e.activeLifeform].filter((e=>this.buildings.includes(e))),n=(0,m.a)(["cost","time"],(n=>(0,m.a)(t,(t=>-1*f.ry[t].getLifeformTechnologyResearchCostAndTimeReduction(e.lifeformBuildings[t])[n]))));return{planet:e,bonusByBuilding:n}}))}};b=(0,s.gn)([(0,r.wA)({components:{LifeformPlanetBonusesComponent:c.Z}})],b);const y=b,T=y;var v=n(1001),B=(0,v.Z)(T,o,i,!1,null,null,null);const k=B.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianMvNTk5Ni40N2JlNjJjMC5qcyIsIm1hcHBpbmdzIjoic01BUU8sU0FBU0EsRUFBMkJDLEdBQ3ZDLE1BQU1DLEVBQVVDLE9BQU9DLE9BQU9ILEVBQU9DLFNBQVNHLFFBQU9DLElBQU1BLEVBQUVDLFNBRXZEQyxHQUEwQixPQUM1Qk4sRUFBUU8sS0FBSUgsR0FBS0EsRUFBRUksTUFDbkIsS0FBTSxPQUFhLEtBQXlCLEtBRzFDQyxHQUF1QixPQUN6QixNQUNBQyxJQUFNLFFBQWdDWCxFQUFPWSxtQkFBbUJELE1BRXBFLElBQUssTUFBTUUsS0FBVVosRUFBUyxDQUMxQixHQUFJWSxFQUFPQyxnQkFBa0IsVUFDekIsU0FHSixNQUFNQyxFQUFhTCxFQUFxQkcsRUFBT0MsZ0JBRXpDRSxFQUEyQixLQUFtREgsRUFBT0MsZ0JBRTNGLElBQUssTUFBTUcsS0FBYyxLQUF5QixDQUM5QyxNQUFNQyxFQUFrQkYsRUFBeUJHLFFBQU8sQ0FBQ0MsRUFBT0MsS0FDNUQsTUFBTUMsRUFBUVQsRUFBT1Usa0JBQWtCRixFQUFTRyxNQUMxQ0MsRUFBUUosRUFBU3RCLDJCQUEyQmtCLEVBQVlLLEdBQzlELE9BQU9GLEVBQVFLLElBQ2hCLEdBRUdDLEVBQWlCWCxFQUFhRyxFQUNwQ1gsRUFBd0JNLEVBQU9KLElBQUlRLEdBQWNTLEdBSXpELE9BQU9uQixJLGtEQ3pDWCxNQUFNb0IsRUFBZ0IsS0FFZixTQUFTQyxFQUFnQ0MsR0FDNUMsTUFBTVAsRUFBUVEsRUFBaUJELEdBQy9CLE9BQU9QLEVBQVFLLEVBR1osU0FBU0csRUFBaUJELEdBQzdCLElBQUksSUFBSVAsRUFBUSxHQUFLQSxJQUFTLENBQzFCLE1BQU1TLEVBQWNDLEVBQW9DVixFQUFRLEdBQ2hFLEdBQUdTLEVBQWNGLEVBQ2IsT0FBT1AsR0FTWixTQUFTVSxFQUFvQ1YsR0FDaEQsT0FBTyxJQUFNQSxHQUFTQSxFQUFRLEdBQUssSSw0Q0NyQnZDLElBQUlXLEVBQVMsV0FBYSxJQUFJQyxFQUFJQyxLQUFTQyxFQUFHRixFQUFJRyxlQUFtQkMsRUFBR0osRUFBSUssTUFBTUQsSUFBSUYsRUFBRyxPQUFPRSxFQUFHLG9DQUFvQyxDQUFDRSxNQUFNLENBQUMsa0JBQW9CTixFQUFJTyxrQkFBa0IsTUFBUVAsRUFBSVEsV0FBVyxVQUFZUixFQUFJUyxVQUFVLFFBQVVULEVBQUlqQyxRQUFRLE9BQVNpQyxFQUFJVSxPQUFPLHNDQUFzQyxtREFDdFRDLEVBQWtCLEcsdUhDb0N0Qix5QkFDQSxpQkFDQSxPQUNBLENBQ0EsV0FDQSxzRkFFQSxDQUNBLFdBQ0EsdUZBS0EsZ0NBRUEsYUFDQSxpQ0FFQSwrQ0FDQSwrQ0FFQSxPQUNBLGlDQUNBLGtDQUlBLFdBRUEsd0JBQ0EsaUNBRUEsa0JBQ0EscUJBRUEsc0JBV0EsT0FWQSxnQ0FDQSxzRUFDQSwyQkFDQSwrRUFDQSxrQkFFQSx5QkFJQSxFQUdBLG9CQUNBLG1DQUNBLDJCQUNBLHVCQUdBLGNBQ0EsY0FDQSxvQkFFQSxVQUNBLElBQ0EsdUVBQ0EsVUFDQSxpQkFDQSxXQUNBLEdBQ0EsY0FDQSxpRkFJQSxPQUNBLFNBQ0Esd0JBMUVBLGFBTEEsU0FDQSxZQUNBLHVDQUdBLEcsVUNyQ3FlLEksY0NPamVDLEdBQVksT0FDZCxFQUNBYixFQUNBWSxHQUNBLEVBQ0EsS0FDQSxLQUNBLE1BSUYsUUFBZUMsRUFBaUIiLCJzb3VyY2VzIjpbIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvYnVpbGRpbmdzL2dldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzLnRzIiwib2dhbWUtdHJhY2tlcjovLy8uL3NyYy9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9leHBlcmllbmNlLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy9saWZlZm9ybXMvcGxhbmV0LWJvbnVzZXMvTGlmZWZvcm0tUmVzZWFyY2gtQ29zdC1UaW1lLnZ1ZT9jYzZhIiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL3BsYW5ldC1ib251c2VzL0xpZmVmb3JtLVJlc2VhcmNoLUNvc3QtVGltZS52dWU/YjQ3NCIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL3BsYW5ldC1ib251c2VzL0xpZmVmb3JtLVJlc2VhcmNoLUNvc3QtVGltZS52dWU/ZjYwOCIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL3BsYW5ldC1ib251c2VzL0xpZmVmb3JtLVJlc2VhcmNoLUNvc3QtVGltZS52dWU/NDgwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb2NhbFBsYXllckRhdGEgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL2VtcGlyZS9Mb2NhbFBsYXllckRhdGFcIjtcclxuaW1wb3J0IHsgUGxhbmV0RGF0YSB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvZW1waXJlL1BsYW5ldERhdGFcIjtcclxuaW1wb3J0IHsgY3JlYXRlUmVjb3JkIH0gZnJvbSBcIkAvc2hhcmVkL3V0aWxzL2NyZWF0ZVJlY29yZFwiO1xyXG5pbXBvcnQgeyBnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzIH0gZnJvbSBcIi4uL2V4cGVyaWVuY2VcIjtcclxuaW1wb3J0IHsgTGlmZWZvcm1UeXBlLCBWYWxpZExpZmVmb3JtVHlwZXMgfSBmcm9tIFwiLi4vTGlmZWZvcm1UeXBlXCI7XHJcbmltcG9ydCB7IExpZmVmb3JtVGVjaG5vbG9neUJvbnVzTGlmZWZvcm1CdWlsZGluZ3NCeUxpZmVmb3JtIH0gZnJvbSBcIi4vTGlmZWZvcm1CdWlsZGluZ3NcIjtcclxuaW1wb3J0IHsgTGlmZWZvcm1UZWNobm9sb2d5VHlwZSwgTGlmZWZvcm1UZWNobm9sb2d5VHlwZXMgfSBmcm9tIFwiLi4vTGlmZWZvcm1UZWNobm9sb2d5VHlwZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzKHBsYXllcjogTG9jYWxQbGF5ZXJEYXRhKTogUmVjb3JkPG51bWJlciwgUmVjb3JkPExpZmVmb3JtVGVjaG5vbG9neVR5cGUsIG51bWJlcj4+IHtcclxuICAgIGNvbnN0IHBsYW5ldHMgPSBPYmplY3QudmFsdWVzKHBsYXllci5wbGFuZXRzKS5maWx0ZXIocCA9PiAhcC5pc01vb24pIGFzIFBsYW5ldERhdGFbXTtcclxuXHJcbiAgICBjb25zdCB0ZWNobm9sb2d5Qm9udXNCeVBsYW5ldCA9IGNyZWF0ZVJlY29yZChcclxuICAgICAgICBwbGFuZXRzLm1hcChwID0+IHAuaWQpLFxyXG4gICAgICAgICgpID0+IGNyZWF0ZVJlY29yZChMaWZlZm9ybVRlY2hub2xvZ3lUeXBlcywgMClcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgbGV2ZWxUZWNobm9sb2d5Qm9udXMgPSBjcmVhdGVSZWNvcmQoXHJcbiAgICAgICAgVmFsaWRMaWZlZm9ybVR5cGVzLFxyXG4gICAgICAgIGxmID0+IGdldExpZmVmb3JtTGV2ZWxUZWNobm9sb2d5Qm9udXMocGxheWVyLmxpZmVmb3JtRXhwZXJpZW5jZVtsZl0pLFxyXG4gICAgKTtcclxuICAgIGZvciAoY29uc3QgcGxhbmV0IG9mIHBsYW5ldHMpIHtcclxuICAgICAgICBpZiAocGxhbmV0LmFjdGl2ZUxpZmVmb3JtID09IExpZmVmb3JtVHlwZS5ub25lKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbGV2ZWxCb251cyA9IGxldmVsVGVjaG5vbG9neUJvbnVzW3BsYW5ldC5hY3RpdmVMaWZlZm9ybV07XHJcblxyXG4gICAgICAgIGNvbnN0IHRlY2hub2xvZ3lCb251c0J1aWxkaW5ncyA9IExpZmVmb3JtVGVjaG5vbG9neUJvbnVzTGlmZWZvcm1CdWlsZGluZ3NCeUxpZmVmb3JtW3BsYW5ldC5hY3RpdmVMaWZlZm9ybV07XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgdGVjaG5vbG9neSBvZiBMaWZlZm9ybVRlY2hub2xvZ3lUeXBlcykge1xyXG4gICAgICAgICAgICBjb25zdCB0ZWNobm9sb2d5Qm9udXMgPSB0ZWNobm9sb2d5Qm9udXNCdWlsZGluZ3MucmVkdWNlKCh0b3RhbCwgYnVpbGRpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxldmVsID0gcGxhbmV0LmxpZmVmb3JtQnVpbGRpbmdzW2J1aWxkaW5nLnR5cGVdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYm9udXMgPSBidWlsZGluZy5nZXRMaWZlZm9ybVRlY2hub2xvZ3lCb251cyh0ZWNobm9sb2d5LCBsZXZlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG90YWwgKyBib251cztcclxuICAgICAgICAgICAgfSwgMCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0b3RhbFRlY2hCb251cyA9IGxldmVsQm9udXMgKyB0ZWNobm9sb2d5Qm9udXM7XHJcbiAgICAgICAgICAgIHRlY2hub2xvZ3lCb251c0J5UGxhbmV0W3BsYW5ldC5pZF1bdGVjaG5vbG9neV0gPSB0b3RhbFRlY2hCb251cztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRlY2hub2xvZ3lCb251c0J5UGxhbmV0O1xyXG59IiwiY29uc3QgYm9udXNQZXJMZXZlbCA9IDAuMDBfMTsgLy8wLjElXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlmZWZvcm1MZXZlbFRlY2hub2xvZ3lCb251cyhleHBlcmllbmNlOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgbGV2ZWwgPSBnZXRMaWZlZm9ybUxldmVsKGV4cGVyaWVuY2UpO1xyXG4gICAgcmV0dXJuIGxldmVsICogYm9udXNQZXJMZXZlbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExpZmVmb3JtTGV2ZWwoZXhwZXJpZW5jZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGZvcihsZXQgbGV2ZWwgPSAwOyA7IGxldmVsKyspIHtcclxuICAgICAgICBjb25zdCBleHBGb3JMZXZlbCA9IGdldExpZmVmb3JtRXhwZXJpZW5jZU5lZWRlZEZvckxldmVsKGxldmVsICsgMSk7XHJcbiAgICAgICAgaWYoZXhwRm9yTGV2ZWwgPiBleHBlcmllbmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsZXZlbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHBlcmllbmNlTmVlZGVkRm9yTGV2ZWxVcChsZXZlbDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiA5MDAgKiBsZXZlbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExpZmVmb3JtRXhwZXJpZW5jZU5lZWRlZEZvckxldmVsKGxldmVsOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIDkwMCAqIGxldmVsICogKGxldmVsICsgMSkgLyAyOyAvLyBnYXVzc2lhbiBzdW1tYXRpb24gZm9ybXVsYVxyXG59IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2xpZmVmb3JtLXBsYW5ldC1ib251c2VzLWNvbXBvbmVudCcse2F0dHJzOntcInRlY2hub2xvZ3lCb251c2VzXCI6X3ZtLnRlY2hub2xvZ3lCb251c2VzLFwidHlwZXNcIjpfdm0uYm9udXNUeXBlcyxcImJ1aWxkaW5nc1wiOl92bS5idWlsZGluZ3MsXCJwbGFuZXRzXCI6X3ZtLnBsYW5ldHMsXCJsaW1pdHNcIjpfdm0ubGltaXRzLFwicmVzZWFyY2gtYm9udXMtYnJlYWtkb3duLXJvdXRlLW5hbWVcIjpcImxpZmVmb3Jtcy9ib251cy1icmVha2Rvd24vcmVzZWFyY2gtY29zdC10aW1lXCJ9fSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cclxuICAgIDxsaWZlZm9ybS1wbGFuZXQtYm9udXNlcy1jb21wb25lbnRcclxuICAgICAgICA6dGVjaG5vbG9neUJvbnVzZXM9XCJ0ZWNobm9sb2d5Qm9udXNlc1wiIFxyXG4gICAgICAgIDp0eXBlcz1cImJvbnVzVHlwZXNcIiBcclxuICAgICAgICA6YnVpbGRpbmdzPVwiYnVpbGRpbmdzXCIgXHJcbiAgICAgICAgOnBsYW5ldHM9XCJwbGFuZXRzXCIgXHJcbiAgICAgICAgOmxpbWl0cz1cImxpbWl0c1wiIFxyXG4gICAgICAgIHJlc2VhcmNoLWJvbnVzLWJyZWFrZG93bi1yb3V0ZS1uYW1lPVwibGlmZWZvcm1zL2JvbnVzLWJyZWFrZG93bi9yZXNlYXJjaC1jb3N0LXRpbWVcIiBcclxuICAgIC8+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG4gICAgaW1wb3J0IHsgUGxhbmV0RGF0YSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9lbXBpcmUvUGxhbmV0RGF0YSc7XHJcbiAgICBpbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG4gICAgaW1wb3J0IExpZmVmb3JtUGxhbmV0Qm9udXNlc0NvbXBvbmVudCwgeyBMaWZlZm9ybVBsYW5ldEJvbnVzZXNUeXBlLCBMaWZlZm9ybVBsYW5ldEJvbnVzZXMgfSBmcm9tICdAL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvbGlmZWZvcm1zL0xpZmVmb3JtUGxhbmV0Qm9udXNlcy52dWUnO1xyXG4gICAgaW1wb3J0IHsgZ2V0TGlmZWZvcm1Cb251c0xpbWl0IH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9MaWZlZm9ybUJvbnVzTGltaXRzJztcclxuICAgIGltcG9ydCB7IExpZmVmb3JtQm9udXNUeXBlSWQgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL0xpZmVmb3JtQm9udXNUeXBlJztcclxuICAgIGltcG9ydCB7IExpZmVmb3JtQnVpbGRpbmdUeXBlLCBMaWZlZm9ybUJ1aWxkaW5nVHlwZXNCeUxpZmVmb3JtIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9MaWZlZm9ybUJ1aWxkaW5nVHlwZSc7XHJcbiAgICBpbXBvcnQgeyBMaWZlZm9ybUJ1aWxkaW5nc0J5VHlwZSwgTGlmZWZvcm1UZWNobm9sb2d5UmVzZWFyY2hCdWlsZGluZ3MgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL2J1aWxkaW5ncy9MaWZlZm9ybUJ1aWxkaW5ncyc7XHJcbiAgICBpbXBvcnQgeyBjcmVhdGVNYXBwZWRSZWNvcmQsIGNyZWF0ZVJlY29yZCB9IGZyb20gJ0Avc2hhcmVkL3V0aWxzL2NyZWF0ZVJlY29yZCc7XHJcbiAgICBpbXBvcnQgeyBFbXBpcmVEYXRhTW9kdWxlIH0gZnJvbSAnQC92aWV3cy9zdGF0cy9kYXRhL0VtcGlyZURhdGFNb2R1bGUnO1xyXG4gICAgaW1wb3J0IHsgTGlmZWZvcm1UZWNobm9sb2d5UmVzZWFyY2hCdWlsZGluZyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvYnVpbGRpbmdzL2ludGVyZmFjZXMnO1xyXG4gICAgaW1wb3J0IHsgUmVzZWFyY2hDb3N0QW5kVGltZVJlZHVjdGlvbkxpZmVmb3JtVGVjaG5vbG9naWVzIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy90ZWNobm9sb2dpZXMvTGlmZWZvcm1UZWNobm9sb2dpZXMnO1xyXG4gICAgaW1wb3J0IHsgZ2V0TGlmZWZvcm1UZWNobm9sb2d5Qm9udXMgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL2J1aWxkaW5ncy9nZXRMaWZlZm9ybVRlY2hub2xvZ3lCb251cyc7XHJcbiAgICBpbXBvcnQgeyBSZXNlYXJjaENvc3RBbmRUaW1lUmVkdWN0aW9uTGlmZWZvcm1UZWNobm9sb2d5IH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy90ZWNobm9sb2dpZXMvaW50ZXJmYWNlcyc7XHJcbiAgICBpbXBvcnQgeyBMaWZlZm9ybVRlY2hub2xvZ3lUeXBlIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9MaWZlZm9ybVRlY2hub2xvZ3lUeXBlJztcclxuXHJcbiAgICB0eXBlIEJvbnVzZXMgPSB7XHJcbiAgICAgICAgY29zdDogbnVtYmVyO1xyXG4gICAgICAgIHRpbWU6IG51bWJlcjtcclxuICAgIH07XHJcblxyXG4gICAgQENvbXBvbmVudCh7XHJcbiAgICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICAgICBMaWZlZm9ybVBsYW5ldEJvbnVzZXNDb21wb25lbnQsXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc291cmNlUHJvZHVjdGlvbiBleHRlbmRzIFZ1ZSB7XHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgYm9udXNUeXBlcygpOiBMaWZlZm9ybVBsYW5ldEJvbnVzZXNUeXBlPGtleW9mIEJvbnVzZXM+W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2Nvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5lbXBpcmUubGlmZWZvcm1zLnJlc2VhcmNoQm9udXNlcy5idWlsZGluZ0Nvc3RUaW1lLmNvc3QsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3RpbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5lbXBpcmUubGlmZWZvcm1zLnJlc2VhcmNoQm9udXNlcy5idWlsZGluZ0Nvc3RUaW1lLnRpbWUsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBidWlsZGluZ3M6IExpZmVmb3JtQnVpbGRpbmdUeXBlW10gPSBMaWZlZm9ybVRlY2hub2xvZ3lSZXNlYXJjaEJ1aWxkaW5ncy5tYXAoYiA9PiBiLnR5cGUpO1xyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBsaW1pdHMoKTogUmVjb3JkPGtleW9mIEJvbnVzZXMsICh2YWx1ZTogbnVtYmVyKSA9PiBudW1iZXI+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzZWFyY2ggPSBMaWZlZm9ybVRlY2hub2xvZ3lUeXBlLmludGVyZ2FsYWN0aWNFbnZveXM7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb3N0TGltaXQgPSBnZXRMaWZlZm9ybUJvbnVzTGltaXQoeyB0eXBlOiBMaWZlZm9ybUJvbnVzVHlwZUlkLlRlY2hDb3N0UmVkdWN0aW9uLCB0ZWNoOiByZXNlYXJjaCB9KTtcclxuICAgICAgICAgICAgY29uc3QgdGltZUxpbWl0ID0gZ2V0TGlmZWZvcm1Cb251c0xpbWl0KHsgdHlwZTogTGlmZWZvcm1Cb251c1R5cGVJZC5UZWNoVGltZVJlZHVjdGlvbiwgdGVjaDogcmVzZWFyY2ggfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgY29zdDogdmFsdWUgPT4gY29zdExpbWl0ICE9IG51bGwgPyBNYXRoLm1heCh2YWx1ZSwgLWNvc3RMaW1pdCkgOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIHRpbWU6IHZhbHVlID0+IHRpbWVMaW1pdCAhPSBudWxsID8gTWF0aC5tYXgodmFsdWUsIC10aW1lTGltaXQpIDogdmFsdWUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IHRlY2hzOiBSZXNlYXJjaENvc3RBbmRUaW1lUmVkdWN0aW9uTGlmZWZvcm1UZWNobm9sb2d5W10gPSBSZXNlYXJjaENvc3RBbmRUaW1lUmVkdWN0aW9uTGlmZWZvcm1UZWNobm9sb2dpZXM7XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IHRlY2hub2xvZ3lCb251c2VzKCk6IFJlY29yZDxrZXlvZiBCb251c2VzLCBudW1iZXI+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzZWFyY2ggPSBMaWZlZm9ybVRlY2hub2xvZ3lUeXBlLmludGVyZ2FsYWN0aWNFbnZveXM7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBrZXlzOiAoa2V5b2YgQm9udXNlcylbXSA9IFsnY29zdCcsICd0aW1lJ107XHJcbiAgICAgICAgICAgIGNvbnN0IGdsb2JhbEJvbnVzZXM6IFJlY29yZDxrZXlvZiBCb251c2VzLCBudW1iZXI+ID0gY3JlYXRlUmVjb3JkKGtleXMsICgpID0+IDApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbGlmZWZvcm1UZWNobm9sb2d5Qm9vc3RQZXJQbGFuZXQgPSBnZXRMaWZlZm9ybVRlY2hub2xvZ3lCb251cyhFbXBpcmVEYXRhTW9kdWxlLmVtcGlyZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1waXJlUGxhbmV0cy5mb3JFYWNoKHBsYW5ldCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlY2hzLmZpbHRlcih0ZWNoID0+IHBsYW5ldC5hY3RpdmVMaWZlZm9ybVRlY2hub2xvZ2llcy5pbmNsdWRlcyh0ZWNoLnR5cGUpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKHRlY2ggPT4ga2V5cy5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlY2hCb251cyA9IHRlY2guZ2V0UmVzZWFyY2hDb3N0QW5kVGltZVJlZHVjdGlvbihyZXNlYXJjaCwgcGxhbmV0LmxpZmVmb3JtVGVjaG5vbG9naWVzW3RlY2gudHlwZV0pW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlY2hCb29zdCA9IGxpZmVmb3JtVGVjaG5vbG9neUJvb3N0UGVyUGxhbmV0W3BsYW5ldC5pZF1bdGVjaC50eXBlXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEJvbnVzZXNba2V5XSArPSAtMSAqIHRlY2hCb251cyAqICgxICsgdGVjaEJvb3N0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbEJvbnVzZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBlbXBpcmVQbGFuZXRzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRW1waXJlRGF0YU1vZHVsZS5lbXBpcmUucGxhbmV0T3JkZXJcclxuICAgICAgICAgICAgICAgICAgICAubWFwKGlkID0+IEVtcGlyZURhdGFNb2R1bGUuZW1waXJlLnBsYW5ldHNbaWRdKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocGxhbmV0ID0+ICFwbGFuZXQuaXNNb29uKSBhcyBQbGFuZXREYXRhW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldCBwbGFuZXRzKCk6IFJlY29yZDxudW1iZXIsIExpZmVmb3JtUGxhbmV0Qm9udXNlczxrZXlvZiBCb251c2VzPj4ge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTWFwcGVkUmVjb3JkKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbXBpcmVQbGFuZXRzLFxyXG5cclxuICAgICAgICAgICAgICAgIHBsYW5ldCA9PiBwbGFuZXQuaWQsXHJcbiAgICAgICAgICAgICAgICBwbGFuZXQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUJ1aWxkaW5nVHlwZXMgPSBMaWZlZm9ybUJ1aWxkaW5nVHlwZXNCeUxpZmVmb3JtW3BsYW5ldC5hY3RpdmVMaWZlZm9ybV0uZmlsdGVyKGIgPT4gdGhpcy5idWlsZGluZ3MuaW5jbHVkZXMoYikpOyBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib251c0J5QnVpbGRpbmcgPSBjcmVhdGVSZWNvcmQ8a2V5b2YgQm9udXNlcywgUmVjb3JkPExpZmVmb3JtQnVpbGRpbmdUeXBlLCBudW1iZXI+PihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnY29zdCcsICd0aW1lJ10sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0+IGNyZWF0ZVJlY29yZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVCdWlsZGluZ1R5cGVzLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0+IC0xICogKExpZmVmb3JtQnVpbGRpbmdzQnlUeXBlW3R5cGVdIGFzIExpZmVmb3JtVGVjaG5vbG9neVJlc2VhcmNoQnVpbGRpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0TGlmZWZvcm1UZWNobm9sb2d5UmVzZWFyY2hDb3N0QW5kVGltZVJlZHVjdGlvbihwbGFuZXQubGlmZWZvcm1CdWlsZGluZ3NbdHlwZV0pW2tleV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYW5ldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9udXNCeUJ1aWxkaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbjwvc2NyaXB0PiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9MaWZlZm9ybS1SZXNlYXJjaC1Db3N0LVRpbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vTGlmZWZvcm0tUmVzZWFyY2gtQ29zdC1UaW1lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vTGlmZWZvcm0tUmVzZWFyY2gtQ29zdC1UaW1lLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00YmVjZDQ1YiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9MaWZlZm9ybS1SZXNlYXJjaC1Db3N0LVRpbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9MaWZlZm9ybS1SZXNlYXJjaC1Db3N0LVRpbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwibmFtZXMiOlsiZ2V0TGlmZWZvcm1UZWNobm9sb2d5Qm9udXMiLCJwbGF5ZXIiLCJwbGFuZXRzIiwiT2JqZWN0IiwidmFsdWVzIiwiZmlsdGVyIiwicCIsImlzTW9vbiIsInRlY2hub2xvZ3lCb251c0J5UGxhbmV0IiwibWFwIiwiaWQiLCJsZXZlbFRlY2hub2xvZ3lCb251cyIsImxmIiwibGlmZWZvcm1FeHBlcmllbmNlIiwicGxhbmV0IiwiYWN0aXZlTGlmZWZvcm0iLCJsZXZlbEJvbnVzIiwidGVjaG5vbG9neUJvbnVzQnVpbGRpbmdzIiwidGVjaG5vbG9neSIsInRlY2hub2xvZ3lCb251cyIsInJlZHVjZSIsInRvdGFsIiwiYnVpbGRpbmciLCJsZXZlbCIsImxpZmVmb3JtQnVpbGRpbmdzIiwidHlwZSIsImJvbnVzIiwidG90YWxUZWNoQm9udXMiLCJib251c1BlckxldmVsIiwiZ2V0TGlmZWZvcm1MZXZlbFRlY2hub2xvZ3lCb251cyIsImV4cGVyaWVuY2UiLCJnZXRMaWZlZm9ybUxldmVsIiwiZXhwRm9yTGV2ZWwiLCJnZXRMaWZlZm9ybUV4cGVyaWVuY2VOZWVkZWRGb3JMZXZlbCIsInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsImF0dHJzIiwidGVjaG5vbG9neUJvbnVzZXMiLCJib251c1R5cGVzIiwiYnVpbGRpbmdzIiwibGltaXRzIiwic3RhdGljUmVuZGVyRm5zIiwiY29tcG9uZW50Il0sInNvdXJjZVJvb3QiOiIifQ==