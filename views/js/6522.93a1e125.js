"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[6522],{5483:(e,t,n)=>{n.d(t,{c:()=>c});var i=n(9751),o=n(147),s=n(3418),r=n(6119);function c(e){const t=Object.values(e.planets).filter((e=>!e.isMoon)),n=(0,i.a)(t.map((e=>e.id)),0),c=(0,i.a)(s.p3,(t=>(0,o.g1)(e.lifeformExperience[t])));for(const i of t){if(i.activeLifeform==s.e5.none)continue;const e=c[i.activeLifeform],t=r.cQ[i.activeLifeform],o=t.reduce(((e,t)=>{const n=i.lifeformBuildings[t.type],o=t.getLifeformTechnologyBonus(n);return e+o}),0),l=e+o;n[i.id]=l}return n}},147:(e,t,n)=>{n.d(t,{g1:()=>o,g4:()=>s,_Z:()=>r});const i=.001;function o(e){const t=s(e);return t*i}function s(e){for(let t=0;;t++){const n=r(t+1);if(n>e)return t}}function r(e){return 900*e*(e+1)/2}},3497:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("lifeform-planet-bonuses-component",{attrs:{technologyBonuses:e.technologyBonuses,types:e.bonusTypes,buildings:e.buildings,planets:e.planets,limits:e.limits,"research-bonus-breakdown-route-name":"lifeforms/bonus-breakdown/research-cost-time"}})},o=[],s=n(655),r=n(4028),c=n(2593),l=n(7848),a=n(7377),u=n(2816),f=n(6119),m=n(9751),p=n(8395),h=n(4846),g=n(5483),d=n(9681);let b=class extends r.w3{get bonusTypes(){return[{key:"cost",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.buildingCostTime.cost},{key:"time",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.buildingCostTime.time}]}buildings=f.ax.map((e=>e.type));get limits(){const e=d.Nw.intergalacticEnvoys,t=(0,l.K)({type:a.f.TechCostReduction,tech:e}),n=(0,l.K)({type:a.f.TechTimeReduction,tech:e});return{cost:e=>null!=t?Math.max(e,-t):e,time:e=>null!=n?Math.max(e,-n):e}}techs=h.LN;get technologyBonuses(){const e=d.Nw.intergalacticEnvoys,t=["cost","time"],n=(0,m.a)(t,(()=>0)),i=(0,g.c)(p.p.empire);return this.empirePlanets.forEach((o=>{this.techs.filter((e=>o.activeLifeformTechnologies.includes(e.type))).forEach((s=>t.forEach((t=>{const r=s.getResearchCostAndTimeReduction(e,o.lifeformTechnologies[s.type])[t],c=i[o.id];n[t]+=-1*r*(1+c)}))))})),n}get empirePlanets(){return p.p.empire.planetOrder.map((e=>p.p.empire.planets[e])).filter((e=>!e.isMoon))}get planets(){return(0,m.r)(this.empirePlanets,(e=>e.id),(e=>{const t=u.IU[e.activeLifeform].filter((e=>this.buildings.includes(e))),n=(0,m.a)(["cost","time"],(n=>(0,m.a)(t,(t=>-1*f.ry[t].getLifeformTechnologyResearchCostAndTimeReduction(e.lifeformBuildings[t])[n]))));return{planet:e,bonusByBuilding:n}}))}};b=(0,s.gn)([(0,r.wA)({components:{LifeformPlanetBonusesComponent:c.Z}})],b);const y=b,T=y;var v=n(1001),B=(0,v.Z)(T,i,o,!1,null,null,null);const k=B.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianMvNjUyMi45M2ExZTEyNS5qcyIsIm1hcHBpbmdzIjoiNExBT08sU0FBU0EsRUFBMkJDLEdBQ3ZDLE1BQU1DLEVBQVVDLE9BQU9DLE9BQU9ILEVBQU9DLFNBQVNHLFFBQU9DLElBQU1BLEVBQUVDLFNBQ3ZEQyxHQUEwQixPQUFhTixFQUFRTyxLQUFJSCxHQUFLQSxFQUFFSSxLQUFLLEdBRS9EQyxHQUF1QixPQUN6QixNQUNBQyxJQUFNLFFBQWdDWCxFQUFPWSxtQkFBbUJELE1BRXBFLElBQUssTUFBTUUsS0FBVVosRUFBUyxDQUMxQixHQUFJWSxFQUFPQyxnQkFBa0IsVUFDekIsU0FHSixNQUFNQyxFQUFhTCxFQUFxQkcsRUFBT0MsZ0JBRXpDRSxFQUEyQixLQUFtREgsRUFBT0MsZ0JBQ3JGRyxFQUFrQkQsRUFBeUJFLFFBQU8sQ0FBQ0MsRUFBT0MsS0FDNUQsTUFBTUMsRUFBUVIsRUFBT1Msa0JBQWtCRixFQUFTRyxNQUMxQ0MsRUFBUUosRUFBU3JCLDJCQUEyQnNCLEdBQ2xELE9BQU9GLEVBQVFLLElBQ2hCLEdBRUdDLEVBQWlCVixFQUFhRSxFQUNwQ1YsRUFBd0JNLEVBQU9KLElBQU1nQixFQUd6QyxPQUFPbEIsSSxrRENqQ1gsTUFBTW1CLEVBQWdCLEtBRWYsU0FBU0MsRUFBZ0NDLEdBQzVDLE1BQU1QLEVBQVFRLEVBQWlCRCxHQUMvQixPQUFPUCxFQUFRSyxFQUdaLFNBQVNHLEVBQWlCRCxHQUM3QixJQUFJLElBQUlQLEVBQVEsR0FBS0EsSUFBUyxDQUMxQixNQUFNUyxFQUFjQyxFQUFvQ1YsRUFBUSxHQUNoRSxHQUFHUyxFQUFjRixFQUNiLE9BQU9QLEdBU1osU0FBU1UsRUFBb0NWLEdBQ2hELE9BQU8sSUFBTUEsR0FBU0EsRUFBUSxHQUFLLEksNkNDckJ2QyxJQUFJVyxFQUFTLFdBQWEsSUFBSUMsRUFBSUMsS0FBU0MsRUFBR0YsRUFBSUcsZUFBbUJDLEVBQUdKLEVBQUlLLE1BQU1ELElBQUlGLEVBQUcsT0FBT0UsRUFBRyxvQ0FBb0MsQ0FBQ0UsTUFBTSxDQUFDLGtCQUFvQk4sRUFBSU8sa0JBQWtCLE1BQVFQLEVBQUlRLFdBQVcsVUFBWVIsRUFBSVMsVUFBVSxRQUFVVCxFQUFJaEMsUUFBUSxPQUFTZ0MsRUFBSVUsT0FBTyxzQ0FBc0MsbURBQ3RUQyxFQUFrQixHLHVIQ29DdEIseUJBQ0EsaUJBQ0EsT0FDQSxDQUNBLFdBQ0Esc0ZBRUEsQ0FDQSxXQUNBLHVGQUtBLGdDQUVBLGFBQ0EsaUNBRUEsK0NBQ0EsK0NBRUEsT0FDQSxpQ0FDQSxrQ0FJQSxXQUVBLHdCQUNBLGlDQUVBLGtCQUNBLHFCQUVBLHNCQVdBLE9BVkEsZ0NBQ0Esc0VBQ0EsMkJBQ0EsK0VBQ0EsVUFFQSx5QkFJQSxFQUdBLG9CQUNBLG1DQUNBLDJCQUNBLHVCQUdBLGNBQ0EsY0FDQSxvQkFFQSxVQUNBLElBQ0EsdUVBQ0EsVUFDQSxpQkFDQSxXQUNBLEdBQ0EsY0FDQSxpRkFJQSxPQUNBLFNBQ0Esd0JBMUVBLGFBTEEsU0FDQSxZQUNBLHVDQUdBLEcsVUNyQ3FlLEksY0NPamVDLEdBQVksT0FDZCxFQUNBYixFQUNBWSxHQUNBLEVBQ0EsS0FDQSxLQUNBLE1BSUYsUUFBZUMsRUFBaUIiLCJzb3VyY2VzIjpbIm9nYW1lLXRyYWNrZXI6Ly8vLi9zcmMvc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvYnVpbGRpbmdzL2dldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzLnRzIiwib2dhbWUtdHJhY2tlcjovLy8uL3NyYy9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9leHBlcmllbmNlLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy92aWV3cy9saWZlZm9ybXMvcGxhbmV0LWJvbnVzZXMvTGlmZWZvcm0tUmVzZWFyY2gtQ29zdC1UaW1lLnZ1ZT82YmUzIiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL3BsYW5ldC1ib251c2VzL0xpZmVmb3JtLVJlc2VhcmNoLUNvc3QtVGltZS52dWU/YjQ3NCIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL3BsYW5ldC1ib251c2VzL0xpZmVmb3JtLVJlc2VhcmNoLUNvc3QtVGltZS52dWU/ZjYwOCIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL3BsYW5ldC1ib251c2VzL0xpZmVmb3JtLVJlc2VhcmNoLUNvc3QtVGltZS52dWU/NDgwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb2NhbFBsYXllckRhdGEgfSBmcm9tIFwiQC9zaGFyZWQvbW9kZWxzL2VtcGlyZS9Mb2NhbFBsYXllckRhdGFcIjtcclxuaW1wb3J0IHsgUGxhbmV0RGF0YSB9IGZyb20gXCJAL3NoYXJlZC9tb2RlbHMvZW1waXJlL1BsYW5ldERhdGFcIjtcclxuaW1wb3J0IHsgY3JlYXRlUmVjb3JkIH0gZnJvbSBcIkAvc2hhcmVkL3V0aWxzL2NyZWF0ZVJlY29yZFwiO1xyXG5pbXBvcnQgeyBnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzIH0gZnJvbSBcIi4uL2V4cGVyaWVuY2VcIjtcclxuaW1wb3J0IHsgTGlmZWZvcm1UeXBlLCBWYWxpZExpZmVmb3JtVHlwZXMgfSBmcm9tIFwiLi4vTGlmZWZvcm1UeXBlXCI7XHJcbmltcG9ydCB7IExpZmVmb3JtVGVjaG5vbG9neUJvbnVzTGlmZWZvcm1CdWlsZGluZ3NCeUxpZmVmb3JtIH0gZnJvbSBcIi4vTGlmZWZvcm1CdWlsZGluZ3NcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMaWZlZm9ybVRlY2hub2xvZ3lCb251cyhwbGF5ZXI6IExvY2FsUGxheWVyRGF0YSk6IFJlY29yZDxudW1iZXIsIG51bWJlcj4ge1xyXG4gICAgY29uc3QgcGxhbmV0cyA9IE9iamVjdC52YWx1ZXMocGxheWVyLnBsYW5ldHMpLmZpbHRlcihwID0+ICFwLmlzTW9vbikgYXMgUGxhbmV0RGF0YVtdO1xyXG4gICAgY29uc3QgdGVjaG5vbG9neUJvbnVzQnlQbGFuZXQgPSBjcmVhdGVSZWNvcmQocGxhbmV0cy5tYXAocCA9PiBwLmlkKSwgMCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGxldmVsVGVjaG5vbG9neUJvbnVzID0gY3JlYXRlUmVjb3JkKFxyXG4gICAgICAgIFZhbGlkTGlmZWZvcm1UeXBlcyxcclxuICAgICAgICBsZiA9PiBnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzKHBsYXllci5saWZlZm9ybUV4cGVyaWVuY2VbbGZdKSxcclxuICAgICk7XHJcbiAgICBmb3IgKGNvbnN0IHBsYW5ldCBvZiBwbGFuZXRzKSB7XHJcbiAgICAgICAgaWYgKHBsYW5ldC5hY3RpdmVMaWZlZm9ybSA9PSBMaWZlZm9ybVR5cGUubm9uZSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGxldmVsQm9udXMgPSBsZXZlbFRlY2hub2xvZ3lCb251c1twbGFuZXQuYWN0aXZlTGlmZWZvcm1dO1xyXG5cclxuICAgICAgICBjb25zdCB0ZWNobm9sb2d5Qm9udXNCdWlsZGluZ3MgPSBMaWZlZm9ybVRlY2hub2xvZ3lCb251c0xpZmVmb3JtQnVpbGRpbmdzQnlMaWZlZm9ybVtwbGFuZXQuYWN0aXZlTGlmZWZvcm1dO1xyXG4gICAgICAgIGNvbnN0IHRlY2hub2xvZ3lCb251cyA9IHRlY2hub2xvZ3lCb251c0J1aWxkaW5ncy5yZWR1Y2UoKHRvdGFsLCBidWlsZGluZykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBsZXZlbCA9IHBsYW5ldC5saWZlZm9ybUJ1aWxkaW5nc1tidWlsZGluZy50eXBlXTtcclxuICAgICAgICAgICAgY29uc3QgYm9udXMgPSBidWlsZGluZy5nZXRMaWZlZm9ybVRlY2hub2xvZ3lCb251cyhsZXZlbCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0b3RhbCArIGJvbnVzO1xyXG4gICAgICAgIH0sIDApO1xyXG5cclxuICAgICAgICBjb25zdCB0b3RhbFRlY2hCb251cyA9IGxldmVsQm9udXMgKyB0ZWNobm9sb2d5Qm9udXM7XHJcbiAgICAgICAgdGVjaG5vbG9neUJvbnVzQnlQbGFuZXRbcGxhbmV0LmlkXSA9IHRvdGFsVGVjaEJvbnVzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0ZWNobm9sb2d5Qm9udXNCeVBsYW5ldDtcclxufSIsImNvbnN0IGJvbnVzUGVyTGV2ZWwgPSAwLjAwXzE7IC8vMC4xJVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExpZmVmb3JtTGV2ZWxUZWNobm9sb2d5Qm9udXMoZXhwZXJpZW5jZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGxldmVsID0gZ2V0TGlmZWZvcm1MZXZlbChleHBlcmllbmNlKTtcclxuICAgIHJldHVybiBsZXZlbCAqIGJvbnVzUGVyTGV2ZWw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMaWZlZm9ybUxldmVsKGV4cGVyaWVuY2U6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBmb3IobGV0IGxldmVsID0gMDsgOyBsZXZlbCsrKSB7XHJcbiAgICAgICAgY29uc3QgZXhwRm9yTGV2ZWwgPSBnZXRMaWZlZm9ybUV4cGVyaWVuY2VOZWVkZWRGb3JMZXZlbChsZXZlbCArIDEpO1xyXG4gICAgICAgIGlmKGV4cEZvckxldmVsID4gZXhwZXJpZW5jZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGV2ZWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhwZXJpZW5jZU5lZWRlZEZvckxldmVsVXAobGV2ZWw6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gOTAwICogbGV2ZWw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMaWZlZm9ybUV4cGVyaWVuY2VOZWVkZWRGb3JMZXZlbChsZXZlbDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiA5MDAgKiBsZXZlbCAqIChsZXZlbCArIDEpIC8gMjsgLy8gZ2F1c3NpYW4gc3VtbWF0aW9uIGZvcm11bGFcclxufSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdsaWZlZm9ybS1wbGFuZXQtYm9udXNlcy1jb21wb25lbnQnLHthdHRyczp7XCJ0ZWNobm9sb2d5Qm9udXNlc1wiOl92bS50ZWNobm9sb2d5Qm9udXNlcyxcInR5cGVzXCI6X3ZtLmJvbnVzVHlwZXMsXCJidWlsZGluZ3NcIjpfdm0uYnVpbGRpbmdzLFwicGxhbmV0c1wiOl92bS5wbGFuZXRzLFwibGltaXRzXCI6X3ZtLmxpbWl0cyxcInJlc2VhcmNoLWJvbnVzLWJyZWFrZG93bi1yb3V0ZS1uYW1lXCI6XCJsaWZlZm9ybXMvYm9udXMtYnJlYWtkb3duL3Jlc2VhcmNoLWNvc3QtdGltZVwifX0pfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XHJcbiAgICA8bGlmZWZvcm0tcGxhbmV0LWJvbnVzZXMtY29tcG9uZW50XHJcbiAgICAgICAgOnRlY2hub2xvZ3lCb251c2VzPVwidGVjaG5vbG9neUJvbnVzZXNcIiBcclxuICAgICAgICA6dHlwZXM9XCJib251c1R5cGVzXCIgXHJcbiAgICAgICAgOmJ1aWxkaW5ncz1cImJ1aWxkaW5nc1wiIFxyXG4gICAgICAgIDpwbGFuZXRzPVwicGxhbmV0c1wiIFxyXG4gICAgICAgIDpsaW1pdHM9XCJsaW1pdHNcIiBcclxuICAgICAgICByZXNlYXJjaC1ib251cy1icmVha2Rvd24tcm91dGUtbmFtZT1cImxpZmVmb3Jtcy9ib251cy1icmVha2Rvd24vcmVzZWFyY2gtY29zdC10aW1lXCIgXHJcbiAgICAvPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICAgIGltcG9ydCB7IFBsYW5ldERhdGEgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvZW1waXJlL1BsYW5ldERhdGEnO1xyXG4gICAgaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJztcclxuICAgIGltcG9ydCBMaWZlZm9ybVBsYW5ldEJvbnVzZXNDb21wb25lbnQsIHsgTGlmZWZvcm1QbGFuZXRCb251c2VzVHlwZSwgTGlmZWZvcm1QbGFuZXRCb251c2VzIH0gZnJvbSAnQC92aWV3cy9zdGF0cy9jb21wb25lbnRzL2xpZmVmb3Jtcy9MaWZlZm9ybVBsYW5ldEJvbnVzZXMudnVlJztcclxuICAgIGltcG9ydCB7IGdldExpZmVmb3JtQm9udXNMaW1pdCB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvTGlmZWZvcm1Cb251c0xpbWl0cyc7XHJcbiAgICBpbXBvcnQgeyBMaWZlZm9ybUJvbnVzVHlwZUlkIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9MaWZlZm9ybUJvbnVzVHlwZSc7XHJcbiAgICBpbXBvcnQgeyBMaWZlZm9ybUJ1aWxkaW5nVHlwZSwgTGlmZWZvcm1CdWlsZGluZ1R5cGVzQnlMaWZlZm9ybSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvTGlmZWZvcm1CdWlsZGluZ1R5cGUnO1xyXG4gICAgaW1wb3J0IHsgTGlmZWZvcm1CdWlsZGluZ3NCeVR5cGUsIExpZmVmb3JtVGVjaG5vbG9neVJlc2VhcmNoQnVpbGRpbmdzIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9idWlsZGluZ3MvTGlmZWZvcm1CdWlsZGluZ3MnO1xyXG4gICAgaW1wb3J0IHsgY3JlYXRlTWFwcGVkUmVjb3JkLCBjcmVhdGVSZWNvcmQgfSBmcm9tICdAL3NoYXJlZC91dGlscy9jcmVhdGVSZWNvcmQnO1xyXG4gICAgaW1wb3J0IHsgRW1waXJlRGF0YU1vZHVsZSB9IGZyb20gJ0Avdmlld3Mvc3RhdHMvZGF0YS9FbXBpcmVEYXRhTW9kdWxlJztcclxuICAgIGltcG9ydCB7IExpZmVmb3JtVGVjaG5vbG9neVJlc2VhcmNoQnVpbGRpbmcgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL2J1aWxkaW5ncy9pbnRlcmZhY2VzJztcclxuICAgIGltcG9ydCB7IFJlc2VhcmNoQ29zdEFuZFRpbWVSZWR1Y3Rpb25MaWZlZm9ybVRlY2hub2xvZ2llcyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvdGVjaG5vbG9naWVzL0xpZmVmb3JtVGVjaG5vbG9naWVzJztcclxuICAgIGltcG9ydCB7IGdldExpZmVmb3JtVGVjaG5vbG9neUJvbnVzIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9idWlsZGluZ3MvZ2V0TGlmZWZvcm1UZWNobm9sb2d5Qm9udXMnO1xyXG4gICAgaW1wb3J0IHsgUmVzZWFyY2hDb3N0QW5kVGltZVJlZHVjdGlvbkxpZmVmb3JtVGVjaG5vbG9neSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvdGVjaG5vbG9naWVzL2ludGVyZmFjZXMnO1xyXG4gICAgaW1wb3J0IHsgTGlmZWZvcm1UZWNobm9sb2d5VHlwZSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvTGlmZWZvcm1UZWNobm9sb2d5VHlwZSc7XHJcblxyXG4gICAgdHlwZSBCb251c2VzID0ge1xyXG4gICAgICAgIGNvc3Q6IG51bWJlcjtcclxuICAgICAgICB0aW1lOiBudW1iZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIEBDb21wb25lbnQoe1xyXG4gICAgICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICAgICAgTGlmZWZvcm1QbGFuZXRCb251c2VzQ29tcG9uZW50LFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICBleHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNvdXJjZVByb2R1Y3Rpb24gZXh0ZW5kcyBWdWUge1xyXG4gICAgICAgIHByaXZhdGUgZ2V0IGJvbnVzVHlwZXMoKTogTGlmZWZvcm1QbGFuZXRCb251c2VzVHlwZTxrZXlvZiBCb251c2VzPltdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdjb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uZW1waXJlLmxpZmVmb3Jtcy5yZXNlYXJjaEJvbnVzZXMuYnVpbGRpbmdDb3N0VGltZS5jb3N0LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICd0aW1lJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24uZW1waXJlLmxpZmVmb3Jtcy5yZXNlYXJjaEJvbnVzZXMuYnVpbGRpbmdDb3N0VGltZS50aW1lLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgYnVpbGRpbmdzOiBMaWZlZm9ybUJ1aWxkaW5nVHlwZVtdID0gTGlmZWZvcm1UZWNobm9sb2d5UmVzZWFyY2hCdWlsZGluZ3MubWFwKGIgPT4gYi50eXBlKTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgbGltaXRzKCk6IFJlY29yZDxrZXlvZiBCb251c2VzLCAodmFsdWU6IG51bWJlcikgPT4gbnVtYmVyPiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc2VhcmNoID0gTGlmZWZvcm1UZWNobm9sb2d5VHlwZS5pbnRlcmdhbGFjdGljRW52b3lzO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29zdExpbWl0ID0gZ2V0TGlmZWZvcm1Cb251c0xpbWl0KHsgdHlwZTogTGlmZWZvcm1Cb251c1R5cGVJZC5UZWNoQ29zdFJlZHVjdGlvbiwgdGVjaDogcmVzZWFyY2ggfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVMaW1pdCA9IGdldExpZmVmb3JtQm9udXNMaW1pdCh7IHR5cGU6IExpZmVmb3JtQm9udXNUeXBlSWQuVGVjaFRpbWVSZWR1Y3Rpb24sIHRlY2g6IHJlc2VhcmNoIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGNvc3Q6IHZhbHVlID0+IGNvc3RMaW1pdCAhPSBudWxsID8gTWF0aC5tYXgodmFsdWUsIC1jb3N0TGltaXQpIDogdmFsdWUsXHJcbiAgICAgICAgICAgICAgICB0aW1lOiB2YWx1ZSA9PiB0aW1lTGltaXQgIT0gbnVsbCA/IE1hdGgubWF4KHZhbHVlLCAtdGltZUxpbWl0KSA6IHZhbHVlLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSB0ZWNoczogUmVzZWFyY2hDb3N0QW5kVGltZVJlZHVjdGlvbkxpZmVmb3JtVGVjaG5vbG9neVtdID0gUmVzZWFyY2hDb3N0QW5kVGltZVJlZHVjdGlvbkxpZmVmb3JtVGVjaG5vbG9naWVzO1xyXG5cclxuICAgICAgICBwcml2YXRlIGdldCB0ZWNobm9sb2d5Qm9udXNlcygpOiBSZWNvcmQ8a2V5b2YgQm9udXNlcywgbnVtYmVyPiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc2VhcmNoID0gTGlmZWZvcm1UZWNobm9sb2d5VHlwZS5pbnRlcmdhbGFjdGljRW52b3lzO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qga2V5czogKGtleW9mIEJvbnVzZXMpW10gPSBbJ2Nvc3QnLCAndGltZSddO1xyXG4gICAgICAgICAgICBjb25zdCBnbG9iYWxCb251c2VzOiBSZWNvcmQ8a2V5b2YgQm9udXNlcywgbnVtYmVyPiA9IGNyZWF0ZVJlY29yZChrZXlzLCAoKSA9PiAwKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGxpZmVmb3JtVGVjaG5vbG9neUJvb3N0UGVyUGxhbmV0ID0gZ2V0TGlmZWZvcm1UZWNobm9sb2d5Qm9udXMoRW1waXJlRGF0YU1vZHVsZS5lbXBpcmUpO1xyXG4gICAgICAgICAgICB0aGlzLmVtcGlyZVBsYW5ldHMuZm9yRWFjaChwbGFuZXQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZWNocy5maWx0ZXIodGVjaCA9PiBwbGFuZXQuYWN0aXZlTGlmZWZvcm1UZWNobm9sb2dpZXMuaW5jbHVkZXModGVjaC50eXBlKSlcclxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCh0ZWNoID0+IGtleXMuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZWNoQm9udXMgPSB0ZWNoLmdldFJlc2VhcmNoQ29zdEFuZFRpbWVSZWR1Y3Rpb24ocmVzZWFyY2gsIHBsYW5ldC5saWZlZm9ybVRlY2hub2xvZ2llc1t0ZWNoLnR5cGVdKVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZWNoQm9vc3QgPSBsaWZlZm9ybVRlY2hub2xvZ3lCb29zdFBlclBsYW5ldFtwbGFuZXQuaWRdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsQm9udXNlc1trZXldICs9IC0xICogdGVjaEJvbnVzICogKDEgKyB0ZWNoQm9vc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsQm9udXNlcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGVtcGlyZVBsYW5ldHMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBFbXBpcmVEYXRhTW9kdWxlLmVtcGlyZS5wbGFuZXRPcmRlclxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoaWQgPT4gRW1waXJlRGF0YU1vZHVsZS5lbXBpcmUucGxhbmV0c1tpZF0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihwbGFuZXQgPT4gIXBsYW5ldC5pc01vb24pIGFzIFBsYW5ldERhdGFbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IHBsYW5ldHMoKTogUmVjb3JkPG51bWJlciwgTGlmZWZvcm1QbGFuZXRCb251c2VzPGtleW9mIEJvbnVzZXM+PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVNYXBwZWRSZWNvcmQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtcGlyZVBsYW5ldHMsXHJcblxyXG4gICAgICAgICAgICAgICAgcGxhbmV0ID0+IHBsYW5ldC5pZCxcclxuICAgICAgICAgICAgICAgIHBsYW5ldCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlQnVpbGRpbmdUeXBlcyA9IExpZmVmb3JtQnVpbGRpbmdUeXBlc0J5TGlmZWZvcm1bcGxhbmV0LmFjdGl2ZUxpZmVmb3JtXS5maWx0ZXIoYiA9PiB0aGlzLmJ1aWxkaW5ncy5pbmNsdWRlcyhiKSk7IFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvbnVzQnlCdWlsZGluZyA9IGNyZWF0ZVJlY29yZDxrZXlvZiBCb251c2VzLCBSZWNvcmQ8TGlmZWZvcm1CdWlsZGluZ1R5cGUsIG51bWJlcj4+KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWydjb3N0JywgJ3RpbWUnXSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPT4gY3JlYXRlUmVjb3JkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUJ1aWxkaW5nVHlwZXMsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPT4gLTEgKiAoTGlmZWZvcm1CdWlsZGluZ3NCeVR5cGVbdHlwZV0gYXMgTGlmZWZvcm1UZWNobm9sb2d5UmVzZWFyY2hCdWlsZGluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRMaWZlZm9ybVRlY2hub2xvZ3lSZXNlYXJjaENvc3RBbmRUaW1lUmVkdWN0aW9uKHBsYW5ldC5saWZlZm9ybUJ1aWxkaW5nc1t0eXBlXSlba2V5XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhbmV0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib251c0J5QnVpbGRpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuPC9zY3JpcHQ+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0xpZmVmb3JtLVJlc2VhcmNoLUNvc3QtVGltZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9MaWZlZm9ybS1SZXNlYXJjaC1Db3N0LVRpbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9MaWZlZm9ybS1SZXNlYXJjaC1Db3N0LVRpbWUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUwNTAwMWExJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL0xpZmVmb3JtLVJlc2VhcmNoLUNvc3QtVGltZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL0xpZmVmb3JtLVJlc2VhcmNoLUNvc3QtVGltZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyJdLCJuYW1lcyI6WyJnZXRMaWZlZm9ybVRlY2hub2xvZ3lCb251cyIsInBsYXllciIsInBsYW5ldHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJwIiwiaXNNb29uIiwidGVjaG5vbG9neUJvbnVzQnlQbGFuZXQiLCJtYXAiLCJpZCIsImxldmVsVGVjaG5vbG9neUJvbnVzIiwibGYiLCJsaWZlZm9ybUV4cGVyaWVuY2UiLCJwbGFuZXQiLCJhY3RpdmVMaWZlZm9ybSIsImxldmVsQm9udXMiLCJ0ZWNobm9sb2d5Qm9udXNCdWlsZGluZ3MiLCJ0ZWNobm9sb2d5Qm9udXMiLCJyZWR1Y2UiLCJ0b3RhbCIsImJ1aWxkaW5nIiwibGV2ZWwiLCJsaWZlZm9ybUJ1aWxkaW5ncyIsInR5cGUiLCJib251cyIsInRvdGFsVGVjaEJvbnVzIiwiYm9udXNQZXJMZXZlbCIsImdldExpZmVmb3JtTGV2ZWxUZWNobm9sb2d5Qm9udXMiLCJleHBlcmllbmNlIiwiZ2V0TGlmZWZvcm1MZXZlbCIsImV4cEZvckxldmVsIiwiZ2V0TGlmZWZvcm1FeHBlcmllbmNlTmVlZGVkRm9yTGV2ZWwiLCJyZW5kZXIiLCJfdm0iLCJ0aGlzIiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9jIiwiX3NlbGYiLCJhdHRycyIsInRlY2hub2xvZ3lCb251c2VzIiwiYm9udXNUeXBlcyIsImJ1aWxkaW5ncyIsImxpbWl0cyIsInN0YXRpY1JlbmRlckZucyIsImNvbXBvbmVudCJdLCJzb3VyY2VSb290IjoiIn0=