"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[9438],{6223:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.historyTrackingEnabled?n("div",{staticClass:"history"},[e.dataModuleLoading?n("loading-spinner"):[n("grid-table",{staticClass:"alliance-selection-table",attrs:{columns:e.tableColumns,items:e.tableItems},scopedSlots:e._u([{key:"cell-alliance",fn:function(t){var a=t.value;return[null==a?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedAllianceName,expression:"selectedAllianceName"}],staticStyle:{width:"100%"},attrs:{type:"text",placeholder:e.$i18n.$t.extension.universeHistory.allianceSelection.search,list:"alliance-list"},domProps:{value:e.selectedAllianceName},on:{change:function(t){return e.onAllianceSelected(t.target.value)},input:function(t){t.target.composing||(e.selectedAllianceName=t.target.value)}}}),n("datalist",{attrs:{id:"alliance-list"}},e._l(e.allianceNames,(function(t,a){return n("option",{key:a},[e._v(" "+e._s(t)+" ")])})),0)]:n("div",{staticClass:"list-item"},[n("span",{domProps:{textContent:e._s("["+a.tag+"] "+a.name)}})])]}}],null,!1,3867459686)}),n("tabs",{attrs:{tabs:e.tabs},scopedSlots:e._u([{key:"tab-content-tag",fn:function(){return[null!=e.allianceId?n("alliance-tag-history-table",{attrs:{allianceId:e.allianceId}}):e._e()]},proxy:!0},{key:"tab-content-name",fn:function(){return[null!=e.allianceId?n("alliance-name-history-table",{attrs:{allianceId:e.allianceId}}):e._e()]},proxy:!0},{key:"tab-content-members",fn:function(){return[null!=e.allianceId?n("alliance-member-history-table",{attrs:{allianceId:e.allianceId}}):e._e()]},proxy:!0}],null,!1,3248882413)})]],2):n("universe-history-tracking-settings")},l=[],i=n(655),s=n(7545),r=n(917),o=n(5038),c=n(4028),u=n(8364),d=n(5606),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("loading-spinner"):n("grid-table",{attrs:{columns:e.columns,items:e.items,inline:""},scopedSlots:e._u([{key:"cell-start",fn:function(t){var a=t.value;return[n("span",null!=a?{domProps:{textContent:e._s(e.$i18n.$d(a,"date"))}}:{domProps:{textContent:e._s("?")}})]}},{key:"cell--",fn:function(){return[e._v("-")]},proxy:!0},{key:"cell-end",fn:function(t){var a=t.value;return[n("span",null!=a?{domProps:{textContent:e._s(e.$i18n.$d(a,"date"))}}:{domProps:{textContent:e._s(e.$i18n.$t.extension.universeHistory.today)}})]}}])})},m=[];let g=class extends c.w3{allianceId;history=[];loading=!0;async onAllianceIdChanged(){this.history=await o.z.getAllianceTagHistory(this.allianceId),this.loading=!1}get columns(){return[{key:"tag",label:this.$i18n.$t.extension.universeHistory.tag},{key:"start",label:this.$i18n.$t.extension.universeHistory.from},{key:"-"},{key:"end",label:this.$i18n.$t.extension.universeHistory.until}]}get items(){return this.history.map(((e,t,n)=>{const a=0==t?null:e.date,l=n[t+1]?.date??null;return{tag:e.tag,start:a,end:l}})).reverse()}};(0,i.gn)([(0,c.fI)({required:!0,type:Number})],g.prototype,"allianceId",void 0),(0,i.gn)([(0,c.RL)("allianceId",{immediate:!0})],g.prototype,"onAllianceIdChanged",null),g=(0,i.gn)([(0,c.wA)({})],g);const h=g,p=h;var v=n(1001),b=(0,v.Z)(p,y,m,!1,null,null,null);const f=b.exports;var $=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("loading-spinner"):n("grid-table",{attrs:{columns:e.columns,items:e.items,inline:""},scopedSlots:e._u([{key:"cell-start",fn:function(t){var a=t.value;return[n("span",null!=a?{domProps:{textContent:e._s(e.$i18n.$d(a,"date"))}}:{domProps:{textContent:e._s("?")}})]}},{key:"cell--",fn:function(){return[e._v("-")]},proxy:!0},{key:"cell-end",fn:function(t){var a=t.value;return[n("span",null!=a?{domProps:{textContent:e._s(e.$i18n.$d(a,"date"))}}:{domProps:{textContent:e._s(e.$i18n.$t.extension.universeHistory.today)}})]}}])})},x=[];let k=class extends c.w3{allianceId;history=[];loading=!0;async onAllianceIdChanged(){this.history=await o.z.getAllianceNameHistory(this.allianceId),this.loading=!1}get columns(){return[{key:"name",label:this.$i18n.$t.extension.universeHistory.name},{key:"start",label:this.$i18n.$t.extension.universeHistory.from},{key:"-"},{key:"end",label:this.$i18n.$t.extension.universeHistory.until}]}get items(){return this.history.map(((e,t,n)=>{const a=0==t?null:e.date,l=n[t+1]?.date??null;return{name:e.name,start:a,end:l}})).reverse()}};(0,i.gn)([(0,c.fI)({required:!0,type:Number})],k.prototype,"allianceId",void 0),(0,i.gn)([(0,c.RL)("allianceId",{immediate:!0})],k.prototype,"onAllianceIdChanged",null),k=(0,i.gn)([(0,c.wA)({})],k);const I=k,_=I;var C=(0,v.Z)(_,$,x,!1,null,null,null);const A=C.exports;var H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("loading-spinner"):n("grid-table",{attrs:{columns:e.columns,items:e.items,inline:""},scopedSlots:e._u([{key:"cell-members",fn:function(t){var a=t.value;return[n("div",{staticClass:"member-list"},e._l(a,(function(t,a){return n("span",{key:a,domProps:{textContent:e._s(t)}})})),0)]}},{key:"cell-start",fn:function(t){var a=t.value;return[n("span",null!=a?{domProps:{textContent:e._s(e.$i18n.$d(a,"date"))}}:{domProps:{textContent:e._s("?")}})]}},{key:"cell--",fn:function(){return[e._v("-")]},proxy:!0},{key:"cell-end",fn:function(t){var a=t.value;return[n("span",null!=a?{domProps:{textContent:e._s(e.$i18n.$d(a,"date"))}}:{domProps:{textContent:e._s(e.$i18n.$t.extension.universeHistory.today)}})]}}])})},w=[];let S=class extends c.w3{allianceId;history=[];playerNames={};loading=!0;async onAllianceIdChanged(){this.history=await o.z.getAllianceMemberHistory(this.allianceId),this.playerNames=await o.z.getLatestPlayerNamesById(),this.loading=!1}get columns(){return[{key:"members",label:this.$i18n.$t.extension.universeHistory.members},{key:"start",label:this.$i18n.$t.extension.universeHistory.from},{key:"-"},{key:"end",label:this.$i18n.$t.extension.universeHistory.until}]}get items(){return this.history.map(((e,t,n)=>{const a=0==t?null:e.date,l=n[t+1]?.date??null;return{members:e.members.map((e=>this.playerNames[e])).sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))),start:a,end:l}})).reverse()}};(0,i.gn)([(0,c.fI)({required:!0,type:Number})],S.prototype,"allianceId",void 0),(0,i.gn)([(0,c.RL)("allianceId",{immediate:!0})],S.prototype,"onAllianceIdChanged",null),S=(0,i.gn)([(0,c.wA)({})],S);const N=S,T=N;var P=(0,v.Z)(T,H,w,!1,null,"e8050418",null);const L=P.exports;var z=n(5593);let D=class extends c.w3{get historyTrackingEnabled(){return r.V.settings.universeHistory.trackHistory}get tableColumns(){return[{key:"alliance",label:this.$i18n.$t.extension.universeHistory.allianceSelection.header,headerClass:"alliance-selection-table-cell",class:"alliance-selection-table-cell"}]}get tableItems(){return[{alliance:null},{alliance:this.selectedAlliance}].filter(((e,t,n)=>n.findIndex((t=>t.alliance==e.alliance))==t))}get tabs(){return[{key:"tag",label:this.$i18n.$t.extension.universeHistory.historyTabs.tags},{key:"name",label:this.$i18n.$t.extension.universeHistory.historyTabs.names},{key:"members",label:this.$i18n.$t.extension.universeHistory.historyTabs.members}]}get selectedAlliance(){return o.z.alliances.find((e=>e.id==this.allianceId))??null}get allianceId(){try{const e=(0,s.Y)(this.$route.query.alliance??"",10);return e}catch{return null}}dataModuleLoading=!0;selectedAllianceName="";async mounted(){await z.D.ready,await this.redirectToDefault(),this.dataModuleLoading=!0,await o.z.ready,this.dataModuleLoading=!1}async redirectToDefault(){if(null!=this.allianceId)return;const e=z.D.settings.universeHistory.alliances.history;null!=e&&await this.updateAllianceIdRoute(e)}updateSettings(e){const t=z.D.settings;z.D.updateSettings({...t,universeHistory:{...t.universeHistory,alliances:{...t.universeHistory.alliances,history:e}}})}async updateAllianceIdRoute(e){this.updateSettings(e),await this.$router.replace({query:{alliance:e.toString()}}),await this.redirectToDefault()}get allianceNames(){return o.z.alliances.map((e=>this.getAllyString(e))).sort()}getAllyString(e){return`[${e.tag}] ${e.name}`}async onAllianceSelected(e){const t=o.z.alliances.find((t=>this.getAllyString(t).toLowerCase()==e.toLowerCase()));null!=t&&(await this.$nextTick(),this.selectedAllianceName="",await this.updateAllianceIdRoute(t.id))}};D=(0,i.gn)([(0,c.wA)({components:{UniverseHistoryTrackingSettings:u.Z,StatusHistoryChart:d.Z,AllianceTagHistoryTable:f,AllianceNameHistoryTable:A,AllianceMemberHistoryTable:L}})],D);const E=D,M=E;var R=(0,v.Z)(M,a,l,!1,null,"5f2d6f89",null);const Z=R.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ly4vc3JjL3ZpZXdzL3N0YXRzL3ZpZXdzL3VuaXZlcnNlLWhpc3RvcnkvYWxsaWFuY2VzL0hpc3RvcnkudnVlP2Y0N2YiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9BbGxpYW5jZVRhZ0hpc3RvcnlUYWJsZS52dWU/NzJkNSIsIndlYnBhY2s6Ly8vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9BbGxpYW5jZVRhZ0hpc3RvcnlUYWJsZS52dWU/ZjE0NyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy91bml2ZXJzZS1oaXN0b3J5L0FsbGlhbmNlVGFnSGlzdG9yeVRhYmxlLnZ1ZT80NDM5Iiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3VuaXZlcnNlLWhpc3RvcnkvQWxsaWFuY2VUYWdIaXN0b3J5VGFibGUudnVlPzhiNWYiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9BbGxpYW5jZU5hbWVIaXN0b3J5VGFibGUudnVlPzU1OGYiLCJ3ZWJwYWNrOi8vL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3VuaXZlcnNlLWhpc3RvcnkvQWxsaWFuY2VOYW1lSGlzdG9yeVRhYmxlLnZ1ZT81NzljIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3VuaXZlcnNlLWhpc3RvcnkvQWxsaWFuY2VOYW1lSGlzdG9yeVRhYmxlLnZ1ZT8xOTUzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3VuaXZlcnNlLWhpc3RvcnkvQWxsaWFuY2VOYW1lSGlzdG9yeVRhYmxlLnZ1ZT83NWZkIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3VuaXZlcnNlLWhpc3RvcnkvQWxsaWFuY2VNZW1iZXJIaXN0b3J5VGFibGUudnVlPzM5MGUiLCJ3ZWJwYWNrOi8vL3NyYy92aWV3cy9zdGF0cy9jb21wb25lbnRzL3VuaXZlcnNlLWhpc3RvcnkvQWxsaWFuY2VNZW1iZXJIaXN0b3J5VGFibGUudnVlPzc1M2YiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9BbGxpYW5jZU1lbWJlckhpc3RvcnlUYWJsZS52dWU/YzdmYyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvY29tcG9uZW50cy91bml2ZXJzZS1oaXN0b3J5L0FsbGlhbmNlTWVtYmVySGlzdG9yeVRhYmxlLnZ1ZT9iNDgzIiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvdmlld3MvdW5pdmVyc2UtaGlzdG9yeS9hbGxpYW5jZXMvSGlzdG9yeS52dWU/NGQyMyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvdW5pdmVyc2UtaGlzdG9yeS9hbGxpYW5jZXMvSGlzdG9yeS52dWU/ZWIwZSIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvdW5pdmVyc2UtaGlzdG9yeS9hbGxpYW5jZXMvSGlzdG9yeS52dWU/YjY1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiAoX3ZtLmhpc3RvcnlUcmFja2luZ0VuYWJsZWQpP19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImhpc3RvcnlcIn0sWyhfdm0uZGF0YU1vZHVsZUxvYWRpbmcpP19jKCdsb2FkaW5nLXNwaW5uZXInKTpbX2MoJ2dyaWQtdGFibGUnLHtzdGF0aWNDbGFzczpcImFsbGlhbmNlLXNlbGVjdGlvbi10YWJsZVwiLGF0dHJzOntcImNvbHVtbnNcIjpfdm0udGFibGVDb2x1bW5zLFwiaXRlbXNcIjpfdm0udGFibGVJdGVtc30sc2NvcGVkU2xvdHM6X3ZtLl91KFt7a2V5OlwiY2VsbC1hbGxpYW5jZVwiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgYWxsaWFuY2UgPSByZWYudmFsdWU7XG5yZXR1cm4gWyhhbGxpYW5jZSA9PSBudWxsKT9bX2MoJ2lucHV0Jyx7ZGlyZWN0aXZlczpbe25hbWU6XCJtb2RlbFwiLHJhd05hbWU6XCJ2LW1vZGVsXCIsdmFsdWU6KF92bS5zZWxlY3RlZEFsbGlhbmNlTmFtZSksZXhwcmVzc2lvbjpcInNlbGVjdGVkQWxsaWFuY2VOYW1lXCJ9XSxzdGF0aWNTdHlsZTp7XCJ3aWR0aFwiOlwiMTAwJVwifSxhdHRyczp7XCJ0eXBlXCI6XCJ0ZXh0XCIsXCJwbGFjZWhvbGRlclwiOl92bS4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LmFsbGlhbmNlU2VsZWN0aW9uLnNlYXJjaCxcImxpc3RcIjpcImFsbGlhbmNlLWxpc3RcIn0sZG9tUHJvcHM6e1widmFsdWVcIjooX3ZtLnNlbGVjdGVkQWxsaWFuY2VOYW1lKX0sb246e1wiY2hhbmdlXCI6ZnVuY3Rpb24oJGV2ZW50KXtyZXR1cm4gX3ZtLm9uQWxsaWFuY2VTZWxlY3RlZCgkZXZlbnQudGFyZ2V0LnZhbHVlKX0sXCJpbnB1dFwiOmZ1bmN0aW9uKCRldmVudCl7aWYoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpeyByZXR1cm47IH1fdm0uc2VsZWN0ZWRBbGxpYW5jZU5hbWU9JGV2ZW50LnRhcmdldC52YWx1ZX19fSksX2MoJ2RhdGFsaXN0Jyx7YXR0cnM6e1wiaWRcIjpcImFsbGlhbmNlLWxpc3RcIn19LF92bS5fbCgoX3ZtLmFsbGlhbmNlTmFtZXMpLGZ1bmN0aW9uKG5hbWUsaSl7cmV0dXJuIF9jKCdvcHRpb24nLHtrZXk6aX0sW192bS5fdihcIiBcIitfdm0uX3MobmFtZSkrXCIgXCIpXSl9KSwwKV06X2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwibGlzdC1pdGVtXCJ9LFtfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKChcIltcIiArIChhbGxpYW5jZS50YWcpICsgXCJdIFwiICsgKGFsbGlhbmNlLm5hbWUpKSl9fSldKV19fV0sbnVsbCxmYWxzZSwzODY3NDU5Njg2KX0pLF9jKCd0YWJzJyx7YXR0cnM6e1widGFic1wiOl92bS50YWJzfSxzY29wZWRTbG90czpfdm0uX3UoW3trZXk6XCJ0YWItY29udGVudC10YWdcIixmbjpmdW5jdGlvbigpe3JldHVybiBbKF92bS5hbGxpYW5jZUlkICE9IG51bGwpP19jKCdhbGxpYW5jZS10YWctaGlzdG9yeS10YWJsZScse2F0dHJzOntcImFsbGlhbmNlSWRcIjpfdm0uYWxsaWFuY2VJZH19KTpfdm0uX2UoKV19LHByb3h5OnRydWV9LHtrZXk6XCJ0YWItY29udGVudC1uYW1lXCIsZm46ZnVuY3Rpb24oKXtyZXR1cm4gWyhfdm0uYWxsaWFuY2VJZCAhPSBudWxsKT9fYygnYWxsaWFuY2UtbmFtZS1oaXN0b3J5LXRhYmxlJyx7YXR0cnM6e1wiYWxsaWFuY2VJZFwiOl92bS5hbGxpYW5jZUlkfX0pOl92bS5fZSgpXX0scHJveHk6dHJ1ZX0se2tleTpcInRhYi1jb250ZW50LW1lbWJlcnNcIixmbjpmdW5jdGlvbigpe3JldHVybiBbKF92bS5hbGxpYW5jZUlkICE9IG51bGwpP19jKCdhbGxpYW5jZS1tZW1iZXItaGlzdG9yeS10YWJsZScse2F0dHJzOntcImFsbGlhbmNlSWRcIjpfdm0uYWxsaWFuY2VJZH19KTpfdm0uX2UoKV19LHByb3h5OnRydWV9XSxudWxsLGZhbHNlLDMyNDg4ODI0MTMpfSldXSwyKTpfYygndW5pdmVyc2UtaGlzdG9yeS10cmFja2luZy1zZXR0aW5ncycpfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiAoX3ZtLmxvYWRpbmcpP19jKCdsb2FkaW5nLXNwaW5uZXInKTpfYygnZ3JpZC10YWJsZScse2F0dHJzOntcImNvbHVtbnNcIjpfdm0uY29sdW1ucyxcIml0ZW1zXCI6X3ZtLml0ZW1zLFwiaW5saW5lXCI6XCJcIn0sc2NvcGVkU2xvdHM6X3ZtLl91KFt7a2V5OlwiY2VsbC1zdGFydFwiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgdmFsdWUgPSByZWYudmFsdWU7XG5yZXR1cm4gWyh2YWx1ZSAhPSBudWxsKT9fYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKF92bS4kaTE4bi4kZCh2YWx1ZSwgJ2RhdGUnKSl9fSk6X2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcygnPycpfX0pXX19LHtrZXk6XCJjZWxsLS1cIixmbjpmdW5jdGlvbigpe3JldHVybiBbX3ZtLl92KFwiLVwiKV19LHByb3h5OnRydWV9LHtrZXk6XCJjZWxsLWVuZFwiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgdmFsdWUgPSByZWYudmFsdWU7XG5yZXR1cm4gWyh2YWx1ZSAhPSBudWxsKT9fYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKF92bS4kaTE4bi4kZCh2YWx1ZSwgJ2RhdGUnKSl9fSk6X2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS50b2RheSl9fSldfX1dKX0pfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XHJcbiAgICA8bG9hZGluZy1zcGlubmVyIHYtaWY9XCJsb2FkaW5nXCIgLz5cclxuICAgIDxncmlkLXRhYmxlIHYtZWxzZSA6Y29sdW1ucz1cImNvbHVtbnNcIiA6aXRlbXM9XCJpdGVtc1wiIGlubGluZT5cclxuICAgICAgICA8dGVtcGxhdGUgI2NlbGwtc3RhcnQ9XCJ7IHZhbHVlIH1cIj5cclxuICAgICAgICAgICAgPHNwYW4gdi1pZj1cInZhbHVlICE9IG51bGxcIiB2LXRleHQ9XCIkaTE4bi4kZCh2YWx1ZSwgJ2RhdGUnKVwiIC8+XHJcbiAgICAgICAgICAgIDxzcGFuIHYtZWxzZSB2LXRleHQ9XCInPydcIiAvPlxyXG4gICAgICAgIDwvdGVtcGxhdGU+XHJcblxyXG4gICAgICAgIDx0ZW1wbGF0ZSAjY2VsbC0tPi08L3RlbXBsYXRlPlxyXG5cclxuICAgICAgICA8dGVtcGxhdGUgI2NlbGwtZW5kPVwieyB2YWx1ZSB9XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJ2YWx1ZSAhPSBudWxsXCIgdi10ZXh0PVwiJGkxOG4uJGQodmFsdWUsICdkYXRlJylcIiAvPlxyXG4gICAgICAgICAgICA8c3BhbiB2LWVsc2Ugdi10ZXh0PVwiJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS50b2RheVwiIC8+XHJcbiAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgIDwvZ3JpZC10YWJsZT5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgeyBPZ2FtZVRyYWNrZXJVbml2ZXJzZUhpc3RvcnlBbGxpYW5jZVRhZyB9IGZyb20gJ0Avc2hhcmVkL2RiL3NjaGVtYS91bml2ZXJzZS1oaXN0b3J5JztcclxuICAgIGltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG4gICAgaW1wb3J0IHsgVW5pdmVyc2VIaXN0b3J5RGF0YU1vZHVsZSB9IGZyb20gJy4uLy4uL2RhdGEvVW5pdmVyc2VIaXN0b3J5RGF0YU1vZHVsZSc7XHJcbiAgICBpbXBvcnQgeyBHcmlkVGFibGVDb2x1bW4gfSBmcm9tICcuLi9jb21tb24vR3JpZFRhYmxlLnZ1ZSc7XHJcblxyXG4gICAgaW50ZXJmYWNlIFRhZ0hpc3RvcnlJdGVtIHtcclxuICAgICAgICB0YWc6IHN0cmluZztcclxuICAgICAgICBzdGFydDogbnVtYmVyIHwgbnVsbDtcclxuICAgICAgICBlbmQ6IG51bWJlciB8IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgQENvbXBvbmVudCh7fSlcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsbGlhbmNlVGFnSGlzdG9yeVRhYmxlIGV4dGVuZHMgVnVlIHtcclxuICAgICAgICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBOdW1iZXIgfSlcclxuICAgICAgICBwcml2YXRlIGFsbGlhbmNlSWQhOiBudW1iZXI7XHJcblxyXG4gICAgICAgIHByaXZhdGUgaGlzdG9yeTogT2dhbWVUcmFja2VyVW5pdmVyc2VIaXN0b3J5QWxsaWFuY2VUYWdbXSA9IFtdO1xyXG4gICAgICAgIHByaXZhdGUgbG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIEBXYXRjaCgnYWxsaWFuY2VJZCcsIHsgaW1tZWRpYXRlOiB0cnVlIH0pXHJcbiAgICAgICAgcHJpdmF0ZSBhc3luYyBvbkFsbGlhbmNlSWRDaGFuZ2VkKCkge1xyXG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkgPSBhd2FpdCBVbml2ZXJzZUhpc3RvcnlEYXRhTW9kdWxlLmdldEFsbGlhbmNlVGFnSGlzdG9yeSh0aGlzLmFsbGlhbmNlSWQpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGNvbHVtbnMoKTogR3JpZFRhYmxlQ29sdW1uPGtleW9mIFRhZ0hpc3RvcnlJdGVtIHwgJy0nPltdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICd0YWcnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi51bml2ZXJzZUhpc3RvcnkudGFnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdzdGFydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS5mcm9tLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICctJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LnVudGlsLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGl0ZW1zKCk6IFRhZ0hpc3RvcnlJdGVtW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaXN0b3J5Lm1hcDxUYWdIaXN0b3J5SXRlbT4oKGl0ZW0sIGksIGhpc3RvcnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gaSA9PSAwID8gbnVsbCA6IGl0ZW0uZGF0ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IGhpc3RvcnlbaSArIDFdPy5kYXRlID8/IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0YWc6IGl0ZW0udGFnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pLnJldmVyc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG48L3NjcmlwdD4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQWxsaWFuY2VUYWdIaXN0b3J5VGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQWxsaWFuY2VUYWdIaXN0b3J5VGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9BbGxpYW5jZVRhZ0hpc3RvcnlUYWJsZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NjA3ZmUyNDQmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vQWxsaWFuY2VUYWdIaXN0b3J5VGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9BbGxpYW5jZVRhZ0hpc3RvcnlUYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIChfdm0ubG9hZGluZyk/X2MoJ2xvYWRpbmctc3Bpbm5lcicpOl9jKCdncmlkLXRhYmxlJyx7YXR0cnM6e1wiY29sdW1uc1wiOl92bS5jb2x1bW5zLFwiaXRlbXNcIjpfdm0uaXRlbXMsXCJpbmxpbmVcIjpcIlwifSxzY29wZWRTbG90czpfdm0uX3UoW3trZXk6XCJjZWxsLXN0YXJ0XCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnJldHVybiBbKHZhbHVlICE9IG51bGwpP19jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiRkKHZhbHVlLCAnZGF0ZScpKX19KTpfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKCc/Jyl9fSldfX0se2tleTpcImNlbGwtLVwiLGZuOmZ1bmN0aW9uKCl7cmV0dXJuIFtfdm0uX3YoXCItXCIpXX0scHJveHk6dHJ1ZX0se2tleTpcImNlbGwtZW5kXCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbnJldHVybiBbKHZhbHVlICE9IG51bGwpP19jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiRkKHZhbHVlLCAnZGF0ZScpKX19KTpfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKF92bS4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LnRvZGF5KX19KV19fV0pfSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cclxuICAgIDxsb2FkaW5nLXNwaW5uZXIgdi1pZj1cImxvYWRpbmdcIiAvPlxyXG4gICAgPGdyaWQtdGFibGUgdi1lbHNlIDpjb2x1bW5zPVwiY29sdW1uc1wiIDppdGVtcz1cIml0ZW1zXCIgaW5saW5lPlxyXG4gICAgICAgIDx0ZW1wbGF0ZSAjY2VsbC1zdGFydD1cInsgdmFsdWUgfVwiPlxyXG4gICAgICAgICAgICA8c3BhbiB2LWlmPVwidmFsdWUgIT0gbnVsbFwiIHYtdGV4dD1cIiRpMThuLiRkKHZhbHVlLCAnZGF0ZScpXCIgLz5cclxuICAgICAgICAgICAgPHNwYW4gdi1lbHNlIHYtdGV4dD1cIic/J1wiIC8+XHJcbiAgICAgICAgPC90ZW1wbGF0ZT5cclxuXHJcbiAgICAgICAgPHRlbXBsYXRlICNjZWxsLS0+LTwvdGVtcGxhdGU+XHJcblxyXG4gICAgICAgIDx0ZW1wbGF0ZSAjY2VsbC1lbmQ9XCJ7IHZhbHVlIH1cIj5cclxuICAgICAgICAgICAgPHNwYW4gdi1pZj1cInZhbHVlICE9IG51bGxcIiB2LXRleHQ9XCIkaTE4bi4kZCh2YWx1ZSwgJ2RhdGUnKVwiIC8+XHJcbiAgICAgICAgICAgIDxzcGFuIHYtZWxzZSB2LXRleHQ9XCIkaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LnRvZGF5XCIgLz5cclxuICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgPC9ncmlkLXRhYmxlPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICAgIGltcG9ydCB7IE9nYW1lVHJhY2tlclVuaXZlcnNlSGlzdG9yeUFsbGlhbmNlTmFtZSB9IGZyb20gJ0Avc2hhcmVkL2RiL3NjaGVtYS91bml2ZXJzZS1oaXN0b3J5JztcclxuICAgIGltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG4gICAgaW1wb3J0IHsgVW5pdmVyc2VIaXN0b3J5RGF0YU1vZHVsZSB9IGZyb20gJy4uLy4uL2RhdGEvVW5pdmVyc2VIaXN0b3J5RGF0YU1vZHVsZSc7XHJcbiAgICBpbXBvcnQgeyBHcmlkVGFibGVDb2x1bW4gfSBmcm9tICcuLi9jb21tb24vR3JpZFRhYmxlLnZ1ZSc7XHJcblxyXG4gICAgaW50ZXJmYWNlIE5hbWVIaXN0b3J5SXRlbSB7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nO1xyXG4gICAgICAgIHN0YXJ0OiBudW1iZXIgfCBudWxsO1xyXG4gICAgICAgIGVuZDogbnVtYmVyIHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBAQ29tcG9uZW50KHt9KVxyXG4gICAgZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxsaWFuY2VOYW1lSGlzdG9yeVRhYmxlIGV4dGVuZHMgVnVlIHtcclxuICAgICAgICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBOdW1iZXIgfSlcclxuICAgICAgICBwcml2YXRlIGFsbGlhbmNlSWQhOiBudW1iZXI7XHJcblxyXG4gICAgICAgIHByaXZhdGUgaGlzdG9yeTogT2dhbWVUcmFja2VyVW5pdmVyc2VIaXN0b3J5QWxsaWFuY2VOYW1lW10gPSBbXTtcclxuICAgICAgICBwcml2YXRlIGxvYWRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICBAV2F0Y2goJ2FsbGlhbmNlSWQnLCB7IGltbWVkaWF0ZTogdHJ1ZSB9KVxyXG4gICAgICAgIHByaXZhdGUgYXN5bmMgb25BbGxpYW5jZUlkQ2hhbmdlZCgpIHtcclxuICAgICAgICAgICAgdGhpcy5oaXN0b3J5ID0gYXdhaXQgVW5pdmVyc2VIaXN0b3J5RGF0YU1vZHVsZS5nZXRBbGxpYW5jZU5hbWVIaXN0b3J5KHRoaXMuYWxsaWFuY2VJZCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgY29sdW1ucygpOiBHcmlkVGFibGVDb2x1bW48a2V5b2YgTmFtZUhpc3RvcnlJdGVtIHwgJy0nPltdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICduYW1lJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3N0YXJ0JyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LmZyb20sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJy0nLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdlbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi51bml2ZXJzZUhpc3RvcnkudW50aWwsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgaXRlbXMoKTogTmFtZUhpc3RvcnlJdGVtW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaXN0b3J5Lm1hcDxOYW1lSGlzdG9yeUl0ZW0+KChpdGVtLCBpLCBoaXN0b3J5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgPT0gMCA/IG51bGwgOiBpdGVtLmRhdGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBoaXN0b3J5W2kgKyAxXT8uZGF0ZSA/PyBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pLnJldmVyc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG48L3NjcmlwdD4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNDBbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQWxsaWFuY2VOYW1lSGlzdG9yeVRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0FsbGlhbmNlTmFtZUhpc3RvcnlUYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0FsbGlhbmNlTmFtZUhpc3RvcnlUYWJsZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YmRmMGQ5MmMmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vQWxsaWFuY2VOYW1lSGlzdG9yeVRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vQWxsaWFuY2VOYW1lSGlzdG9yeVRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gKF92bS5sb2FkaW5nKT9fYygnbG9hZGluZy1zcGlubmVyJyk6X2MoJ2dyaWQtdGFibGUnLHthdHRyczp7XCJjb2x1bW5zXCI6X3ZtLmNvbHVtbnMsXCJpdGVtc1wiOl92bS5pdGVtcyxcImlubGluZVwiOlwiXCJ9LHNjb3BlZFNsb3RzOl92bS5fdShbe2tleTpcImNlbGwtbWVtYmVyc1wiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgdmFsdWUgPSByZWYudmFsdWU7XG5yZXR1cm4gW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcIm1lbWJlci1saXN0XCJ9LF92bS5fbCgodmFsdWUpLGZ1bmN0aW9uKHBsYXllcixpKXtyZXR1cm4gX2MoJ3NwYW4nLHtrZXk6aSxkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhwbGF5ZXIpfX0pfSksMCldfX0se2tleTpcImNlbGwtc3RhcnRcIixmbjpmdW5jdGlvbihyZWYpe1xudmFyIHZhbHVlID0gcmVmLnZhbHVlO1xucmV0dXJuIFsodmFsdWUgIT0gbnVsbCk/X2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJGQodmFsdWUsICdkYXRlJykpfX0pOl9jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoJz8nKX19KV19fSx7a2V5OlwiY2VsbC0tXCIsZm46ZnVuY3Rpb24oKXtyZXR1cm4gW192bS5fdihcIi1cIildfSxwcm94eTp0cnVlfSx7a2V5OlwiY2VsbC1lbmRcIixmbjpmdW5jdGlvbihyZWYpe1xudmFyIHZhbHVlID0gcmVmLnZhbHVlO1xucmV0dXJuIFsodmFsdWUgIT0gbnVsbCk/X2MoJ3NwYW4nLHtkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJGkxOG4uJGQodmFsdWUsICdkYXRlJykpfX0pOl9jKCdzcGFuJyx7ZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiR0LmV4dGVuc2lvbi51bml2ZXJzZUhpc3RvcnkudG9kYXkpfX0pXX19XSl9KX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxyXG4gICAgPGxvYWRpbmctc3Bpbm5lciB2LWlmPVwibG9hZGluZ1wiIC8+XHJcbiAgICA8Z3JpZC10YWJsZSB2LWVsc2UgOmNvbHVtbnM9XCJjb2x1bW5zXCIgOml0ZW1zPVwiaXRlbXNcIiBpbmxpbmU+XHJcbiAgICAgICAgPHRlbXBsYXRlICNjZWxsLW1lbWJlcnM9XCJ7IHZhbHVlIH1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lbWJlci1saXN0XCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiB2LWZvcj1cIihwbGF5ZXIsIGkpIGluIHZhbHVlXCIgOmtleT1cImlcIiB2LXRleHQ9XCJwbGF5ZXJcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L3RlbXBsYXRlPlxyXG5cclxuICAgICAgICA8dGVtcGxhdGUgI2NlbGwtc3RhcnQ9XCJ7IHZhbHVlIH1cIj5cclxuICAgICAgICAgICAgPHNwYW4gdi1pZj1cInZhbHVlICE9IG51bGxcIiB2LXRleHQ9XCIkaTE4bi4kZCh2YWx1ZSwgJ2RhdGUnKVwiIC8+XHJcbiAgICAgICAgICAgIDxzcGFuIHYtZWxzZSB2LXRleHQ9XCInPydcIiAvPlxyXG4gICAgICAgIDwvdGVtcGxhdGU+XHJcblxyXG4gICAgICAgIDx0ZW1wbGF0ZSAjY2VsbC0tPi08L3RlbXBsYXRlPlxyXG5cclxuICAgICAgICA8dGVtcGxhdGUgI2NlbGwtZW5kPVwieyB2YWx1ZSB9XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJ2YWx1ZSAhPSBudWxsXCIgdi10ZXh0PVwiJGkxOG4uJGQodmFsdWUsICdkYXRlJylcIiAvPlxyXG4gICAgICAgICAgICA8c3BhbiB2LWVsc2Ugdi10ZXh0PVwiJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS50b2RheVwiIC8+XHJcbiAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgIDwvZ3JpZC10YWJsZT5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgeyBPZ2FtZVRyYWNrZXJVbml2ZXJzZUhpc3RvcnlBbGxpYW5jZU1lbWJlcnMgfSBmcm9tICdAL3NoYXJlZC9kYi9zY2hlbWEvdW5pdmVyc2UtaGlzdG9yeSc7XHJcbiAgICBpbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJztcclxuICAgIGltcG9ydCB7IFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUgfSBmcm9tICcuLi8uLi9kYXRhL1VuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUnO1xyXG4gICAgaW1wb3J0IHsgR3JpZFRhYmxlQ29sdW1uIH0gZnJvbSAnLi4vY29tbW9uL0dyaWRUYWJsZS52dWUnO1xyXG5cclxuICAgIGludGVyZmFjZSBNZW1iZXJzSGlzdG9yeUl0ZW0ge1xyXG4gICAgICAgIG1lbWJlcnM6IHN0cmluZ1tdO1xyXG4gICAgICAgIHN0YXJ0OiBudW1iZXIgfCBudWxsO1xyXG4gICAgICAgIGVuZDogbnVtYmVyIHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBAQ29tcG9uZW50KHt9KVxyXG4gICAgZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxsaWFuY2VNZW1iZXJIaXN0b3J5VGFibGUgZXh0ZW5kcyBWdWUge1xyXG4gICAgICAgIEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHR5cGU6IE51bWJlciB9KVxyXG4gICAgICAgIHByaXZhdGUgYWxsaWFuY2VJZCE6IG51bWJlcjtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBoaXN0b3J5OiBPZ2FtZVRyYWNrZXJVbml2ZXJzZUhpc3RvcnlBbGxpYW5jZU1lbWJlcnNbXSA9IFtdO1xyXG4gICAgICAgIHByaXZhdGUgcGxheWVyTmFtZXM6IFJlY29yZDxudW1iZXIsIHN0cmluZz4gPSB7fTtcclxuICAgICAgICBwcml2YXRlIGxvYWRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICBAV2F0Y2goJ2FsbGlhbmNlSWQnLCB7IGltbWVkaWF0ZTogdHJ1ZSB9KVxyXG4gICAgICAgIHByaXZhdGUgYXN5bmMgb25BbGxpYW5jZUlkQ2hhbmdlZCgpIHtcclxuICAgICAgICAgICAgdGhpcy5oaXN0b3J5ID0gYXdhaXQgVW5pdmVyc2VIaXN0b3J5RGF0YU1vZHVsZS5nZXRBbGxpYW5jZU1lbWJlckhpc3RvcnkodGhpcy5hbGxpYW5jZUlkKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJOYW1lcyA9IGF3YWl0IFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUuZ2V0TGF0ZXN0UGxheWVyTmFtZXNCeUlkKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgY29sdW1ucygpOiBHcmlkVGFibGVDb2x1bW48a2V5b2YgTWVtYmVyc0hpc3RvcnlJdGVtIHwgJy0nPltdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdtZW1iZXJzJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5Lm1lbWJlcnMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3N0YXJ0JyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LmZyb20sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJy0nLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdlbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi51bml2ZXJzZUhpc3RvcnkudW50aWwsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgaXRlbXMoKTogTWVtYmVyc0hpc3RvcnlJdGVtW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaXN0b3J5Lm1hcDxNZW1iZXJzSGlzdG9yeUl0ZW0+KChpdGVtLCBpLCBoaXN0b3J5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgPT0gMCA/IG51bGwgOiBpdGVtLmRhdGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBoaXN0b3J5W2kgKyAxXT8uZGF0ZSA/PyBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyczogaXRlbS5tZW1iZXJzLm1hcChpZCA9PiB0aGlzLnBsYXllck5hbWVzW2lkXSkuc29ydCgoYSwgYikgPT4gYS50b0xvd2VyQ2FzZSgpLmxvY2FsZUNvbXBhcmUoYi50b0xvd2VyQ2FzZSgpKSksXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSkucmV2ZXJzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbjwvc2NyaXB0PlxyXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XHJcbiAgICAubWVtYmVyLWxpc3Qge1xyXG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTtcclxuICAgICAgICBqdXN0aWZ5LWl0ZW1zOiBzdGFydDtcclxuICAgICAgICBjb2x1bW4tZ2FwOiAxNnB4O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG48L3N0eWxlPiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9BbGxpYW5jZU1lbWJlckhpc3RvcnlUYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9BbGxpYW5jZU1lbWJlckhpc3RvcnlUYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0FsbGlhbmNlTWVtYmVySGlzdG9yeVRhYmxlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1lODA1MDQxOCZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9BbGxpYW5jZU1lbWJlckhpc3RvcnlUYWJsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL0FsbGlhbmNlTWVtYmVySGlzdG9yeVRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9BbGxpYW5jZU1lbWJlckhpc3RvcnlUYWJsZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD1lODA1MDQxOCZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcImU4MDUwNDE4XCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiPHRlbXBsYXRlPlxyXG4gICAgPGRpdiBjbGFzcz1cImhpc3RvcnlcIiB2LWlmPVwiaGlzdG9yeVRyYWNraW5nRW5hYmxlZFwiPlxyXG4gICAgICAgIDxsb2FkaW5nLXNwaW5uZXIgdi1pZj1cImRhdGFNb2R1bGVMb2FkaW5nXCIgLz5cclxuICAgICAgICA8dGVtcGxhdGUgdi1lbHNlPlxyXG4gICAgICAgICAgICA8Z3JpZC10YWJsZSA6Y29sdW1ucz1cInRhYmxlQ29sdW1uc1wiIDppdGVtcz1cInRhYmxlSXRlbXNcIiBjbGFzcz1cImFsbGlhbmNlLXNlbGVjdGlvbi10YWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlICNjZWxsLWFsbGlhbmNlPVwieyB2YWx1ZTogYWxsaWFuY2UgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwiYWxsaWFuY2UgPT0gbnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtbW9kZWw9XCJzZWxlY3RlZEFsbGlhbmNlTmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6cGxhY2Vob2xkZXI9XCIkaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LmFsbGlhbmNlU2VsZWN0aW9uLnNlYXJjaFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0PVwiYWxsaWFuY2UtbGlzdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2hhbmdlPVwib25BbGxpYW5jZVNlbGVjdGVkKCRldmVudC50YXJnZXQudmFsdWUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6IDEwMCVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGF0YWxpc3QgaWQ9XCJhbGxpYW5jZS1saXN0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHYtZm9yPVwiKG5hbWUsIGkpIGluIGFsbGlhbmNlTmFtZXNcIiA6a2V5PVwiaVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IG5hbWUgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2RhdGFsaXN0PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaXN0LWl0ZW1cIiB2LWVsc2U+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtdGV4dD1cImBbJHthbGxpYW5jZS50YWd9XSAke2FsbGlhbmNlLm5hbWV9YFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L2dyaWQtdGFibGU+XHJcblxyXG4gICAgICAgICAgICA8dGFicyA6dGFicz1cInRhYnNcIj5cclxuICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSAjdGFiLWNvbnRlbnQtdGFnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhbGxpYW5jZS10YWctaGlzdG9yeS10YWJsZSB2LWlmPVwiYWxsaWFuY2VJZCAhPSBudWxsXCIgOmFsbGlhbmNlSWQ9XCJhbGxpYW5jZUlkXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcblxyXG4gICAgICAgICAgICAgICAgPHRlbXBsYXRlICN0YWItY29udGVudC1uYW1lPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhbGxpYW5jZS1uYW1lLWhpc3RvcnktdGFibGUgdi1pZj1cImFsbGlhbmNlSWQgIT0gbnVsbFwiIDphbGxpYW5jZUlkPVwiYWxsaWFuY2VJZFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG5cclxuICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSAjdGFiLWNvbnRlbnQtbWVtYmVycz5cclxuICAgICAgICAgICAgICAgICAgICA8YWxsaWFuY2UtbWVtYmVyLWhpc3RvcnktdGFibGUgdi1pZj1cImFsbGlhbmNlSWQgIT0gbnVsbFwiIDphbGxpYW5jZUlkPVwiYWxsaWFuY2VJZFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L3RhYnM+XHJcbiAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgIDwvZGl2PlxyXG4gICAgPHVuaXZlcnNlLWhpc3RvcnktdHJhY2tpbmctc2V0dGluZ3Mgdi1lbHNlIC8+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG4gICAgaW1wb3J0IHsgcGFyc2VJbnRTYWZlIH0gZnJvbSAnQC9zaGFyZWQvdXRpbHMvcGFyc2VOdW1iZXJzJztcclxuICAgIGltcG9ydCB7IEdyaWRUYWJsZUNvbHVtbiB9IGZyb20gJ0Avdmlld3Mvc3RhdHMvY29tcG9uZW50cy9jb21tb24vR3JpZFRhYmxlLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBUYWIgfSBmcm9tICdAL3ZpZXdzL3N0YXRzL2NvbXBvbmVudHMvY29tbW9uL1RhYnMudnVlJztcclxuICAgIGltcG9ydCB7IFNldHRpbmdzRGF0YU1vZHVsZSB9IGZyb20gJ0Avdmlld3Mvc3RhdHMvZGF0YS9TZXR0aW5nc0RhdGFNb2R1bGUnO1xyXG4gICAgaW1wb3J0IHsgVW5pdmVyc2VIaXN0b3J5RGF0YU1vZHVsZSwgVW5pdmVyc2VIaXN0b3J5QWxsaWFuY2UgfSBmcm9tICdAL3ZpZXdzL3N0YXRzL2RhdGEvVW5pdmVyc2VIaXN0b3J5RGF0YU1vZHVsZSc7XHJcbiAgICBpbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InO1xyXG4gICAgaW1wb3J0IFVuaXZlcnNlSGlzdG9yeVRyYWNraW5nU2V0dGluZ3MgZnJvbSAnQHN0YXRzL2NvbXBvbmVudHMvc2V0dGluZ3MvVW5pdmVyc2VIaXN0b3J5VHJhY2tpbmdTZXR0aW5ncy52dWUnO1xyXG4gICAgaW1wb3J0IFN0YXR1c0hpc3RvcnlDaGFydCBmcm9tICdAc3RhdHMvY29tcG9uZW50cy91bml2ZXJzZS1oaXN0b3J5L1N0YXR1c0hpc3RvcnlDaGFydC52dWUnO1xyXG4gICAgaW1wb3J0IEFsbGlhbmNlVGFnSGlzdG9yeVRhYmxlIGZyb20gJ0BzdGF0cy9jb21wb25lbnRzL3VuaXZlcnNlLWhpc3RvcnkvQWxsaWFuY2VUYWdIaXN0b3J5VGFibGUudnVlJztcclxuICAgIGltcG9ydCBBbGxpYW5jZU5hbWVIaXN0b3J5VGFibGUgZnJvbSAnQHN0YXRzL2NvbXBvbmVudHMvdW5pdmVyc2UtaGlzdG9yeS9BbGxpYW5jZU5hbWVIaXN0b3J5VGFibGUudnVlJztcclxuICAgIGltcG9ydCBBbGxpYW5jZU1lbWJlckhpc3RvcnlUYWJsZSBmcm9tICdAc3RhdHMvY29tcG9uZW50cy91bml2ZXJzZS1oaXN0b3J5L0FsbGlhbmNlTWVtYmVySGlzdG9yeVRhYmxlLnZ1ZSc7XHJcbiAgICBpbXBvcnQgeyBVbml2ZXJzZVNwZWNpZmljU2V0dGluZ3NEYXRhTW9kdWxlIH0gZnJvbSAnQC92aWV3cy9zdGF0cy9kYXRhL1VuaXZlcnNlU3BlY2lmaWNTZXR0aW5nc0RhdGFNb2R1bGUnO1xyXG5cclxuXHJcbiAgICBAQ29tcG9uZW50KHtcclxuICAgICAgICBjb21wb25lbnRzOiB7XHJcbiAgICAgICAgICAgIFVuaXZlcnNlSGlzdG9yeVRyYWNraW5nU2V0dGluZ3MsXHJcbiAgICAgICAgICAgIFN0YXR1c0hpc3RvcnlDaGFydCxcclxuICAgICAgICAgICAgQWxsaWFuY2VUYWdIaXN0b3J5VGFibGUsXHJcbiAgICAgICAgICAgIEFsbGlhbmNlTmFtZUhpc3RvcnlUYWJsZSxcclxuICAgICAgICAgICAgQWxsaWFuY2VNZW1iZXJIaXN0b3J5VGFibGUsXHJcbiAgICAgICAgfSxcclxuICAgIH0pXHJcbiAgICBleHBvcnQgZGVmYXVsdCBjbGFzcyBIaXN0b3J5IGV4dGVuZHMgVnVlIHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgaGlzdG9yeVRyYWNraW5nRW5hYmxlZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFNldHRpbmdzRGF0YU1vZHVsZS5zZXR0aW5ncy51bml2ZXJzZUhpc3RvcnkudHJhY2tIaXN0b3J5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgdGFibGVDb2x1bW5zKCk6IEdyaWRUYWJsZUNvbHVtbjwnYWxsaWFuY2UnPltdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFt7XHJcbiAgICAgICAgICAgICAgICBrZXk6ICdhbGxpYW5jZScsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5LmFsbGlhbmNlU2VsZWN0aW9uLmhlYWRlcixcclxuICAgICAgICAgICAgICAgIGhlYWRlckNsYXNzOiAnYWxsaWFuY2Utc2VsZWN0aW9uLXRhYmxlLWNlbGwnLFxyXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdhbGxpYW5jZS1zZWxlY3Rpb24tdGFibGUtY2VsbCcsXHJcbiAgICAgICAgICAgIH1dO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgdGFibGVJdGVtcygpOiB7IGFsbGlhbmNlOiBVbml2ZXJzZUhpc3RvcnlBbGxpYW5jZSB8IG51bGwgfVtdIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHsgYWxsaWFuY2U6IG51bGwgfSxcclxuICAgICAgICAgICAgICAgIHsgYWxsaWFuY2U6IHRoaXMuc2VsZWN0ZWRBbGxpYW5jZSB9LFxyXG4gICAgICAgICAgICBdLmZpbHRlcigodmFsdWUsIGksIGFycmF5KSA9PiBhcnJheS5maW5kSW5kZXgodiA9PiB2LmFsbGlhbmNlID09IHZhbHVlLmFsbGlhbmNlKSA9PSBpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IHRhYnMoKTogVGFiW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3RhZycsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLnVuaXZlcnNlSGlzdG9yeS5oaXN0b3J5VGFicy50YWdzLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICduYW1lJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5Lmhpc3RvcnlUYWJzLm5hbWVzLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdtZW1iZXJzJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kaTE4bi4kdC5leHRlbnNpb24udW5pdmVyc2VIaXN0b3J5Lmhpc3RvcnlUYWJzLm1lbWJlcnMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgc2VsZWN0ZWRBbGxpYW5jZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUuYWxsaWFuY2VzLmZpbmQocCA9PiBwLmlkID09IHRoaXMuYWxsaWFuY2VJZCkgPz8gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGFsbGlhbmNlSWQoKTogbnVtYmVyIHwgbnVsbCB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbGxpYW5jZUlkID0gcGFyc2VJbnRTYWZlKHRoaXMuJHJvdXRlLnF1ZXJ5LmFsbGlhbmNlIGFzIHN0cmluZyB8IG51bGwgPz8gJycsIDEwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbGxpYW5jZUlkO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGRhdGFNb2R1bGVMb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICBwcml2YXRlIHNlbGVjdGVkQWxsaWFuY2VOYW1lID0gJyc7XHJcblxyXG4gICAgICAgIHByaXZhdGUgYXN5bmMgbW91bnRlZCgpIHtcclxuICAgICAgICAgICAgYXdhaXQgVW5pdmVyc2VTcGVjaWZpY1NldHRpbmdzRGF0YU1vZHVsZS5yZWFkeTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWRpcmVjdFRvRGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYXRhTW9kdWxlTG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGF3YWl0IFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUucmVhZHk7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YU1vZHVsZUxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgYXN5bmMgcmVkaXJlY3RUb0RlZmF1bHQoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbGlhbmNlSWQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0QWxsaWFuY2VJZCA9IFVuaXZlcnNlU3BlY2lmaWNTZXR0aW5nc0RhdGFNb2R1bGUuc2V0dGluZ3MudW5pdmVyc2VIaXN0b3J5LmFsbGlhbmNlcy5oaXN0b3J5O1xyXG4gICAgICAgICAgICBpZiAoZGVmYXVsdEFsbGlhbmNlSWQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVBbGxpYW5jZUlkUm91dGUoZGVmYXVsdEFsbGlhbmNlSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHVwZGF0ZVNldHRpbmdzKGFsbGlhbmNlSWQ6IG51bWJlcikge1xyXG4gICAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IFVuaXZlcnNlU3BlY2lmaWNTZXR0aW5nc0RhdGFNb2R1bGUuc2V0dGluZ3M7XHJcbiAgICAgICAgICAgIFVuaXZlcnNlU3BlY2lmaWNTZXR0aW5nc0RhdGFNb2R1bGUudXBkYXRlU2V0dGluZ3Moe1xyXG4gICAgICAgICAgICAgICAgLi4uc2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICB1bml2ZXJzZUhpc3Rvcnk6IHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5zZXR0aW5ncy51bml2ZXJzZUhpc3RvcnksXHJcbiAgICAgICAgICAgICAgICAgICAgYWxsaWFuY2VzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNldHRpbmdzLnVuaXZlcnNlSGlzdG9yeS5hbGxpYW5jZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpc3Rvcnk6IGFsbGlhbmNlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhc3luYyB1cGRhdGVBbGxpYW5jZUlkUm91dGUoaWQ6IG51bWJlcikge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNldHRpbmdzKGlkKTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuJHJvdXRlci5yZXBsYWNlKHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsaWFuY2U6IGlkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWRpcmVjdFRvRGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgYWxsaWFuY2VOYW1lcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFVuaXZlcnNlSGlzdG9yeURhdGFNb2R1bGUuYWxsaWFuY2VzXHJcbiAgICAgICAgICAgICAgICAubWFwKGFsbGlhbmNlID0+IHRoaXMuZ2V0QWxseVN0cmluZyhhbGxpYW5jZSkpXHJcbiAgICAgICAgICAgICAgICAuc29ydCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRBbGx5U3RyaW5nKGFsbGlhbmNlOiBVbml2ZXJzZUhpc3RvcnlBbGxpYW5jZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYFske2FsbGlhbmNlLnRhZ31dICR7YWxsaWFuY2UubmFtZX1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhc3luYyBvbkFsbGlhbmNlU2VsZWN0ZWQobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFsbGlhbmNlID0gVW5pdmVyc2VIaXN0b3J5RGF0YU1vZHVsZS5hbGxpYW5jZXMuZmluZChwID0+IHRoaXMuZ2V0QWxseVN0cmluZyhwKS50b0xvd2VyQ2FzZSgpID09IG5hbWUudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIGlmIChhbGxpYW5jZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuJG5leHRUaWNrKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBbGxpYW5jZU5hbWUgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlQWxsaWFuY2VJZFJvdXRlKGFsbGlhbmNlLmlkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbjwvc2NyaXB0PlxyXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XHJcbiAgICAuaGlzdG9yeSB7XHJcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcclxuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDIwMHB4IDFmcjtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB9XHJcblxyXG4gICAgLmxpc3Qge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIH1cclxuXHJcbiAgICAuYWxsaWFuY2Utc2VsZWN0aW9uIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XHJcblxyXG4gICAgICAgICYtdGFibGUge1xyXG4gICAgICAgICAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xyXG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XHJcblxyXG4gICAgICAgICAgICAmOjp2LWRlZXAge1xyXG4gICAgICAgICAgICAgICAgLmFsbGlhbmNlLXNlbGVjdGlvbi10YWJsZS1jZWxsIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEodmFyKC0tY29sb3IpLCAwLjUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5kYXRlLXJhbmdlIHtcclxuICAgICAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIGF1dG8gMWZyO1xyXG4gICAgICAgIGdhcDogNHB4O1xyXG4gICAgfVxyXG48L3N0eWxlPiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9IaXN0b3J5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTQwWzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS92dWUtbG9hZGVyLXYxNS9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0hpc3RvcnkudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPXRzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9IaXN0b3J5LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01ZjJkNmY4OSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9IaXN0b3J5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vSGlzdG9yeS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vSGlzdG9yeS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01ZjJkNmY4OSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3Z1ZS1sb2FkZXItdjE1L2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjVmMmQ2Zjg5XCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIl0sIm5hbWVzIjpbInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwiYXR0cnMiLCJ0YWJsZUNvbHVtbnMiLCJ0YWJsZUl0ZW1zIiwic2NvcGVkU2xvdHMiLCJfdSIsImtleSIsImZuIiwicmVmIiwiYWxsaWFuY2UiLCJ2YWx1ZSIsImRpcmVjdGl2ZXMiLCJuYW1lIiwicmF3TmFtZSIsImV4cHJlc3Npb24iLCJzdGF0aWNTdHlsZSIsIiRpMThuIiwiJHQiLCJleHRlbnNpb24iLCJ1bml2ZXJzZUhpc3RvcnkiLCJhbGxpYW5jZVNlbGVjdGlvbiIsInNlYXJjaCIsImRvbVByb3BzIiwib24iLCIkZXZlbnQiLCJvbkFsbGlhbmNlU2VsZWN0ZWQiLCJ0YXJnZXQiLCJjb21wb3NpbmciLCJzZWxlY3RlZEFsbGlhbmNlTmFtZSIsIl9sIiwiaSIsIl92IiwiX3MiLCJ0YWJzIiwiYWxsaWFuY2VJZCIsIl9lIiwicHJveHkiLCJzdGF0aWNSZW5kZXJGbnMiLCJjb2x1bW5zIiwiaXRlbXMiLCIkZCIsInRvZGF5IiwiY29tcG9uZW50IiwicGxheWVyIl0sInNvdXJjZVJvb3QiOiIifQ==