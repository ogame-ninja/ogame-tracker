"use strict";(globalThis["webpackChunkogame_tracker"]=globalThis["webpackChunkogame_tracker"]||[]).push([[6939],{8390:(e,s,t)=>{t.r(s),t.d(s,{default:()=>B});var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("select",{directives:[{name:"model",rawName:"v-model.number",value:e.ship,expression:"ship",modifiers:{number:!0}}],staticStyle:{display:"block","margin-bottom":"4px"},on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(s){var t="_value"in s?s._value:s.value;return e._n(t)}));e.ship=s.target.multiple?t:t[0]}}},e._l(e.Ships,(function(s){return t("option",{key:s,domProps:{value:s,textContent:e._s(e.$i18n.$t.ogame.ships[s])}})})),0),t("lifeform-bonuses-breakdown",{attrs:{types:e.bonusTypes,technologies:e.techs,planets:e.planets,limits:e.limits},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"start"}},[t("span",[t("o-ship",{staticClass:"mr-2",attrs:{ship:e.ship}}),t("span",{domProps:{textContent:e._s(e.$i18n.$t.ogame.ships[e.ship])}})],1)])]},proxy:!0}])})],1)},n=[],o=t(655),a=t(147),r=t(3418),l=t(4846),p=t(9751),h=t(8395),m=t(1786),c=t(4028),u=t(7385),d=t(2057),g=t(248),f=t(7848),b=t(7377);let y=class extends c.w3{bonusTypes=[{key:"armor",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.ships.armor},{key:"shield",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.ships.shield},{key:"damage",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.ships.damage},{key:"cargo",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.ships.cargo},{key:"speed",label:this.$i18n.$t.extension.empire.lifeforms.researchBonuses.ships.speed}];technologies=l.$z;get techs(){return this.technologies.filter((e=>e.appliesTo(this.ship))).map((e=>e.type))}get limits(){const e=(0,f.K)({type:b.f.StatsBonus,tech:this.ship});return{armor:s=>null!=e?Math.min(s,e):s,shield:s=>null!=e?Math.min(s,e):s,damage:s=>null!=e?Math.min(s,e):s,cargo:s=>null!=e?Math.min(s,e):s,speed:s=>null!=e?Math.min(s,e):s}}ship=d.g.largeCargo;Ships=g.GI;get planets(){return(0,p.r)(h.p.empire.planetOrder.map((e=>h.p.empire.planets[e])).filter((e=>!e.isMoon)),(e=>e.id),(e=>this.technologies.map((s=>{const t=this.getPlanetBonus(s,e);return{planet:e,technologyType:s.type,bonuses:(0,p.a)(["armor","shield","damage","cargo","speed"],(e=>({base:t.base[e],buildings:t.buildings[e],level:t.level[e],total:t.total[e]})))}}))))}get experience(){return h.p.lifeformExperience}getPlanetBonus(e,s){const t={base:{armor:0,shield:0,damage:0,cargo:0,speed:0},level:{armor:0,shield:0,damage:0,cargo:0,speed:0},buildings:{armor:0,shield:0,damage:0,cargo:0,speed:0},buildingsBoost:0,total:{armor:0,shield:0,damage:0,cargo:0,speed:0}};if(s.activeLifeform==r.e5.none||!s.activeLifeformTechnologies.includes(e.type)||!e.appliesTo(this.ship))return t;const i=Math.min((0,m.io)(s)[e.type],(0,f.K)({type:b.f.LifeformResearchBonusBoost})??Number.MAX_SAFE_INTEGER);t.buildingsBoost+=i;const n=e.getStatsBonus(this.ship,s.lifeformTechnologies[e.type]),o={armor:"armor",shield:"shield",damage:"damage",cargo:"cargo",speed:"speed"};return Object.entries(o).forEach((e=>{const[o,r]=e,l=n[r],p=l*(0,a.g1)(this.experience[s.activeLifeform]),h=l*i,m=l+p+h;t.base[o]+=l,t.level[o]+=p,t.buildings[o]+=h,t.total[o]+=m})),t}};y=(0,o.gn)([(0,c.wA)({components:{LifeformBonusesBreakdown:u.Z}})],y);const v=y,x=v;var k=t(1001),$=(0,k.Z)(x,i,n,!1,null,null,null);const B=$.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YWtkb3duL1NoaXBzLnZ1ZT83NGM4Iiwid2VicGFjazovLy9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL2JvbnVzLWJyZWFrZG93bi9TaGlwcy52dWU/MTQzZiIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL2JvbnVzLWJyZWFrZG93bi9TaGlwcy52dWU/ZWY2OSIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc3RhdHMvdmlld3MvbGlmZWZvcm1zL2JvbnVzLWJyZWFrZG93bi9TaGlwcy52dWU/MWQ3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2JyxbX2MoJ3NlbGVjdCcse2RpcmVjdGl2ZXM6W3tuYW1lOlwibW9kZWxcIixyYXdOYW1lOlwidi1tb2RlbC5udW1iZXJcIix2YWx1ZTooX3ZtLnNoaXApLGV4cHJlc3Npb246XCJzaGlwXCIsbW9kaWZpZXJzOntcIm51bWJlclwiOnRydWV9fV0sc3RhdGljU3R5bGU6e1wiZGlzcGxheVwiOlwiYmxvY2tcIixcIm1hcmdpbi1ib3R0b21cIjpcIjRweFwifSxvbjp7XCJjaGFuZ2VcIjpmdW5jdGlvbigkZXZlbnQpe3ZhciAkJHNlbGVjdGVkVmFsID0gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKCRldmVudC50YXJnZXQub3B0aW9ucyxmdW5jdGlvbihvKXtyZXR1cm4gby5zZWxlY3RlZH0pLm1hcChmdW5jdGlvbihvKXt2YXIgdmFsID0gXCJfdmFsdWVcIiBpbiBvID8gby5fdmFsdWUgOiBvLnZhbHVlO3JldHVybiBfdm0uX24odmFsKX0pOyBfdm0uc2hpcD0kZXZlbnQudGFyZ2V0Lm11bHRpcGxlID8gJCRzZWxlY3RlZFZhbCA6ICQkc2VsZWN0ZWRWYWxbMF19fX0sX3ZtLl9sKChfdm0uU2hpcHMpLGZ1bmN0aW9uKHNoaXApe3JldHVybiBfYygnb3B0aW9uJyx7a2V5OnNoaXAsZG9tUHJvcHM6e1widmFsdWVcIjpzaGlwLFwidGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRpMThuLiR0Lm9nYW1lLnNoaXBzW3NoaXBdKX19KX0pLDApLF9jKCdsaWZlZm9ybS1ib251c2VzLWJyZWFrZG93bicse2F0dHJzOntcInR5cGVzXCI6X3ZtLmJvbnVzVHlwZXMsXCJ0ZWNobm9sb2dpZXNcIjpfdm0udGVjaHMsXCJwbGFuZXRzXCI6X3ZtLnBsYW5ldHMsXCJsaW1pdHNcIjpfdm0ubGltaXRzfSxzY29wZWRTbG90czpfdm0uX3UoW3trZXk6XCJoZWFkZXJcIixmbjpmdW5jdGlvbigpe3JldHVybiBbX2MoJ2Rpdicse3N0YXRpY1N0eWxlOntcImRpc3BsYXlcIjpcImZsZXhcIixcImZsZXgtZGlyZWN0aW9uXCI6XCJjb2x1bW5cIixcImFsaWduLWl0ZW1zXCI6XCJzdGFydFwifX0sW19jKCdzcGFuJyxbX2MoJ28tc2hpcCcse3N0YXRpY0NsYXNzOlwibXItMlwiLGF0dHJzOntcInNoaXBcIjpfdm0uc2hpcH19KSxfYygnc3Bhbicse2RvbVByb3BzOntcInRleHRDb250ZW50XCI6X3ZtLl9zKF92bS4kaTE4bi4kdC5vZ2FtZS5zaGlwc1tfdm0uc2hpcF0pfX0pXSwxKV0pXX0scHJveHk6dHJ1ZX1dKX0pXSwxKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxyXG4gICAgPGRpdj5cclxuICAgICAgICA8c2VsZWN0IHYtbW9kZWwubnVtYmVyPVwic2hpcFwiIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IG1hcmdpbi1ib3R0b206IDRweFwiPlxyXG4gICAgICAgICAgICA8b3B0aW9uIHYtZm9yPVwic2hpcCBpbiBTaGlwc1wiIDprZXk9XCJzaGlwXCIgOnZhbHVlPVwic2hpcFwiIHYtdGV4dD1cIiRpMThuLiR0Lm9nYW1lLnNoaXBzW3NoaXBdXCIgLz5cclxuICAgICAgICA8L3NlbGVjdD5cclxuXHJcbiAgICAgICAgPGxpZmVmb3JtLWJvbnVzZXMtYnJlYWtkb3duIDp0eXBlcz1cImJvbnVzVHlwZXNcIiA6dGVjaG5vbG9naWVzPVwidGVjaHNcIiA6cGxhbmV0cz1cInBsYW5ldHNcIiA6bGltaXRzPVwibGltaXRzXCI+XHJcbiAgICAgICAgICAgIDx0ZW1wbGF0ZSAjaGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGFsaWduLWl0ZW1zOiBzdGFydFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8by1zaGlwIDpzaGlwPVwic2hpcFwiIGNsYXNzPVwibXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtdGV4dD1cIiRpMThuLiR0Lm9nYW1lLnNoaXBzW3NoaXBdXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICA8L2xpZmVmb3JtLWJvbnVzZXMtYnJlYWtkb3duPlxyXG4gICAgPC9kaXY+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG4gICAgaW1wb3J0IHsgUGxhbmV0RGF0YSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9lbXBpcmUvUGxhbmV0RGF0YSc7XHJcbiAgICBpbXBvcnQgeyBnZXRMaWZlZm9ybUxldmVsVGVjaG5vbG9neUJvbnVzIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9leHBlcmllbmNlJztcclxuICAgIGltcG9ydCB7IExpZmVmb3JtVGVjaG5vbG9neVR5cGUgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL0xpZmVmb3JtVGVjaG5vbG9neVR5cGUnO1xyXG4gICAgaW1wb3J0IHsgTGlmZWZvcm1UeXBlLCBWYWxpZExpZmVmb3JtVHlwZSB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9saWZlZm9ybXMvTGlmZWZvcm1UeXBlJztcclxuICAgIGltcG9ydCB7IFN0YXRzQm9udXMsIFN0YXRzQm9udXNMaWZlZm9ybVRlY2hub2xvZ3kgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL3RlY2hub2xvZ2llcy9pbnRlcmZhY2VzJztcclxuICAgIGltcG9ydCB7IExpZmVmb3JtVGVjaG5vbG9naWVzQnlUeXBlLCBTdGF0c0JvbnVzTGlmZWZvcm1UZWNobm9sb2dpZXMgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL3RlY2hub2xvZ2llcy9MaWZlZm9ybVRlY2hub2xvZ2llcyc7XHJcbiAgICBpbXBvcnQgeyBjcmVhdGVNYXBwZWRSZWNvcmQsIGNyZWF0ZVJlY29yZCB9IGZyb20gJ0Avc2hhcmVkL3V0aWxzL2NyZWF0ZVJlY29yZCc7XHJcbiAgICBpbXBvcnQgeyBFbXBpcmVEYXRhTW9kdWxlIH0gZnJvbSAnQC92aWV3cy9zdGF0cy9kYXRhL0VtcGlyZURhdGFNb2R1bGUnO1xyXG4gICAgaW1wb3J0IHsgZ2V0UGxhbmV0TGlmZWZvcm1UZWNobm9sb2d5Qm9vc3QgfSBmcm9tICdAL3ZpZXdzL3N0YXRzL21vZGVscy9saWZlZm9ybXMnO1xyXG4gICAgaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJztcclxuICAgIGltcG9ydCBMaWZlZm9ybUJvbnVzZXNCcmVha2Rvd24sIHsgTGlmZWZvcm1Cb251c2VzQnJlYWtkb3duVHlwZSwgTGlmZWZvcm1Cb251c2VzUGxhbmV0QnJlYWtkb3duIH0gZnJvbSAnQC92aWV3cy9zdGF0cy9jb21wb25lbnRzL2xpZmVmb3Jtcy9MaWZlZm9ybUJvbnVzZXNCcmVha2Rvd24udnVlJztcclxuICAgIGltcG9ydCB7IFNoaXBUeXBlIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL3NoaXBzL1NoaXBUeXBlJztcclxuICAgIGltcG9ydCB7IFNoaXBUeXBlcyB9IGZyb20gJ0Avc2hhcmVkL21vZGVscy9vZ2FtZS9zaGlwcy9TaGlwVHlwZXMnO1xyXG5pbXBvcnQgeyBnZXRMaWZlZm9ybUJvbnVzTGltaXQgfSBmcm9tICdAL3NoYXJlZC9tb2RlbHMvb2dhbWUvbGlmZWZvcm1zL0xpZmVmb3JtQm9udXNMaW1pdHMnO1xyXG5pbXBvcnQgeyBMaWZlZm9ybUJvbnVzVHlwZUlkIH0gZnJvbSAnQC9zaGFyZWQvbW9kZWxzL29nYW1lL2xpZmVmb3Jtcy9MaWZlZm9ybUJvbnVzVHlwZSc7XHJcblxyXG4gICAgdHlwZSBTdGF0c0JvbnVzZXMgPSB7XHJcbiAgICAgICAgYXJtb3I6IG51bWJlcjtcclxuICAgICAgICBzaGllbGQ6IG51bWJlcjtcclxuICAgICAgICBkYW1hZ2U6IG51bWJlcjtcclxuICAgICAgICBjYXJnbzogbnVtYmVyO1xyXG4gICAgICAgIHNwZWVkOiBudW1iZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHR5cGUgU2hpcEJvbnVzQnJlYWtkb3duID0ge1xyXG4gICAgICAgIGJhc2U6IFN0YXRzQm9udXNlcztcclxuICAgICAgICBsZXZlbDogU3RhdHNCb251c2VzO1xyXG4gICAgICAgIGJ1aWxkaW5nczogU3RhdHNCb251c2VzO1xyXG4gICAgICAgIGJ1aWxkaW5nc0Jvb3N0OiBudW1iZXI7XHJcbiAgICAgICAgdG90YWw6IFN0YXRzQm9udXNlcztcclxuICAgIH07XHJcblxyXG4gICAgQENvbXBvbmVudCh7XHJcbiAgICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICAgICBMaWZlZm9ybUJvbnVzZXNCcmVha2Rvd24sXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4cGVkaXRpb25zIGV4dGVuZHMgVnVlIHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBib251c1R5cGVzOiBMaWZlZm9ybUJvbnVzZXNCcmVha2Rvd25UeXBlPGtleW9mIFN0YXRzQm9udXNlcz5bXSA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5OiAnYXJtb3InLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmVtcGlyZS5saWZlZm9ybXMucmVzZWFyY2hCb251c2VzLnNoaXBzLmFybW9yLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBrZXk6ICdzaGllbGQnLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmVtcGlyZS5saWZlZm9ybXMucmVzZWFyY2hCb251c2VzLnNoaXBzLnNoaWVsZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5OiAnZGFtYWdlJyxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5lbXBpcmUubGlmZWZvcm1zLnJlc2VhcmNoQm9udXNlcy5zaGlwcy5kYW1hZ2UsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGtleTogJ2NhcmdvJyxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLiRpMThuLiR0LmV4dGVuc2lvbi5lbXBpcmUubGlmZWZvcm1zLnJlc2VhcmNoQm9udXNlcy5zaGlwcy5jYXJnbyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5OiAnc3BlZWQnLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuJGkxOG4uJHQuZXh0ZW5zaW9uLmVtcGlyZS5saWZlZm9ybXMucmVzZWFyY2hCb251c2VzLnNoaXBzLnNwZWVkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgdGVjaG5vbG9naWVzID0gU3RhdHNCb251c0xpZmVmb3JtVGVjaG5vbG9naWVzO1xyXG4gICAgICAgIHByaXZhdGUgZ2V0IHRlY2hzKCk6IExpZmVmb3JtVGVjaG5vbG9neVR5cGVbXSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRlY2hub2xvZ2llc1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcih0ZWNoID0+IHRlY2guYXBwbGllc1RvKHRoaXMuc2hpcCkpXHJcbiAgICAgICAgICAgICAgICAubWFwKHQgPT4gdC50eXBlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IGxpbWl0cygpOiBSZWNvcmQ8a2V5b2YgU3RhdHNCb251c2VzLCAodmFsdWU6IG51bWJlcikgPT4gbnVtYmVyPiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gZ2V0TGlmZWZvcm1Cb251c0xpbWl0KHsgdHlwZTogTGlmZWZvcm1Cb251c1R5cGVJZC5TdGF0c0JvbnVzLCB0ZWNoOiB0aGlzLnNoaXAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBhcm1vcjogdmFsdWUgPT4gbGltaXQgIT0gbnVsbCA/IE1hdGgubWluKHZhbHVlLCBsaW1pdCkgOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIHNoaWVsZDogdmFsdWUgPT4gbGltaXQgIT0gbnVsbCA/IE1hdGgubWluKHZhbHVlLCBsaW1pdCkgOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIGRhbWFnZTogdmFsdWUgPT4gbGltaXQgIT0gbnVsbCA/IE1hdGgubWluKHZhbHVlLCBsaW1pdCkgOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIGNhcmdvOiB2YWx1ZSA9PiBsaW1pdCAhPSBudWxsID8gTWF0aC5taW4odmFsdWUsIGxpbWl0KSA6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgc3BlZWQ6IHZhbHVlID0+IGxpbWl0ICE9IG51bGwgPyBNYXRoLm1pbih2YWx1ZSwgbGltaXQpIDogdmFsdWUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHNoaXAgPSBTaGlwVHlwZS5sYXJnZUNhcmdvO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgU2hpcHMgPSBTaGlwVHlwZXM7XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0IHBsYW5ldHMoKTogUmVjb3JkPG51bWJlciwgTGlmZWZvcm1Cb251c2VzUGxhbmV0QnJlYWtkb3duPGtleW9mIFN0YXRzQm9udXNlcz5bXT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTWFwcGVkUmVjb3JkKFxyXG4gICAgICAgICAgICAgICAgRW1waXJlRGF0YU1vZHVsZS5lbXBpcmUucGxhbmV0T3JkZXJcclxuICAgICAgICAgICAgICAgICAgICAubWFwKGlkID0+IEVtcGlyZURhdGFNb2R1bGUuZW1waXJlLnBsYW5ldHNbaWRdKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocGxhbmV0ID0+ICFwbGFuZXQuaXNNb29uKSBhcyBQbGFuZXREYXRhW10sXHJcbiAgICAgICAgICAgICAgICBwbGFuZXQgPT4gcGxhbmV0LmlkLFxyXG4gICAgICAgICAgICAgICAgcGxhbmV0ID0+IHRoaXMudGVjaG5vbG9naWVzXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcDxMaWZlZm9ybUJvbnVzZXNQbGFuZXRCcmVha2Rvd248a2V5b2YgU3RhdHNCb251c2VzPj4odGVjaCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYW5ldEJvbnVzZXMgPSB0aGlzLmdldFBsYW5ldEJvbnVzKHRlY2gsIHBsYW5ldCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhbmV0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVjaG5vbG9neVR5cGU6IHRlY2gudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbnVzZXM6IGNyZWF0ZVJlY29yZDxrZXlvZiBTdGF0c0JvbnVzZXMsIExpZmVmb3JtQm9udXNlc1BsYW5ldEJyZWFrZG93blsnYm9udXNlcyddW3N0cmluZ10+KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnYXJtb3InLCAnc2hpZWxkJywgJ2RhbWFnZScsICdjYXJnbycsICdzcGVlZCddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiBwbGFuZXRCb251c2VzLmJhc2Vba2V5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdzOiBwbGFuZXRCb251c2VzLmJ1aWxkaW5nc1trZXldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbDogcGxhbmV0Qm9udXNlcy5sZXZlbFtrZXldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogcGxhbmV0Qm9udXNlcy50b3RhbFtrZXldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXQgZXhwZXJpZW5jZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEVtcGlyZURhdGFNb2R1bGUubGlmZWZvcm1FeHBlcmllbmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRQbGFuZXRCb251cyh0ZWNoOiBTdGF0c0JvbnVzTGlmZWZvcm1UZWNobm9sb2d5LCBwbGFuZXQ6IFBsYW5ldERhdGEpOiBTaGlwQm9udXNCcmVha2Rvd24ge1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFNoaXBCb251c0JyZWFrZG93biA9IHtcclxuICAgICAgICAgICAgICAgIGJhc2U6IHsgYXJtb3I6IDAsIHNoaWVsZDogMCwgZGFtYWdlOiAwLCBjYXJnbzogMCwgc3BlZWQ6IDAgfSxcclxuICAgICAgICAgICAgICAgIGxldmVsOiB7IGFybW9yOiAwLCBzaGllbGQ6IDAsIGRhbWFnZTogMCwgY2FyZ286IDAsIHNwZWVkOiAwIH0sXHJcbiAgICAgICAgICAgICAgICBidWlsZGluZ3M6IHsgYXJtb3I6IDAsIHNoaWVsZDogMCwgZGFtYWdlOiAwLCBjYXJnbzogMCwgc3BlZWQ6IDAgfSxcclxuICAgICAgICAgICAgICAgIGJ1aWxkaW5nc0Jvb3N0OiAwLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IHsgYXJtb3I6IDAsIHNoaWVsZDogMCwgZGFtYWdlOiAwLCBjYXJnbzogMCwgc3BlZWQ6IDAgfSxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwbGFuZXQuYWN0aXZlTGlmZWZvcm0gPT0gTGlmZWZvcm1UeXBlLm5vbmVcclxuICAgICAgICAgICAgICAgIHx8ICFwbGFuZXQuYWN0aXZlTGlmZWZvcm1UZWNobm9sb2dpZXMuaW5jbHVkZXModGVjaC50eXBlKVxyXG4gICAgICAgICAgICAgICAgfHwgIXRlY2guYXBwbGllc1RvKHRoaXMuc2hpcClcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdzQm9vc3QgPSBNYXRoLm1pbihcclxuICAgICAgICAgICAgICAgIGdldFBsYW5ldExpZmVmb3JtVGVjaG5vbG9neUJvb3N0KHBsYW5ldClbdGVjaC50eXBlXSxcclxuICAgICAgICAgICAgICAgIGdldExpZmVmb3JtQm9udXNMaW1pdCh7IHR5cGU6IExpZmVmb3JtQm9udXNUeXBlSWQuTGlmZWZvcm1SZXNlYXJjaEJvbnVzQm9vc3QgfSkgPz8gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5idWlsZGluZ3NCb29zdCArPSBidWlsZGluZ3NCb29zdDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJvbnVzZXMgPSB0ZWNoLmdldFN0YXRzQm9udXModGhpcy5zaGlwLCBwbGFuZXQubGlmZWZvcm1UZWNobm9sb2dpZXNbdGVjaC50eXBlXSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtYXBwaW5nOiBSZWNvcmQ8a2V5b2YgU3RhdHNCb251c2VzLCBrZXlvZiBTdGF0c0JvbnVzPiA9IHtcclxuICAgICAgICAgICAgICAgIGFybW9yOiAnYXJtb3InLFxyXG4gICAgICAgICAgICAgICAgc2hpZWxkOiAnc2hpZWxkJyxcclxuICAgICAgICAgICAgICAgIGRhbWFnZTogJ2RhbWFnZScsXHJcbiAgICAgICAgICAgICAgICBjYXJnbzogJ2NhcmdvJyxcclxuICAgICAgICAgICAgICAgIHNwZWVkOiAnc3BlZWQnLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAoT2JqZWN0LmVudHJpZXMobWFwcGluZykgYXMgW2tleW9mIFN0YXRzQm9udXNlcywga2V5b2YgU3RhdHNCb251c11bXSkuZm9yRWFjaChwYWlyID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFtib251c1R5cGUsIHN0YXRzVHlwZV0gPSBwYWlyO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VCb251cyA9IGJvbnVzZXNbc3RhdHNUeXBlXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpZmVmb3JtTGV2ZWxCb251cyA9IGJhc2VCb251cyAqIGdldExpZmVmb3JtTGV2ZWxUZWNobm9sb2d5Qm9udXModGhpcy5leHBlcmllbmNlW3BsYW5ldC5hY3RpdmVMaWZlZm9ybSBhcyBWYWxpZExpZmVmb3JtVHlwZV0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGlmZWZvcm1CdWlsZGluZ0JvbnVzID0gYmFzZUJvbnVzICogYnVpbGRpbmdzQm9vc3Q7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSBiYXNlQm9udXMgKyBsaWZlZm9ybUxldmVsQm9udXMgKyBsaWZlZm9ybUJ1aWxkaW5nQm9udXM7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LmJhc2VbYm9udXNUeXBlXSArPSBiYXNlQm9udXM7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQubGV2ZWxbYm9udXNUeXBlXSArPSBsaWZlZm9ybUxldmVsQm9udXM7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQuYnVpbGRpbmdzW2JvbnVzVHlwZV0gKz0gbGlmZWZvcm1CdWlsZGluZ0JvbnVzO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnRvdGFsW2JvbnVzVHlwZV0gKz0gdG90YWw7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbjwvc2NyaXB0PiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9TaGlwcy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC00MFswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9TaGlwcy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL1NoaXBzLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kMjJkNDllNiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9TaGlwcy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9dHMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL1NoaXBzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz10cyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvdnVlLWxvYWRlci12MTUvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIl0sIm5hbWVzIjpbInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsImRpcmVjdGl2ZXMiLCJuYW1lIiwicmF3TmFtZSIsInZhbHVlIiwiZXhwcmVzc2lvbiIsIm1vZGlmaWVycyIsInN0YXRpY1N0eWxlIiwib24iLCIkZXZlbnQiLCIkJHNlbGVjdGVkVmFsIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJmaWx0ZXIiLCJjYWxsIiwidGFyZ2V0Iiwib3B0aW9ucyIsIm8iLCJzZWxlY3RlZCIsIm1hcCIsInZhbCIsIl92YWx1ZSIsIl9uIiwic2hpcCIsIm11bHRpcGxlIiwiX2wiLCJrZXkiLCJkb21Qcm9wcyIsIl9zIiwiJGkxOG4iLCIkdCIsIm9nYW1lIiwic2hpcHMiLCJhdHRycyIsImJvbnVzVHlwZXMiLCJ0ZWNocyIsInBsYW5ldHMiLCJsaW1pdHMiLCJzY29wZWRTbG90cyIsIl91IiwiZm4iLCJzdGF0aWNDbGFzcyIsInByb3h5Iiwic3RhdGljUmVuZGVyRm5zIiwiY29tcG9uZW50Il0sInNvdXJjZVJvb3QiOiIifQ==